/*! For license information please see main.d779efcc.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var i=n(791),o=n(296);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},m={};function f(e,t,n,i,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!d.call(m,e)||!d.call(u,e)&&(p.test(e)?m[e]=!0:(u[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var B,I=Object.assign;function F(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),r=i.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function _(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=U(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function re(e,t){var n=U(t.value),i=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,de=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ue.hasOwnProperty(e)&&ue[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(ue).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ue[t]=ue[e]}))}));var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,ke=null;function Te(e){if(e=Co(e)){if("function"!==typeof Ee)throw Error(r(280));var t=e.stateNode;t&&(t=Eo(t),Ee(e.stateNode,e.type,t))}}function xe(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ne(){if(Se){var e=Se,t=ke;if(ke=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Le(e,t){return e(t)}function Pe(){}var De=!1;function Oe(e,t,n){if(De)return e(t,n);De=!0;try{return Le(e,t,n)}finally{De=!1,(null!==Se||null!==ke)&&(Pe(),Ne())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=Eo(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Re=!1;if(h)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(he){Re=!1}function He(e,t,n,i,o,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Be=!1,Ie=null,Fe=!1,je=null,ze={onError:function(e){Be=!0,Ie=e}};function _e(e,t,n,i,o,r,s,a,l){Be=!1,Ie=null,He.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Ve(e)!==e)throw Error(r(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(i=o.return)){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ue(o),e;if(s===i)return Ue(o),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,$e=o.unstable_requestPaint,Qe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,it=o.unstable_IdlePriority,ot=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?i=dt(a):0!==(r&=s)&&(i=dt(r))}else 0!==(s=n&~o)?i=dt(s):0!==r&&(i=dt(r));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(r=t&-t)||16===o&&0!==(4194240&r)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-st(t)),i|=e[n],t&=~o;return i}function ut(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var bt=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,St,kt,Tt,xt=!1,Nt=[],Lt=null,Pt=null,Dt=null,Ot=new Map,Mt=new Map,Rt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Bt(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=Co(t))&&Et(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function It(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Co(n))&&Et(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ce=i,n.target.dispatchEvent(i),Ce=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function zt(){xt=!1,null!==Lt&&Ft(Lt)&&(Lt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Dt&&Ft(Dt)&&(Dt=null),Ot.forEach(jt),Mt.forEach(jt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return _t(t,e)}if(0<Nt.length){_t(Nt[0],e);for(var n=1;n<Nt.length;n++){var i=Nt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Lt&&_t(Lt,e),null!==Pt&&_t(Pt,e),null!==Dt&&_t(Dt,e),Ot.forEach(t),Mt.forEach(t),n=0;n<Rt.length;n++)(i=Rt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)It(n),null===n.blockedOn&&Rt.shift()}var qt=C.ReactCurrentBatchConfig,Ut=!0;function Wt(e,t,n,i){var o=bt,r=qt.transition;qt.transition=null;try{bt=1,Yt(e,t,n,i)}finally{bt=o,qt.transition=r}}function Xt(e,t,n,i){var o=bt,r=qt.transition;qt.transition=null;try{bt=4,Yt(e,t,n,i)}finally{bt=o,qt.transition=r}}function Yt(e,t,n,i){if(Ut){var o=Gt(e,t,n,i);if(null===o)Ui(e,t,i,Kt,n),Ht(e,i);else if(function(e,t,n,i,o){switch(t){case"focusin":return Lt=Bt(Lt,e,t,n,i,o),!0;case"dragenter":return Pt=Bt(Pt,e,t,n,i,o),!0;case"mouseover":return Dt=Bt(Dt,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return Ot.set(r,Bt(Ot.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,Mt.set(r,Bt(Mt.get(r)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i))i.stopPropagation();else if(Ht(e,i),4&t&&-1<At.indexOf(e)){for(;null!==o;){var r=Co(o);if(null!==r&&wt(r),null===(r=Gt(e,t,n,i))&&Ui(e,t,i,Kt,n),r===o)break;o=r}null!==o&&i.stopPropagation()}else Ui(e,t,i,null,n)}}var Kt=null;function Gt(e,t,n,i){if(Kt=null,null!==(e=bo(e=we(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,i=n.length,o="value"in Qt?Qt.value:Qt.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,i,o,r){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:on,this.isPropagationStopped=on,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=rn(cn),dn=I({},cn,{view:0,detail:0}),pn=rn(dn),un=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),mn=rn(un),fn=rn(I({},un,{dataTransfer:0})),gn=rn(I({},dn,{relatedTarget:0})),vn=rn(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),Cn=rn(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return kn}var xn=I({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=rn(xn),Ln=rn(I({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Dn=rn(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=I({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=rn(On),Rn=[9,13,27,32],An=h&&"CompositionEvent"in window,Hn=null;h&&"documentMode"in document&&(Hn=document.documentMode);var Bn=h&&"TextEvent"in window&&!Hn,In=h&&(!An||Hn&&8<Hn&&11>=Hn),Fn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,i){xe(i),0<(t=Xi(t,"onChange")).length&&(n=new hn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Kn(e){Fi(e,0)}function Gn(e){if(Y(wo(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Xn&&(Xn.detachEvent("onpropertychange",ni),Yn=Xn=null)}function ni(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];Wn(t,Yn,e,we(e)),Oe(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(Xn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function oi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function ri(e,t){if("click"===e)return Gn(t)}function si(e,t){if("input"===e||"change"===e)return Gn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!d.call(t,o)||!ai(e[o],t[o]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=pi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&ui(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,r=Math.min(i.start,o);i=void 0===i.end?r:Math.min(i.end,o),!e.extend&&r>i&&(o=i,i=r,r=o),o=hi(n,r);var s=hi(n,i);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fi=h&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,bi=!1;function Ci(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==K(i)||("selectionStart"in(i=gi)&&ui(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Xi(vi,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Si={},ki={};function Ti(e){if(Si[e])return Si[e];if(!Ei[e])return e;var t,n=Ei[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Si[e]=n[t];return e}h&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);var xi=Ti("animationend"),Ni=Ti("animationiteration"),Li=Ti("animationstart"),Pi=Ti("transitionend"),Di=new Map,Oi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Di.set(e,t),l(t,[e])}for(var Ri=0;Ri<Oi.length;Ri++){var Ai=Oi[Ri];Mi(Ai.toLowerCase(),"on"+(Ai[0].toUpperCase()+Ai.slice(1)))}Mi(xi,"onAnimationEnd"),Mi(Ni,"onAnimationIteration"),Mi(Li,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Ii(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,s,a,l,c){if(_e.apply(this,arguments),Be){if(!Be)throw Error(r(198));var h=Ie;Be=!1,Ie=null,Fe||(Fe=!0,je=h)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;Ii(o,a,c),r=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;Ii(o,a,c),r=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function ji(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var i=e+"__bubble";n.has(i)||(qi(t,e,2,!1),n.add(i))}function zi(e,t,n){var i=0;t&&(i|=4),qi(n,e,i,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[_i]){e[_i]=!0,s.forEach((function(t){"selectionchange"!==t&&(Bi.has(t)||zi(t,!1,e),zi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_i]||(t[_i]=!0,zi("selectionchange",!1,t))}}function qi(e,t,n,i){switch($t(t)){case 1:var o=Wt;break;case 4:o=Xt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ui(e,t,n,i,o){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){i=r=s;continue e}a=a.parentNode}}i=i.return}Oe((function(){var i=r,o=we(n),s=[];e:{var a=Di.get(e);if(void 0!==a){var l=hn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case xi:case Ni:case Li:l=vn;break;case Pi:l=Dn;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ln}var h=0!==(4&t),d=!h&&"scroll"===e,p=h?null!==a?a+"Capture":null:a;h=[];for(var u,m=i;null!==m;){var f=(u=m).stateNode;if(5===u.tag&&null!==f&&(u=f,null!==p&&(null!=(f=Me(m,p))&&h.push(Wi(m,f,u)))),d)break;m=m.return}0<h.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ce||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[fo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(h=mn,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=Ln,f="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==l?a:wo(l),u=null==c?a:wo(c),(a=new h(f,m+"leave",l,n,o)).target=d,a.relatedTarget=u,f=null,bo(o)===i&&((h=new h(p,m+"enter",c,n,o)).target=u,h.relatedTarget=d,f=h),d=f,l&&c)e:{for(p=c,m=0,u=h=l;u;u=Yi(u))m++;for(u=0,f=p;f;f=Yi(f))u++;for(;0<m-u;)h=Yi(h),m--;for(;0<u-m;)p=Yi(p),u--;for(;m--;){if(h===p||null!==p&&h===p.alternate)break e;h=Yi(h),p=Yi(p)}h=null}else h=null;null!==l&&Ki(s,a,l,h,!1),null!==c&&null!==d&&Ki(s,d,c,h,!0)}if("select"===(l=(a=i?wo(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Un(a))if(Qn)g=si;else{g=oi;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ri);switch(g&&(g=g(e,i))?Wn(s,g,n,o):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?wo(i):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,Ci(s,n,o);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":Ci(s,n,o)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Qt=o)?Qt.value:Qt.textContent,Vn=!0)),0<(v=Xi(i,b)).length&&(b=new Cn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=_n(n))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return _n(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!An&&zn(e,t)?(e=en(),Zt=Jt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Xi(i,"onBeforeInput")).length&&(o=new Cn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:i}),o.data=y))}Fi(s,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Me(e,n))&&i.unshift(Wi(e,r,o)),null!=(r=Me(e,t))&&i.push(Wi(e,r,o))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,o){for(var r=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Me(n,r))&&s.unshift(Wi(n,l,a)):o||null!=(l=Me(n,r))&&s.push(Wi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Gi,"\n").replace($i,"")}function Ji(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(r(425))}function Zi(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var io="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ro="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ro?function(e){return ro.resolve(null).then(e).catch(ao)}:io;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===i)return e.removeChild(o),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),uo="__reactFiber$"+po,mo="__reactProps$"+po,fo="__reactContainer$"+po,go="__reactEvents$"+po,vo="__reactListeners$"+po,yo="__reactHandles$"+po;function bo(e){var t=e[uo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fo]||n[uo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ho(e);null!==e;){if(n=e[uo])return n;e=ho(e)}return t}n=(e=n).parentNode}return null}function Co(e){return!(e=e[uo]||e[fo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Eo(e){return e[mo]||null}var So=[],ko=-1;function To(e){return{current:e}}function xo(e){0>ko||(e.current=So[ko],So[ko]=null,ko--)}function No(e,t){ko++,So[ko]=e.current,e.current=t}var Lo={},Po=To(Lo),Do=To(!1),Oo=Lo;function Mo(e,t){var n=e.type.contextTypes;if(!n)return Lo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ao(){xo(Do),xo(Po)}function Ho(e,t,n){if(Po.current!==Lo)throw Error(r(168));No(Po,t),No(Do,n)}function Bo(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(r(108,q(e)||"Unknown",o));return I({},n,i)}function Io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lo,Oo=Po.current,No(Po,e),No(Do,Do.current),!0}function Fo(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Bo(e,t,Oo),i.__reactInternalMemoizedMergedChildContext=e,xo(Do),xo(Po),No(Po,e)):xo(Do),No(Do,n)}var jo=null,zo=!1,_o=!1;function Vo(e){null===jo?jo=[e]:jo.push(e)}function qo(){if(!_o&&null!==jo){_o=!0;var e=0,t=bt;try{var n=jo;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}jo=null,zo=!1}catch(o){throw null!==jo&&(jo=jo.slice(e+1)),Ye(Ze,qo),o}finally{bt=t,_o=!1}}return null}var Uo=C.ReactCurrentBatchConfig;function Wo(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xo=To(null),Yo=null,Ko=null,Go=null;function $o(){Go=Ko=Yo=null}function Qo(e){var t=Xo.current;xo(Xo),e._currentValue=t}function Jo(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Zo(e,t){Yo=e,Go=Ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function er(e){var t=e._currentValue;if(Go!==e)if(e={context:e,memoizedValue:t,next:null},null===Ko){if(null===Yo)throw Error(r(308));Ko=e,Yo.dependencies={lanes:0,firstContext:e}}else Ko=Ko.next=e;return t}var tr=null,nr=!1;function ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===tr?tr=[n]:tr.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ar(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function lr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cr(e,t,n,i){var o=e.updateQueue;nr=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var h=e.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===a?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(null!==r){var d=o.baseState;for(s=0,h=c=l=null,a=r;;){var p=a.lane,u=a.eventTime;if((i&p)===p){null!==h&&(h=h.next={eventTime:u,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,f=a;switch(p=t,u=n,f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(u,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=f.payload)?m.call(u,d,p):m)||void 0===p)break e;d=I({},d,p);break e;case 2:nr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[a]:p.push(a))}else u={eventTime:u,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=u,l=d):h=h.next=u,s|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(p=a).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===h&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===r&&(o.shared.lanes=0);Rl|=s,e.lanes=s,e.memoizedState=d}}function hr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(r(191,o));o.call(i)}}}var dr=(new i.Component).refs;function pr(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ur={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ql(),o=Jl(e),r=rr(i,o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),sr(e,r),null!==(t=Zl(e,o,i))&&ar(t,e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ql(),o=Jl(e),r=rr(i,o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),sr(e,r),null!==(t=Zl(e,o,i))&&ar(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ql(),i=Jl(e),o=rr(n,i);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),sr(e,o),null!==(t=Zl(e,i,n))&&ar(t,e,i)}};function mr(e,t,n,i,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(o,r))}function fr(e,t,n){var i=!1,o=Lo,r=t.contextType;return"object"===typeof r&&null!==r?r=er(r):(o=Ro(t)?Oo:Po.current,r=(i=null!==(i=t.contextTypes)&&void 0!==i)?Mo(e,o):Lo),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ur,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function gr(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ur.enqueueReplaceState(t,t.state,null)}function vr(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=dr,ir(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=er(r):(r=Ro(t)?Oo:Po.current,o.context=Mo(e,r)),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(pr(e,t,r,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ur.enqueueReplaceState(o,o.state,null),cr(e,n,o,i),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}var yr=[],br=0,Cr=null,wr=0,Er=[],Sr=0,kr=null,Tr=1,xr="";function Nr(e,t){yr[br++]=wr,yr[br++]=Cr,Cr=e,wr=t}function Lr(e,t,n){Er[Sr++]=Tr,Er[Sr++]=xr,Er[Sr++]=kr,kr=e;var i=Tr;e=xr;var o=32-st(i)-1;i&=~(1<<o),n+=1;var r=32-st(t)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Tr=1<<32-st(t)+o|n<<o|i,xr=r+e}else Tr=1<<r|n<<o|i,xr=e}function Pr(e){null!==e.return&&(Nr(e,1),Lr(e,1,0))}function Dr(e){for(;e===Cr;)Cr=yr[--br],yr[br]=null,wr=yr[--br],yr[br]=null;for(;e===kr;)kr=Er[--Sr],Er[Sr]=null,xr=Er[--Sr],Er[Sr]=null,Tr=Er[--Sr],Er[Sr]=null}var Or=null,Mr=null,Rr=!1,Ar=null;function Hr(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Br(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Or=e,Mr=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Or=e,Mr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==kr?{id:Tr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Or=e,Mr=null,!0);default:return!1}}function Ir(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fr(e){if(Rr){var t=Mr;if(t){var n=t;if(!Br(e,t)){if(Ir(e))throw Error(r(418));t=co(n.nextSibling);var i=Or;t&&Br(e,t)?Hr(i,n):(e.flags=-4097&e.flags|2,Rr=!1,Or=e)}}else{if(Ir(e))throw Error(r(418));e.flags=-4097&e.flags|2,Rr=!1,Or=e}}}function jr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Or=e}function zr(e){if(e!==Or)return!1;if(!Rr)return jr(e),Rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=Mr)){if(Ir(e)){for(e=Mr;e;)e=co(e.nextSibling);throw Error(r(418))}for(;t;)Hr(e,t),t=co(t.nextSibling)}if(jr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Mr=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Mr=null}}else Mr=Or?co(e.stateNode.nextSibling):null;return!0}function _r(){Mr=Or=null,Rr=!1}function Vr(e){null===Ar?Ar=[e]:Ar.push(e)}function qr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;t===dr&&(t=o.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Ur(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wr(e){return(0,e._init)(e._payload)}function Xr(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Bc(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===S?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===M&&Wr(r)===t.type)?((i=o(t,n.props)).ref=qr(e,t,n),i.return=e,i):((i=Rc(n.type,n.key,n.props,null,e.mode,i)).ref=qr(e,t,n),i.return=e,i)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=Ac(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=qr(e,null,t),n.return=e,n;case E:return(t=Ic(t,e.mode,n)).return=e,t;case M:return p(e,(0,t._init)(t._payload),n)}if(te(t)||H(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Ur(e,t)}return null}function u(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,i):null;case E:return n.key===o?h(e,t,n,i):null;case M:return u(e,t,(o=n._init)(n._payload),i)}if(te(n)||H(n))return null!==o?null:d(e,t,n,i,null);Ur(e,n)}return null}function m(e,t,n,i,o){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o);case E:return h(t,e=e.get(null===i.key?n:i.key)||null,i,o);case M:return m(e,t,n,(0,i._init)(i._payload),o)}if(te(i)||H(i))return d(t,e=e.get(n)||null,i,o,null);Ur(t,i)}return null}function f(o,r,a,l){for(var c=null,h=null,d=r,f=r=0,g=null;null!==d&&f<a.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=u(o,d,a[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),r=s(v,r,f),null===h?c=v:h.sibling=v,h=v,d=g}if(f===a.length)return n(o,d),Rr&&Nr(o,f),c;if(null===d){for(;f<a.length;f++)null!==(d=p(o,a[f],l))&&(r=s(d,r,f),null===h?c=d:h.sibling=d,h=d);return Rr&&Nr(o,f),c}for(d=i(o,d);f<a.length;f++)null!==(g=m(d,o,f,a[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),r=s(g,r,f),null===h?c=g:h.sibling=g,h=g);return e&&d.forEach((function(e){return t(o,e)})),Rr&&Nr(o,f),c}function g(o,a,l,c){var h=H(l);if("function"!==typeof h)throw Error(r(150));if(null==(l=h.call(l)))throw Error(r(151));for(var d=h=null,f=a,g=a=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=u(o,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(o,f),a=s(b,a,g),null===d?h=b:d.sibling=b,d=b,f=v}if(y.done)return n(o,f),Rr&&Nr(o,g),h;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=p(o,y.value,c))&&(a=s(y,a,g),null===d?h=y:d.sibling=y,d=y);return Rr&&Nr(o,g),h}for(f=i(o,f);!y.done;g++,y=l.next())null!==(y=m(f,o,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?h=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(o,e)})),Rr&&Nr(o,g),h}return function e(i,r,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,h=r;null!==h;){if(h.key===c){if((c=s.type)===S){if(7===h.tag){n(i,h.sibling),(r=o(h,s.props.children)).return=i,i=r;break e}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Wr(c)===h.type){n(i,h.sibling),(r=o(h,s.props)).ref=qr(i,h,s),r.return=i,i=r;break e}n(i,h);break}t(i,h),h=h.sibling}s.type===S?((r=Ac(s.props.children,i.mode,l,s.key)).return=i,i=r):((l=Rc(s.type,s.key,s.props,null,i.mode,l)).ref=qr(i,r,s),l.return=i,i=l)}return a(i);case E:e:{for(h=s.key;null!==r;){if(r.key===h){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(i,r.sibling),(r=o(r,s.children||[])).return=i,i=r;break e}n(i,r);break}t(i,r),r=r.sibling}(r=Ic(s,i.mode,l)).return=i,i=r}return a(i);case M:return e(i,r,(h=s._init)(s._payload),l)}if(te(s))return f(i,r,s,l);if(H(s))return g(i,r,s,l);Ur(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(i,r.sibling),(r=o(r,s)).return=i,i=r):(n(i,r),(r=Bc(s,i.mode,l)).return=i,i=r),a(i)):n(i,r)}}var Yr=Xr(!0),Kr=Xr(!1),Gr={},$r=To(Gr),Qr=To(Gr),Jr=To(Gr);function Zr(e){if(e===Gr)throw Error(r(174));return e}function es(e,t){switch(No(Jr,t),No(Qr,e),No($r,Gr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xo($r),No($r,t)}function ts(){xo($r),xo(Qr),xo(Jr)}function ns(e){Zr(Jr.current);var t=Zr($r.current),n=le(t,e.type);t!==n&&(No(Qr,e),No($r,n))}function is(e){Qr.current===e&&(xo($r),xo(Qr))}var os=To(0);function rs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ss=[];function as(){for(var e=0;e<ss.length;e++)ss[e]._workInProgressVersionPrimary=null;ss.length=0}var ls=C.ReactCurrentDispatcher,cs=C.ReactCurrentBatchConfig,hs=0,ds=null,ps=null,us=null,ms=!1,fs=!1,gs=0,vs=0;function ys(){throw Error(r(321))}function bs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function Cs(e,t,n,i,o,s){if(hs=s,ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=null===e||null===e.memoizedState?ia:oa,e=n(i,o),fs){s=0;do{if(fs=!1,gs=0,25<=s)throw Error(r(301));s+=1,us=ps=null,t.updateQueue=null,ls.current=ra,e=n(i,o)}while(fs)}if(ls.current=na,t=null!==ps&&null!==ps.next,hs=0,us=ps=ds=null,ms=!1,t)throw Error(r(300));return e}function ws(){var e=0!==gs;return gs=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?ds.memoizedState=us=e:us=us.next=e,us}function Ss(){if(null===ps){var e=ds.alternate;e=null!==e?e.memoizedState:null}else e=ps.next;var t=null===us?ds.memoizedState:us.next;if(null!==t)us=t,ps=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ps=e).memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},null===us?ds.memoizedState=us=e:us=us.next=e}return us}function ks(e,t){return"function"===typeof t?t(e):t}function Ts(e){var t=Ss(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=ps,o=i.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,i=i.baseState;var l=a=null,c=null,h=s;do{var d=h.lane;if((hs&d)===d)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(l=c=p,a=i):c=c.next=p,ds.lanes|=d,Rl|=d}h=h.next}while(null!==h&&h!==s);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(wa=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,ds.lanes|=s,Rl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=Ss(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ai(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ns(){}function Ls(e,t){var n=ds,i=Ss(),o=t(),s=!ai(i.memoizedState,o);if(s&&(i.memoizedState=o,wa=!0),i=i.queue,js(Os.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,As(9,Ds.bind(null,n,i,o,t),void 0,null),null===xl)throw Error(r(349));0!==(30&hs)||Ps(n,t,o)}return o}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,i){t.value=n,t.getSnapshot=i,Ms(t)&&Zl(e,1,-1)}function Os(e,t,n){return n((function(){Ms(t)&&Zl(e,1,-1)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Rs(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,ds,e),[t.memoizedState,e]}function As(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Hs(){return Ss().memoizedState}function Bs(e,t,n,i){var o=Es();ds.flags|=e,o.memoizedState=As(1|t,n,void 0,void 0===i?null:i)}function Is(e,t,n,i){var o=Ss();i=void 0===i?null:i;var r=void 0;if(null!==ps){var s=ps.memoizedState;if(r=s.destroy,null!==i&&bs(i,s.deps))return void(o.memoizedState=As(t,n,r,i))}ds.flags|=e,o.memoizedState=As(1|t,n,r,i)}function Fs(e,t){return Bs(8390656,8,e,t)}function js(e,t){return Is(2048,8,e,t)}function zs(e,t){return Is(4,2,e,t)}function _s(e,t){return Is(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4,4,Vs.bind(null,t,e),n)}function Us(){}function Ws(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&bs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ss();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&bs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ys(e,t,n){return 0===(21&hs)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ai(n,t)||(n=ft(),ds.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ks(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=cs.transition;cs.transition={};try{e(!1),t()}finally{bt=n,cs.transition=i}}function Gs(){return Ss().memoizedState}function $s(e,t,n){var i=Jl(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e)?Zs(t,n):(ea(e,t,n),null!==(e=Zl(e,i,n=Ql()))&&ta(e,t,i))}function Qs(e,t,n){var i=Jl(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Zs(t,o);else{ea(e,t,o);var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,ai(a,s))return}catch(l){}null!==(e=Zl(e,i,n=Ql()))&&ta(e,t,i)}}function Js(e){var t=e.alternate;return e===ds||null!==t&&t===ds}function Zs(e,t){fs=ms=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ea(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===tr?tr=[t]:tr.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ta(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var na={readContext:er,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useInsertionEffect:ys,useLayoutEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useMutableSource:ys,useSyncExternalStore:ys,useId:ys,unstable_isNewReconciler:!1},ia={readContext:er,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:er,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Es();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$s.bind(null,ds,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Rs,useDebugValue:Us,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Ks.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ds,o=Es();if(Rr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===xl)throw Error(r(349));0!==(30&hs)||Ps(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Fs(Os.bind(null,i,s,e),[e]),i.flags|=2048,As(9,Ds.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=xl.identifierPrefix;if(Rr){var n=xr;t=":"+t+"R"+(n=(Tr&~(1<<32-st(Tr)-1)).toString(32)+n),0<(n=gs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oa={readContext:er,useCallback:Ws,useContext:er,useEffect:js,useImperativeHandle:qs,useInsertionEffect:zs,useLayoutEffect:_s,useMemo:Xs,useReducer:Ts,useRef:Hs,useState:function(){return Ts(ks)},useDebugValue:Us,useDeferredValue:function(e){return Ys(Ss(),ps.memoizedState,e)},useTransition:function(){return[Ts(ks)[0],Ss().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ls,useId:Gs,unstable_isNewReconciler:!1},ra={readContext:er,useCallback:Ws,useContext:er,useEffect:js,useImperativeHandle:qs,useInsertionEffect:zs,useLayoutEffect:_s,useMemo:Xs,useReducer:xs,useRef:Hs,useState:function(){return xs(ks)},useDebugValue:Us,useDeferredValue:function(e){var t=Ss();return null===ps?t.memoizedState=e:Ys(t,ps.memoizedState,e)},useTransition:function(){return[xs(ks)[0],Ss().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ls,useId:Gs,unstable_isNewReconciler:!1};function sa(e,t){try{var n="",i=t;do{n+=_(i),i=i.return}while(i);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var la,ca,ha,da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=rr(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){_l||(_l=!0,Vl=i),aa(0,t)},n}function ua(e,t,n){(n=rr(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){aa(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){aa(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new da;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function fa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ga(e,t,n,i,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=rr(-1,1)).tag=2,sr(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}function va(e,t){if(!Rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=14680064&o.subtreeFlags,i|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ba(e,t,n){var i=t.pendingProps;switch(Dr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ya(t),null;case 1:case 17:return Ro(t.type)&&Ao(),ya(t),null;case 3:return i=t.stateNode,ts(),xo(Do),xo(Po),as(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(zr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ar&&(rc(Ar),Ar=null))),ya(t),null;case 5:is(t);var o=Zr(Jr.current);if(n=t.type,null!==e&&null!=t.stateNode)ca(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ya(t),null}if(e=Zr($r.current),zr(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[uo]=t,i[mo]=s,e=0!==(1&t.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(o=0;o<Hi.length;o++)ji(Hi[o],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":$(i,s),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ji("invalid",i);break;case"textarea":oe(i,s),ji("invalid",i)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,e),o=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":X(i),Z(i,s,!0);break;case"textarea":X(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[uo]=t,e[mo]=i,la(e,t),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":ji("cancel",e),ji("close",e),o=i;break;case"iframe":case"object":case"embed":ji("load",e),o=i;break;case"video":case"audio":for(o=0;o<Hi.length;o++)ji(Hi[o],e);o=i;break;case"source":ji("error",e),o=i;break;case"img":case"image":case"link":ji("error",e),ji("load",e),o=i;break;case"details":ji("toggle",e),o=i;break;case"input":$(e,i),o=G(e,i),ji("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=I({},i,{value:void 0}),ji("invalid",e);break;case"textarea":oe(e,i),o=ie(e,i),ji("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?ge(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&de(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&pe(e,h):"number"===typeof h&&pe(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=h&&"onScroll"===s&&ji("scroll",e):null!=h&&b(e,s,h,l))}switch(n){case"input":X(e),Z(e,i,!1);break;case"textarea":X(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+U(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ya(t),null;case 6:if(e&&null!=t.stateNode)ha(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));if(n=Zr(Jr.current),Zr($r.current),zr(t)){if(i=t.stateNode,n=t.memoizedProps,i[uo]=t,(s=i.nodeValue!==n)&&null!==(e=Or))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[uo]=t,t.stateNode=i}return ya(t),null;case 13:if(xo(os),i=t.memoizedState,Rr&&null!==Mr&&0!==(1&t.mode)&&0===(128&t.flags)){for(i=Mr;i;)i=co(i.nextSibling);return _r(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=zr(t),null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[uo]=t}else _r(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ya(t),null}return null!==Ar&&(rc(Ar),Ar=null),0!==(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?zr(t):n=null!==e.memoizedState,i!==n&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),ya(t),null);case 4:return ts(),null===e&&Vi(t.stateNode.containerInfo),ya(t),null;case 10:return Qo(t.type._context),ya(t),null;case 19:if(xo(os),null===(s=t.memoizedState))return ya(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)va(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=rs(e))){for(t.flags|=128,va(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return No(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>jl&&(t.flags|=128,i=!0,va(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=rs(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),va(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!Rr)return ya(t),null}else 2*Qe()-s.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,i=!0,va(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=os.current,No(os,i?1&n|2:1&n),t):(ya(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(ya(t),6&t.subtreeFlags&&(t.flags|=8192)):ya(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}la=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ca=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Zr($r.current);var r,s=null;switch(n){case"input":o=G(e,o),i=G(e,i),s=[];break;case"select":o=I({},o,{value:void 0}),i=I({},i,{value:void 0}),s=[];break;case"textarea":o=ie(e,o),i=ie(e,i),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(h in ye(n,i),n=null,o)if(!i.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var c=i[h];if(l=null!=o?o[h]:void 0,i.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&ji("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},ha=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ca=C.ReactCurrentOwner,wa=!1;function Ea(e,t,n,i){t.child=null===e?Kr(t,null,n,i):Yr(t,e.child,n,i)}function Sa(e,t,n,i,o){n=n.render;var r=t.ref;return Zo(t,o),i=Cs(e,t,n,i,r,o),n=ws(),null===e||wa?(Rr&&n&&Pr(t),t.flags|=1,Ea(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ua(e,t,o))}function ka(e,t,n,i,o){if(null===e){var r=n.type;return"function"!==typeof r||Oc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ta(e,t,r,i,o))}if(r=e.child,0===(e.lanes&o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return Ua(e,t,o)}return t.flags|=1,(e=Mc(r,i)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,i,o){if(null!==e){var r=e.memoizedProps;if(li(r,i)&&e.ref===t.ref){if(wa=!1,t.pendingProps=i=r,0===(e.lanes&o))return t.lanes=e.lanes,Ua(e,t,o);0!==(131072&e.flags)&&(wa=!0)}}return La(e,t,n,i,o)}function xa(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,No(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,No(Dl,Pl),Pl|=i}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,No(Dl,Pl),Pl|=i;return Ea(e,t,o,n),t.child}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,i,o){var r=Ro(n)?Oo:Po.current;return r=Mo(t,r),Zo(t,o),n=Cs(e,t,n,i,r,o),i=ws(),null===e||wa?(Rr&&i&&Pr(t),t.flags|=1,Ea(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ua(e,t,o))}function Pa(e,t,n,i,o){if(Ro(n)){var r=!0;Io(t)}else r=!1;if(Zo(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fr(t,n,i),vr(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=er(c):c=Mo(t,c=Ro(n)?Oo:Po.current);var h=n.getDerivedStateFromProps,d="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&gr(t,s,i,c),nr=!1;var p=t.memoizedState;s.state=p,cr(t,i,s,o),l=t.memoizedState,a!==i||p!==l||Do.current||nr?("function"===typeof h&&(pr(t,n,h,i),l=t.memoizedState),(a=nr||mr(t,n,a,i,p,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,or(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Wo(t.type,a),s.props=c,d=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=er(l):l=Mo(t,l=Ro(n)?Oo:Po.current);var u=n.getDerivedStateFromProps;(h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||p!==l)&&gr(t,s,i,l),nr=!1,p=t.memoizedState,s.state=p,cr(t,i,s,o);var m=t.memoizedState;a!==d||p!==m||Do.current||nr?("function"===typeof u&&(pr(t,n,u,i),m=t.memoizedState),(c=nr||mr(t,n,c,i,p,m,l)||!1)?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return Da(e,t,n,i,r,o)}function Da(e,t,n,i,o,r){Na(e,t);var s=0!==(128&t.flags);if(!i&&!s)return o&&Fo(t,n,!1),Ua(e,t,r);i=t.stateNode,Ca.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Yr(t,e.child,null,r),t.child=Yr(t,null,a,r)):Ea(e,t,a,r),t.memoizedState=i.state,o&&Fo(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Ho(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ho(0,t.context,!1),es(e,t.containerInfo)}function Ma(e,t,n,i,o){return _r(),Vr(o),t.flags|=256,Ea(e,t,n,i),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0};function Aa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ha(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ba(e,t,n){var i,o=t.pendingProps,s=os.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),No(os,1&s),null===e)return Fr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=o.children,e=o.fallback,a?(o=t.mode,a=t.child,s={mode:"hidden",children:s},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=s):a=Hc(s,o,0,null),e=Ac(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Aa(n),t.memoizedState=Ra,e):Ia(t,s));if(null!==(s=e.memoizedState)){if(null!==(i=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,za(e,t,n,Error(r(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=o.fallback,s=t.mode,o=Hc({mode:"visible",children:o.children},s,0,null),(a=Ac(a,s,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,0!==(1&t.mode)&&Yr(t,e.child,null,n),t.child.memoizedState=Aa(n),t.memoizedState=Ra,a);if(0===(1&t.mode))t=za(e,t,n,null);else if("$!"===i.data)t=za(e,t,n,Error(r(419)));else if(o=0!==(n&e.childLanes),wa||o){if(null!==(o=xl)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(o=0!==(a&(o.suspendedLanes|n))?0:a)&&o!==s.retryLane&&(s.retryLane=o,Zl(e,o,-1))}mc(),t=za(e,t,n,Error(r(421)))}else"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,t=null):(n=s.treeContext,Mr=co(i.nextSibling),Or=t,Rr=!0,Ar=null,null!==n&&(Er[Sr++]=Tr,Er[Sr++]=xr,Er[Sr++]=kr,Tr=n.id,xr=n.overflow,kr=t),(t=Ia(t,t.pendingProps.children)).flags|=4096);return t}return a?(o=ja(e,t,o.children,o.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?Aa(n):Ha(s,n),a.childLanes=e.childLanes&~n,t.memoizedState=Ra,o):(n=Fa(e,t,o.children,n),t.memoizedState=null,n)}return a?(o=ja(e,t,o.children,o.fallback,n),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?Aa(n):Ha(s,n),a.childLanes=e.childLanes&~n,t.memoizedState=Ra,o):(n=Fa(e,t,o.children,n),t.memoizedState=null,n)}function Ia(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,i){var o=e.child;return e=o.sibling,n=Mc(o,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function ja(e,t,n,i,o){var r=t.mode,s=(e=e.child).sibling,a={mode:"hidden",children:n};return 0===(1&r)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=a,t.deletions=null):(n=Mc(e,a)).subtreeFlags=14680064&e.subtreeFlags,null!==s?i=Mc(s,i):(i=Ac(i,r,o,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function za(e,t,n,i){return null!==i&&Vr(i),Yr(t,e.child,null,n),(e=Ia(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _a(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Jo(e.return,t,n)}function Va(e,t,n,i,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function qa(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Ea(e,t,i.children,n),0!==(2&(i=os.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_a(e,n,t);else if(19===e.tag)_a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(No(os,i),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===rs(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Va(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===rs(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Va(t,!0,n,null,r);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){switch(Dr(t),t.tag){case 1:return Ro(t.type)&&Ao(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ts(),xo(Do),xo(Po),as(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return is(t),null;case 13:if(xo(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));_r()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xo(os),null;case 4:return ts(),null;case 10:return Qo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}var Xa=!1,Ya=!1,Ka="function"===typeof WeakSet?WeakSet:Set,Ga=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function Qa(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var Ja=!1;function Za(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&Qa(t,n,r)}o=o.next}while(o!==i)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[uo],delete t[mo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function rl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function sl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}var al=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||$a(n,t);case 6:var i=al,o=ll;al=null,cl(e,t,n),ll=o,null!==(al=i)&&(ll?(e=al,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):al.removeChild(n.stateNode));break;case 18:null!==al&&(ll?(e=al,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(al,n.stateNode));break;case 4:i=al,o=ll,al=n.stateNode.containerInfo,ll=!0,cl(e,t,n),al=i,ll=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){o=i=i.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&Qa(n,t,s),o=o.next}while(o!==i)}cl(e,t,n);break;case 1:if(!Ya&&($a(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Sc(n,t,a)}cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:1&n.mode?(Ya=(i=Ya)||null!==n.memoizedState,cl(e,t,n),Ya=i):cl(e,t,n);break;default:cl(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ka),t.forEach((function(t){var i=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:al=l.stateNode,ll=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===al)throw Error(r(160));hl(s,a,o),al=null,ll=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(h){Sc(o,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ul(t,e),t=t.sibling}function ul(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&i){try{Za(3,e,e.return),el(3,e)}catch(f){Sc(e,e.return,f)}try{Za(5,e,e.return)}catch(f){Sc(e,e.return,f)}}break;case 1:pl(t,e),ml(e),512&i&&null!==n&&$a(n,n.return);break;case 5:if(pl(t,e),ml(e),512&i&&null!==n&&$a(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(f){Sc(e,e.return,f)}}if(4&i&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(o,s),be(l,a);var h=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];"style"===d?ge(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):b(o,d,p,h)}switch(l){case"input":J(o,s);break;case"textarea":re(o,s);break;case"select":var u=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(o,!!s.multiple,m,!1):u!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[mo]=s}catch(f){Sc(e,e.return,f)}}break;case 6:if(pl(t,e),ml(e),4&i){if(null===e.stateNode)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(f){Sc(e,e.return,f)}}break;case 3:if(pl(t,e),ml(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(f){Sc(e,e.return,f)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(h=e.child).flags&&null!==h.memoizedState&&(null===h.alternate||null===h.alternate.memoizedState)&&(Fl=Qe()),4&i&&dl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(d=Ya)||h,pl(t,e),Ya=d):pl(t,e),ml(e),8192&i){d=null!==e.memoizedState;e:for(p=null,u=e;;){if(5===u.tag){if(null===p){p=u;try{o=u.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=u.stateNode,a=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",a))}catch(f){Sc(e,e.return,f)}}}else if(6===u.tag){if(null===p)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(f){Sc(e,e.return,f)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}if(d&&!h&&0!==(1&e.mode))for(Ga=e,e=e.child;null!==e;){for(h=Ga=e;null!==Ga;){switch(p=(d=Ga).child,d.tag){case 0:case 11:case 14:case 15:Za(4,d,d.return);break;case 1:if($a(d,d.return),"function"===typeof(s=d.stateNode).componentWillUnmount){u=d,m=d.return;try{o=u,s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(f){Sc(u,m,f)}}break;case 5:$a(d,d.return);break;case 22:if(null!==d.memoizedState){yl(h);continue}}null!==p?(p.return=d,Ga=p):yl(h)}e=e.sibling}}break;case 19:pl(t,e),ml(e),4&i&&dl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(pe(o,""),i.flags&=-33),sl(e,ol(e),o);break;case 3:case 4:var s=i.stateNode.containerInfo;rl(e,ol(e),s);break;default:throw Error(r(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e,t,n){Ga=e,gl(e,t,n)}function gl(e,t,n){for(var i=0!==(1&e.mode);null!==Ga;){var o=Ga,r=o.child;if(22===o.tag&&i){var s=null!==o.memoizedState||Xa;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=l)&&!c)for(Ga=o;null!==Ga;)l=(s=Ga).child,22===s.tag&&null!==s.memoizedState?bl(o):null!==l?(l.return=s,Ga=l):bl(o);for(;null!==r;)Ga=r,gl(r,t,n),r=r.sibling;Ga=o,Xa=a,Ya=c}vl(e)}else 0!==(8772&o.subtreeFlags)&&null!==r?(r.return=o,Ga=r):vl(e)}}function vl(e){for(;null!==Ga;){var t=Ga;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||el(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ya)if(null===n)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Wo(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&hr(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}hr(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var d=h.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(r(163))}Ya||512&t.flags&&tl(t)}catch(u){Sc(t,t.return,u)}}if(t===e){Ga=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ga=n;break}Ga=t.return}}function yl(e){for(;null!==Ga;){var t=Ga;if(t===e){Ga=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ga=n;break}Ga=t.return}}function bl(e){for(;null!==Ga;){var t=Ga;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var o=t.return;try{i.componentDidMount()}catch(l){Sc(t,o,l)}}var r=t.return;try{tl(t)}catch(l){Sc(t,r,l)}break;case 5:var s=t.return;try{tl(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Ga=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ga=a;break}Ga=t.return}}var Cl,wl=Math.ceil,El=C.ReactCurrentDispatcher,Sl=C.ReactCurrentOwner,kl=C.ReactCurrentBatchConfig,Tl=0,xl=null,Nl=null,Ll=0,Pl=0,Dl=To(0),Ol=0,Ml=null,Rl=0,Al=0,Hl=0,Bl=null,Il=null,Fl=0,jl=1/0,zl=null,_l=!1,Vl=null,ql=null,Ul=!1,Wl=null,Xl=0,Yl=0,Kl=null,Gl=-1,$l=0;function Ql(){return 0!==(6&Tl)?Qe():-1!==Gl?Gl:Gl=Qe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ll?Ll&-Ll:null!==Uo.transition?(0===$l&&($l=ft()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Zl(e,t,n){if(50<Yl)throw Yl=0,Kl=null,Error(r(185));var i=ec(e,t);return null===i?null:(vt(i,t,n),0!==(2&Tl)&&i===xl||(i===xl&&(0===(2&Tl)&&(Al|=t),4===Ol&&sc(i,Ll)),nc(i,n),1===t&&0===Tl&&0===(1&e.mode)&&(jl=Qe()+500,zo&&qo())),i)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==xl||null!==tr)&&0!==(1&e.mode)&&0===(2&Tl)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&i)||(o[s]=ut(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var i=pt(e,e===xl?Ll:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zo=!0,Vo(e)}(ac.bind(null,e)):Vo(ac.bind(null,e)),so((function(){0===Tl&&qo()})),n=null;else{switch(Ct(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Lc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Gl=-1,$l=0,0!==(6&Tl))throw Error(r(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var i=pt(e,e===xl?Ll:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=fc(e,i);else{t=i;var o=Tl;Tl|=2;var s=uc();for(xl===e&&Ll===t||(zl=null,jl=Qe()+500,dc(e,t));;)try{vc();break}catch(l){pc(e,l)}$o(),El.current=s,Tl=o,null!==Nl?t=0:(xl=null,Ll=0,t=Ol)}if(0!==t){if(2===t&&(0!==(o=mt(e))&&(i=o,t=oc(e,o))),1===t)throw n=Ml,dc(e,0),sc(e,i),nc(e,Qe()),n;if(6===t)sc(e,i);else{if(o=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!ai(r(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=fc(e,i))&&(0!==(s=mt(e))&&(i=s,t=oc(e,s))),1===t))throw n=Ml,dc(e,0),sc(e,i),nc(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:Cc(e,Il,zl);break;case 3:if(sc(e,i),(130023424&i)===i&&10<(t=Fl+500-Qe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&i)!==i){Ql(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=io(Cc.bind(null,e,Il,zl),t);break}Cc(e,Il,zl);break;case 4:if(sc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>o&&(o=a),i&=~s}if(i=o,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wl(i/1960))-i)){e.timeoutHandle=io(Cc.bind(null,e,Il,zl),i);break}Cc(e,Il,zl);break;default:throw Error(r(329))}}}return nc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Il,Il=n,null!==t&&rc(t)),e}function rc(e){null===Il?Il=e:Il.push.apply(Il,e)}function sc(e,t){for(t&=~Hl,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function ac(e){if(0!==(6&Tl))throw Error(r(327));wc();var t=pt(e,0);if(0===(1&t))return nc(e,Qe()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var i=mt(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=Ml,dc(e,0),sc(e,t),nc(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,Il,zl),nc(e,Qe()),null}function lc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(jl=Qe()+500,zo&&qo())}}function cc(e){null!==Wl&&0===Wl.tag&&0===(6&Tl)&&wc();var t=Tl;Tl|=1;var n=kl.transition,i=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=i,kl.transition=n,0===(6&(Tl=t))&&qo()}}function hc(){Pl=Dl.current,xo(Dl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Nl)for(n=Nl.return;null!==n;){var i=n;switch(Dr(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ao();break;case 3:ts(),xo(Do),xo(Po),as();break;case 5:is(i);break;case 4:ts();break;case 13:case 19:xo(os);break;case 10:Qo(i.type._context);break;case 22:case 23:hc()}n=n.return}if(xl=e,Nl=e=Mc(e.current,null),Ll=Pl=t,Ol=0,Ml=null,Hl=Al=Rl=0,Il=Bl=null,null!==tr){for(t=0;t<tr.length;t++)if(null!==(i=(n=tr[t]).interleaved)){n.interleaved=null;var o=i.next,r=n.pending;if(null!==r){var s=r.next;r.next=o,i.next=s}n.pending=i}tr=null}return e}function pc(e,t){for(;;){var n=Nl;try{if($o(),ls.current=na,ms){for(var i=ds.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}ms=!1}if(hs=0,us=ps=ds=null,fs=!1,gs=0,Sl.current=null,null===n||null===n.return){Ol=1,Ml=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fa(a);if(null!==m){m.flags&=-257,ga(m,a,l,0,t),1&m.mode&&ma(s,h,t),c=h;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){ma(s,h,t),mc();break e}c=Error(r(426))}else if(Rr&&1&l.mode){var v=fa(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ga(v,a,l,0,t),Vr(c);break e}}s=c,4!==Ol&&(Ol=2),null===Bl?Bl=[s]:Bl.push(s),c=sa(c,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,lr(l,pa(0,c,t));break e;case 1:s=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,lr(l,ua(l,s,t));break e}}l=l.return}while(null!==l)}bc(n)}catch(C){t=C,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function uc(){var e=El.current;return El.current=na,null===e?na:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===xl||0===(268435455&Rl)&&0===(268435455&Al)||sc(xl,Ll)}function fc(e,t){var n=Tl;Tl|=2;var i=uc();for(xl===e&&Ll===t||(zl=null,dc(e,t));;)try{gc();break}catch(o){pc(e,o)}if($o(),Tl=n,El.current=i,null!==Nl)throw Error(r(261));return xl=null,Ll=0,Ol}function gc(){for(;null!==Nl;)yc(Nl)}function vc(){for(;null!==Nl&&!Ge();)yc(Nl)}function yc(e){var t=Cl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,Sl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ba(n,t,Pl)))return void(Nl=n)}else{if(null!==(n=Wa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ol=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Cc(e,t,n){var i=bt,o=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,i){do{wc()}while(null!==Wl);if(0!==(6&Tl))throw Error(r(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),r=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~r}}(e,s),e===xl&&(Nl=xl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ul||(Ul=!0,Lc(tt,(function(){return wc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=kl.transition,kl.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Sl.current=null,function(e,t){if(eo=Ut,ui(e=pi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,p=e,u=null;t:for(;;){for(var m;p!==n||0!==o&&3!==p.nodeType||(l=a+o),p!==s||0!==i&&3!==p.nodeType||(c=a+i),3===p.nodeType&&(a+=p.nodeValue.length),null!==(m=p.firstChild);)u=p,p=m;for(;;){if(p===e)break t;if(u===n&&++h===o&&(l=a),u===s&&++d===i&&(c=a),null!==(m=p.nextSibling))break;u=(p=u).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ut=!1,Ga=t;null!==Ga;)if(e=(t=Ga).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ga=e;else for(;null!==Ga;){t=Ga;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Wo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;if(1===C.nodeType)C.textContent="";else if(9===C.nodeType){var w=C.body;null!=w&&(w.textContent="")}break;default:throw Error(r(163))}}catch(E){Sc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Ga=e;break}Ga=t.return}f=Ja,Ja=!1}(e,n),ul(n,e),mi(to),Ut=!!eo,to=eo=null,e.current=n,fl(n,e,o),$e(),Tl=l,bt=a,kl.transition=s}else e.current=n;if(Ul&&(Ul=!1,Wl=e,Xl=o),0===(s=e.pendingLanes)&&(ql=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i(t[n]);if(_l)throw _l=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),0!==(1&(s=e.pendingLanes))?e===Kl?Yl++:(Yl=0,Kl=e):Yl=0,qo()}(e,t,n,i)}finally{kl.transition=o,bt=i}return null}function wc(){if(null!==Wl){var e=Ct(Xl),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Wl)var i=!1;else{if(e=Wl,Wl=null,Xl=0,0!==(6&Tl))throw Error(r(331));var o=Tl;for(Tl|=4,Ga=e.current;null!==Ga;){var s=Ga,a=s.child;if(0!==(16&Ga.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var h=l[c];for(Ga=h;null!==Ga;){var d=Ga;switch(d.tag){case 0:case 11:case 15:Za(8,d,s)}var p=d.child;if(null!==p)p.return=d,Ga=p;else for(;null!==Ga;){var u=(d=Ga).sibling,m=d.return;if(nl(d),d===h){Ga=null;break}if(null!==u){u.return=m,Ga=u;break}Ga=m}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ga=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ga=a;else e:for(;null!==Ga;){if(0!==(2048&(s=Ga).flags))switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ga=y;break e}Ga=s.return}}var b=e.current;for(Ga=b;null!==Ga;){var C=(a=Ga).child;if(0!==(2064&a.subtreeFlags)&&null!==C)C.return=a,Ga=C;else e:for(a=b;null!==Ga;){if(0!==(2048&(l=Ga).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(E){Sc(l,l.return,E)}if(l===a){Ga=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ga=w;break e}Ga=l.return}}if(Tl=o,qo(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(ot,e)}catch(E){}i=!0}return i}finally{bt=n,kl.transition=t}}return!1}function Ec(e,t,n){sr(e,t=pa(0,t=sa(n,t),1)),t=Ql(),null!==(e=ec(e,1))&&(vt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){sr(t,e=ua(t,e=sa(n,e),1)),e=Ql(),null!==(t=ec(t,1))&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function kc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Ql(),e.pingedLanes|=e.suspendedLanes&n,xl===e&&(Ll&n)===n&&(4===Ol||3===Ol&&(130023424&Ll)===Ll&&500>Qe()-Fl?dc(e,0):Hl|=n),nc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=Ql();null!==(e=ec(e,t))&&(vt(e,t,n),nc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Tc(e,n)}function Lc(e,t){return Ye(e,t)}function Pc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,i){return new Pc(e,t,n,i)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,i,o,s){var a=2;if(i=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Ac(n.children,o,s,t);case k:a=8,o|=8;break;case T:return(e=Dc(12,n,t,2|o)).elementType=T,e.lanes=s,e;case P:return(e=Dc(13,n,t,o)).elementType=P,e.lanes=s,e;case D:return(e=Dc(19,n,t,o)).elementType=D,e.lanes=s,e;case R:return Hc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case N:a=9;break e;case L:a=11;break e;case O:a=14;break e;case M:a=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,o)).elementType=e,t.type=i,t.lanes=s,t}function Ac(e,t,n,i){return(e=Dc(7,e,i,t)).lanes=n,e}function Hc(e,t,n,i){return(e=Dc(22,e,i,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Bc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,i,o,r,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Dc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ir(r),e}function zc(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function _c(e){if(!e)return Lo;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Bo(e,n,t)}return t}function Vc(e,t,n,i,o,r,s,a,l){return(e=jc(n,i,!0,e,0,r,0,a,l)).context=_c(null),n=e.current,(r=rr(i=Ql(),o=Jl(n))).callback=void 0!==t&&null!==t?t:null,sr(n,r),e.current.lanes=o,vt(e,o,i),nc(e,i),e}function qc(e,t,n,i){var o=t.current,r=Ql(),s=Jl(o);return n=_c(n),null===t.context?t.context=n:t.pendingContext=n,(t=rr(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),sr(o,t),null!==(e=Zl(o,s,r))&&ar(e,o,s),s}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Do.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),_r();break;case 5:ns(t);break;case 1:Ro(t.type)&&Io(t);break;case 4:es(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;No(Xo,i._currentValue),i._currentValue=o;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(No(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(No(os,1&os.current),null!==(e=Ua(e,t,n))?e.sibling:null);No(os,1&os.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return qa(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(os,os.current),i)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ua(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,Rr&&0!==(1048576&t.flags)&&Lr(t,wr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var o=Mo(t,Po.current);Zo(t,n),o=Cs(null,t,i,e,o,n);var s=ws();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(i)?(s=!0,Io(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ir(t),o.updater=ur,t.stateNode=o,o._reactInternals=t,vr(t,i,e,n),t=Da(null,t,i,!0,s,n)):(t.tag=0,Rr&&s&&Pr(t),Ea(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===O)return 14}return 2}(i),e=Wo(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Pa(null,t,i,e,n);break e;case 11:t=Sa(null,t,i,e,n);break e;case 14:t=ka(null,t,i,Wo(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,La(e,t,i,o=t.elementType===i?o:Wo(i,o),n);case 1:return i=t.type,o=t.pendingProps,Pa(e,t,i,o=t.elementType===i?o:Wo(i,o),n);case 3:e:{if(Oa(t),null===e)throw Error(r(387));i=t.pendingProps,o=(s=t.memoizedState).element,or(e,t),cr(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ma(e,t,i,n,o=Error(r(423)));break e}if(i!==o){t=Ma(e,t,i,n,o=Error(r(424)));break e}for(Mr=co(t.stateNode.containerInfo.firstChild),Or=t,Rr=!0,Ar=null,n=Kr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_r(),i===o){t=Ua(e,t,n);break e}Ea(e,t,i,n)}t=t.child}return t;case 5:return ns(t),null===e&&Fr(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(i,o)?a=null:null!==s&&no(i,s)&&(t.flags|=32),Na(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&Fr(t),null;case 13:return Ba(e,t,n);case 4:return es(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Yr(t,null,i,n):Ea(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,Sa(e,t,i,o=t.elementType===i?o:Wo(i,o),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,No(Xo,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===o.children&&!Do.current){t=Ua(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=rr(-1,n&-n)).tag=2;var h=s.updateQueue;if(null!==h){var d=(h=h.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Jo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Jo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ea(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Zo(t,n),i=i(o=er(o)),t.flags|=1,Ea(e,t,i,n),t.child;case 14:return o=Wo(i=t.type,t.pendingProps),ka(e,t,i,o=Wo(i.type,o),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Wo(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ro(i)?(e=!0,Io(t)):e=!1,Zo(t,n),fr(t,i,o),vr(t,i,o,n),Da(null,t,i,!0,e,n);case 19:return qa(e,t,n);case 22:return xa(e,t,n)}throw Error(r(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,i,o){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof o){var a=o;o=function(){var e=Uc(s);a.call(e)}}qc(t,s,e,o)}else s=function(e,t,n,i,o){if(o){if("function"===typeof i){var r=i;i=function(){var e=Uc(s);r.call(e)}}var s=Vc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[fo]=s.current,Vi(8===e.nodeType?e.parentNode:e),cc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof i){var a=i;i=function(){var e=Uc(l);a.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fo]=l.current,Vi(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,l,n,i)})),l}(n,t,e,o,i);return Uc(s)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));qc(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[fo]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Qe()),0===(6&Tl)&&(jl=Qe()+500,qo()))}break;case 13:var i=Ql();cc((function(){return Zl(e,1,i)})),Xc(e,1)}},Et=function(e){13===e.tag&&(Zl(e,134217728,Ql()),Xc(e,134217728))},St=function(e){if(13===e.tag){var t=Ql(),n=Jl(e);Zl(e,n,t),Xc(e,n)}},kt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Eo(i);if(!o)throw Error(r(90));Y(i),J(i,o)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Le=lc,Pe=cc;var eh={usingClientEntryPoint:!1,Events:[Co,wo,Eo,xe,Ne,lc]},th={findFiberByHostInstance:bo,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ot=ih.inject(nh),rt=ih}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(r(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(r(299));var n=!1,i="",o=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,i,o),e[fo]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,o=!1,s="",a=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,o,0,s,a),e[fo]=t.current,Vi(e),i)for(e=0;e<i.length;e++)o=(o=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fo]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Qc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zc(e,t,n,!1,i)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){var i=n(164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var i=n(791),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,h=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:o,type:e,key:c,ref:h,props:r,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),u=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var C=b.prototype=new y;C.constructor=b,f(C,v.prototype),C.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,i){var o,r={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,o)&&!k.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:r,_owner:S.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===r?"."+L(l,0):r,w(s)?(o="",null!=e&&(o=e.replace(N,"$&/")+"/"),P(s,t,o,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var h=r+L(a=e[c],c);l+=P(a,t,o,h,s)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,o,h=r+L(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var i=[],o=0;return P(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},R={transition:null},A={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=r,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),r=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=i;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:n,type:e.type,key:r,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(!(0<r(o,t)))break e;e[i]=t,e[n]=o,n=i}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,h=e[c];if(0>r(l,n))c<o&&0>r(h,l)?(e[i]=h,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<o&&0>r(h,n)))break e;e[i]=h,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,p=null,u=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=i(h);null!==t;){if(null===t.callback)o(h);else{if(!(t.startTime<=e))break;o(h),t.sortIndex=t.expirationTime,n(c,t)}t=i(h)}}function w(e){if(g=!1,C(e),!f)if(null!==i(c))f=!0,R(E);else{var t=i(h);null!==t&&A(w,t.startTime-e)}}function E(e,n){f=!1,g&&(g=!1,y(x),x=-1),m=!0;var r=u;try{for(C(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!P());){var s=p.callback;if("function"===typeof s){p.callback=null,u=p.priorityLevel;var a=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?p.callback=a:p===i(c)&&o(c),C(n)}else o(c);p=i(c)}if(null!==p)var l=!0;else{var d=i(h);null!==d&&A(w,d.startTime-n),l=!1}return l}finally{p=null,u=r,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,T=null,x=-1,N=5,L=-1;function P(){return!(t.unstable_now()-L<N)}function D(){if(null!==T){var e=t.unstable_now();L=e;var n=!0;try{n=T(!0,e)}finally{n?S():(k=!1,T=null)}}else k=!1}if("function"===typeof b)S=function(){b(D)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=D,S=function(){M.postMessage(null)}}else S=function(){v(D,0)};function R(e){T=e,k||(k=!0,S())}function A(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(u){case 1:case 2:case 3:var t=3;break;default:t=u}var n=u;u=t;try{return e()}finally{u=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=u;u=e;try{return t()}finally{u=n}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,n(h,e),null===i(c)&&e===i(h)&&(g?(y(x),x=-1):g=!0,A(w,r-s))):(e.sortIndex=a,n(c,e),f||m||(f=!0,R(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=u;return function(){var n=u;u=t;try{return e.apply(this,arguments)}finally{u=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"===typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return i[e]}}));return s.default=function(){return i},n.d(r,s),r}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".5ee76dfe.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-rte:";n.l=function(i,o,r,s){if(e[i])e[i].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+r),a.src=i),e[i]=[o];var p=function(t,n){a.onerror=a.onload=null,clearTimeout(u);var o=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(n)})),t)return t(n)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,i){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise((function(n,i){o=e[t]=[n,i]}));i.push(o[2]=r);var s=n.p+n.u(t),a=new Error;n.l(s,(function(i){if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=function(t,i){var o,r,s=i[0],a=i[1],l=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(i);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunkreact_rte=self.webpackChunkreact_rte||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){var e=n(791),t=n(250);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}var h="ej2_instances",d=0,p=!1;function u(e,t){var n=t;return n.unshift(void 0),new(Function.prototype.bind.apply(e,n))}function m(e,t){for(var n=t,i=e.replace(/\[/g,".").replace(/\]/g,"").split("."),o=0;o<i.length&&!S(n);o++)n=n[i[o]];return n}function f(e,t,n){var i,o,r=e.replace(/\[/g,".").replace(/\]/g,"").split("."),s=n||{},a=s,l=r.length;for(i=0;i<l;i++)o=r[i],i+1===l?a[o]=void 0===t?{}:t:E(a[o])&&(a[o]={}),a=a[o];return s}function g(e,t){delete e[t]}var v="undefined"!==typeof window?window:{};function y(e){return!E(e)&&e.constructor==={}.constructor}function b(e,t){return e[t]}function C(e,t){if(!E(t))for(var n=e,i=t,o=0,r=Object.keys(t);o<r.length;o++){var s=r[o];E(n.deepMerge)||-1===n.deepMerge.indexOf(s)||!y(i[s])&&!Array.isArray(i[s])?n[s]=i[s]:w(n[s],n[s],i[s],!0)}}function w(e,t,n,i){var o=e&&"object"===typeof e?e:{},r=arguments.length;i&&(r-=1);for(var s=function(e){if(!a[e])return"continue";var t=a[e];Object.keys(t).forEach((function(e){var n,r=o[e],s=t[e],a=Array.isArray(s)&&Array.isArray(r)&&s.length!==r.length,l=!P()||!(r instanceof Event)&&!a;i&&l&&(y(s)||Array.isArray(s))?y(s)?(n=r||{},Array.isArray(n)&&n.hasOwnProperty("isComplexArray")?w(n,{},s,i):o[e]=w(n,{},s,i)):(n=P()?r&&Object.keys(s).length:r||[],o[e]=w([],n,s,i)):o[e]=s}))},a=arguments,l=1;l<r;l++)s(l);return o}function E(e){return void 0===e||null===e}function S(e){return"undefined"===typeof e}function k(e){return e+"_"+d++}function T(e,t){var n;return function(){var i=this,o=arguments,r=function(){return n=null,e.apply(i,o)};clearTimeout(n),n=setTimeout(r,t)}}function x(e,t){return e===t||!(e===document||!e)&&x(e.parentNode,t)}function N(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}function L(e){var t=e+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function P(){return p}function D(e,t){var n="string"===typeof e?document.querySelector(e):e;if(n[h])for(var i=0,o=n[h];i<o.length;i++){var r=o[i];if(r instanceof t)return r}return null}var O,M={latn:{_digits:"0123456789",_type:"numeric"}},R={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},A=[0,1,2,3,4,5,6,7,8,9],H=function(){function e(){}return e.getMainObject=function(e,t){return m(P()?t:"main."+t,e)},e.getNumberingSystem=function(e){return m("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var n={},i=0,o=t||Object.keys(e);i<o.length;i++){var r=o[i];n.hasOwnProperty(e[r])||(n[e[r]]=r)}return n},e.getSymbolRegex=function(e){var t=e.map((function(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},n=0,i=Object.keys(R);n<i.length;n++){var o=i[n];t[e[o]]=R[o]}return t},e.constructRegex=function(e){for(var t=e.length,n="",i=0;i<t;i++)n+=i!==t-1?e[i]+"|":e[i];return n},e.convertValueParts=function(e,t,n){return e.replace(t,(function(e){return n[e]}))},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=m("numbers",e),t.nSystem=m("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,n,i){var o={},r=this.getDefaultNumberingSystem(e);if(!S(r.nSystem)||i){var s=i?m("obj.mapperDigits",r):m(r.nSystem+"._digits",t);S(s)||(o.numericPair=this.reverseObject(s,A),o.numberParseRegex=new RegExp(this.constructRegex(s),"g"),o.numericRegex="["+s[0]+"-"+s[9]+"]",n&&(o.numericRegex=s[0]+"-"+s[9],o.symbolNumberSystem=m(i?"numberSymbols":"symbols-numberSystem-"+r.nSystem,r.obj),o.symbolMatch=this.getSymbolMatch(o.symbolNumberSystem),o.numberSystem=r.nSystem))}return o},e.getNumberMapper=function(e,t,n){var i={mapper:{}},o=this.getDefaultNumberingSystem(e);if(!S(o.nSystem)){i.numberSystem=o.nSystem,i.numberSymbols=m("symbols-numberSystem-"+o.nSystem,o.obj),i.timeSeparator=m("timeSeparator",i.numberSymbols);var r=m(o.nSystem+"._digits",t);if(!S(r))for(var s=0,a=A;s<a.length;s++){var l=a[s];i.mapper[l]=r[l]}}return i},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=M,e}(),B={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var n=e.getDate(),i=e.getMonth(),o=e.getFullYear(),r=i+1,s=o;r<3&&(s-=1,r+=12);var a=Math.floor(s/100),l=a-Math.floor(a/4)-2,c=Math.floor(365.25*(s+4716))+Math.floor(30.6001*(r+1))+n-l-1524,h=c+(l=(a=Math.floor((c-1867216.25)/36524.25))-Math.floor(a/4)+1)+1524,d=Math.floor((h-122.1)/365.25),p=Math.floor(365.25*d),u=Math.floor((h-p)/30.6001);n=h-p-Math.floor(30.6001*u),(i=Math.floor((h-p)/20.6001))>13&&(d+=1,i-=12),i-=1,o=d-4716;var m=c-24e5,f=10631/30,g=c-1948084,v=Math.floor(g/10631);g-=10631*v;var y=Math.floor((g-.1335)/f),b=30*v+y;g-=Math.floor(y*f+.1335);var C=Math.floor((g+28.5001)/29.5);13===C&&(C=12);for(var w=g-Math.floor(29.5001*C-29),E=0;E<t.length&&!(t[E]>m);E++);var S=E+16260,k=Math.floor((S-1)/12),T=k+1,x=S-12*k,N=m-t[E-1]+1;return(N+"").length>2&&(N=w,x=C,T=b),{year:T,month:x,date:N}},e.toGregorian=function(e,n,i){var o=i+t[12*(e-1)+1+(n-1)-16260-1]-1+24e5,r=Math.floor(o+.5),s=Math.floor((r-1867216.25)/36524.25),a=(s=r+1+s-Math.floor(s/4))+1524,l=Math.floor((a-122.1)/365.25),c=Math.floor(365.25*l),h=Math.floor((a-c)/30.6001),d=a-c-Math.floor(30.6001*h),p=h-(h>13.5?13:1),u=l-(p>2.5?4716:4715);return u<=0&&p--,new Date(u+"/"+p+"/"+d)}}(O||(O={}));var I=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,F="stand-alone",j=["sun","mon","tue","wed","thu","fri","sat"],z={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},_={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},V=function(){function e(){}return e.dateFormat=function(e,t,n){var i=this,o=le.getDependables(n,e,t.calendar),r=m("parserObject.numbers",o),s=o.dateObject,a={isIslamic:le.islamicRegex.test(t.calendar)};P()&&t.isServerRendered&&(t=le.compareBlazorDateFormats(t,e));var l=t.format||le.getResultantPattern(t.skeleton,o.dateObject,t.type,!1,P()?e:"");if(a.dateSeperator=P()?m("dateSeperator",s):le.getDateSeparator(o.dateObject),S(l))N("Format options or type given must be invalid");else{l=le.ConvertDateToWeekFormat(l),P()&&(l=l.replace(/tt/,"a")),a.pattern=l,a.numMapper=P()?w({},r):H.getNumberMapper(o.parserObject,H.getNumberingSystem(n));for(var c=0,h=l.match(I)||[];c<h.length;c++){var d=h[c],p=d.length,u=d[0];switch("K"===u&&(u="h"),u){case"E":case"c":P()?a.weekday=m("days."+le.monthIndex[p],s):a.weekday=o.dateObject[le.days][F][le.monthIndex[p]];break;case"M":case"L":P()?a.month=m("months."+le.monthIndex[p],s):a.month=o.dateObject[le.month][F][le.monthIndex[p]];break;case"a":a.designator=P()?m("dayPeriods",s):m("dayPeriods.format.wide",s);break;case"G":var f=p<=3?"eraAbbr":4===p?"eraNames":"eraNarrow";a.era=P()?m("eras",s):m("eras."+f,o.dateObject);break;case"z":a.timeZone=m("dates.timeZoneNames",o.parserObject)}}}return function(e){return isNaN(e.getDate())?null:i.intDateFormatter(e,a)}},e.intDateFormatter=function(e,t){for(var n="",i=t.pattern.match(le.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic),r=0,s=i;r<s.length;r++){var a=s[r],l=a.length,c=a[0];"K"===c&&(c="h");var h=void 0,d="",p=void 0,u=void 0,m="";switch(c){case"M":case"L":h=o.month,l>2?n+=t.month[h]:p=!0;break;case"E":case"c":n+=t.weekday[j[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(p=!0,"d"===c)h=o.date;else if("f"===c){p=!1,u=!0;var f=(d=(d=e[z[c]]().toString()).substring(0,l)).length;if(l!==f){if(l>3)continue;for(var g=0;g<l-f;g++)d="0"+d.toString()}m+=d}else h=e[z[c]]();"h"===c&&(h=h%12||12);break;case"y":u=!0,m+=o.year,2===l&&(m=m.substr(m.length-2));break;case"a":var v=e.getHours()<12?"am":"pm";n+=t.designator[v];break;case"G":var y=e.getFullYear()<0?0:1,b=t.era[y];E(b)&&(b=t.era[y?0:1]),n+=b||"";break;case"'":n+="''"===a?"'":a.replace(/'/g,"");break;case"z":var C=e.getTimezoneOffset(),w=l<4?"+H;-H":t.timeZone.hourFormat;w=w.replace(/:/g,t.numMapper.timeSeparator),0===C?n+=t.timeZone.gmtZeroFormat:(u=!0,m=this.getTimeZoneValue(C,w)),m=t.timeZone.gmtFormat.replace(/\{0\}/,m);break;case":":n+=t.numMapper.numberSymbols.timeSeparator;break;case"/":n+=t.dateSeperator;break;case"W":p=!0,h=le.getWeekOfYear(e);break;default:n+=a}p&&(u=!0,m=this.checkTwodigitNumber(h,l)),u&&(n+=H.convertValueParts(m,le.latnParseRegex,t.numMapper.mapper))}return n},e.getCurrentDateValue=function(e,t){return t?O.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var n=e+"";return 2===t&&2!==n.length?"0"+n:n},e.getTimeZoneValue=function(e,t){var n=this,i=t.split(";")[e>0?1:0],o=Math.abs(e);return i.replace(/HH?|mm/g,(function(e){var t=e.length,i=-1!==e.indexOf("H");return n.checkTwodigitNumber(Math.floor(i?o/60:o%60),t)}))},e}(),q={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},U=["infinity","nan","group","decimal","exponential"],W=function(){function e(){}return e.numberFormatter=function(e,t,n){var i,o=this,r=w({},t),s={},a={},l=le.getDependables(n,e,"",!0),c=l.numericObject;a.numberMapper=P()?w({},c):H.getNumberMapper(l.parserObject,H.getNumberingSystem(n),!0),a.currencySymbol=P()?m("currencySymbol",c):le.getCurrencySymbol(l.numericObject,r.currency||oe,t.altSymbol),a.percentSymbol=P()?m("numberSymbols.percentSign",c):a.numberMapper.numberSymbols.percentSign,a.minusSymbol=P()?m("numberSymbols.minusSign",c):a.numberMapper.numberSymbols.minusSign;var h=a.numberMapper.numberSymbols;if(t.format&&!le.formatRegex.test(t.format))s=le.customFormat(t.format,a,l.numericObject);else{if(w(r,le.getProperNumericSkeleton(t.format||"N")),r.isCurrency="currency"===r.type,r.isPercent="percent"===r.type,P()||(i=le.getSymbolPattern(r.type,a.numberMapper.numberSystem,l.numericObject,r.isAccount)),r.groupOne=this.checkValueRange(r.maximumSignificantDigits,r.minimumSignificantDigits,!0),this.checkValueRange(r.maximumFractionDigits,r.minimumFractionDigits,!1,!0),S(r.fractionDigits)||(r.minimumFractionDigits=r.maximumFractionDigits=r.fractionDigits),S(r.useGrouping)&&(r.useGrouping=!0),r.isCurrency&&!P()&&(i=i.replace(/\u00A4/g,le.defaultCurrency)),P())s.nData=w({},{},m(r.type+"nData",c)),s.pData=w({},{},m(r.type+"pData",c)),"currency"===r.type&&t.currency&&le.replaceBlazorCurrency([s.pData,s.nData],a.currencySymbol,t.currency);else{var d=i.split(";");s.nData=le.getFormatData(d[1]||"-"+d[0],!0,a.currencySymbol),s.pData=le.getFormatData(d[0],!1,a.currencySymbol),r.useGrouping&&(r.groupSeparator=h[U[2]],r.groupData=this.getGroupingDetails(d[0]))}if(S(r.minimumFractionDigits)&&(r.minimumFractionDigits=s.nData.minimumFraction),S(r.maximumFractionDigits)){var p=s.nData.maximumFraction;r.maximumFractionDigits=S(p)&&r.isPercent?0:p}var u=r.minimumFractionDigits,f=r.maximumFractionDigits;S(u)||S(f)||u>f&&(r.maximumFractionDigits=u)}return w(s.nData,r),w(s.pData,r),function(e){return isNaN(e)?h[U[1]]:isFinite(e)?o.intNumberFormatter(e,s,a):h[U[0]]}},e.getGroupingDetails=function(e){var t={},n=e.match(le.negativeDataRegex);if(n&&n[4]){var i=n[4],o=i.lastIndexOf(",");if(-1!==o){var r=i.split(".")[0];t.primary=r.length-o-1;var s=i.lastIndexOf(",",o-1);-1!==s&&(t.secondary=o-1-s)}}return t},e.checkValueRange=function(e,t,n,i){var o=i?"f":"s",r=0,s=q["l"+o],a=q["m"+o];if(S(e)||(this.checkRange(e,s,i),r++),S(t)||(this.checkRange(t,a,i),r++),2===r){if(!(e<t))return!0;N(a+"specified must be less than the"+s)}else n&&1===r&&N("Both"+a+"and"+a+"must be present");return!1},e.checkRange=function(e,t,n){var i=n?[0,20]:[1,21];(e<i[0]||e>i[1])&&N(t+"value must be within the range"+i[0]+"to"+i[1])},e.intNumberFormatter=function(e,t,n){var i;if(!S(t.nData.type)){e<0?(e*=-1,i=t.nData):i=0===e&&t.zeroData||t.pData;var o="";return i.isPercent&&(e*=100),i.groupOne?o=this.processSignificantDigits(e,i.minimumSignificantDigits,i.maximumSignificantDigits):(o=this.processFraction(e,i.minimumFractionDigits,i.maximumFractionDigits),i.minimumIntegerDigits&&(o=this.processMinimumIntegers(o,i.minimumIntegerDigits))),"scientific"===i.type&&(o=(o=e.toExponential(i.maximumFractionDigits)).replace("e",n.numberMapper.numberSymbols[U[4]])),o=o.replace(".",n.numberMapper.numberSymbols[U[3]]),i.useGrouping&&(o=this.groupNumbers(o,i.groupData.primary,i.groupSeparator||",",n.numberMapper.numberSymbols[U[3]]||".",i.groupData.secondary)),o=H.convertValueParts(o,le.latnParseRegex,n.numberMapper.mapper),"N/A"===i.nlead?i.nlead:i.nlead+o+i.nend}},e.processSignificantDigits=function(e,t,n){var i=e+"";return i.length<t?e.toPrecision(t):+(i=e.toPrecision(n))+""},e.groupNumbers=function(e,t,n,i,o){for(var r=!E(o)&&0!==o,s=e.split(i),a=s[0],l=a.length,c="";l>t;)c=a.slice(l-t,l)+(c.length?n+c:""),l-=t,r&&(t=o,r=!1);return s[0]=a.slice(0,l)+(c.length?n:"")+c,s.join(i)},e.processFraction=function(e,t,n){var i=(e+"").split(".")[1],o=i?i.length:0;if(t&&o<t){var r="";if(0!==o){r+=e;for(var s=0;s<t-o;s++)r+="0";return r}return r=e.toFixed(t),e.toFixed(t)}return!E(n)&&(o>n||0===n)?e.toFixed(n):e+""},e.processMinimumIntegers=function(e,t){var n=e.split("."),i=n[0],o=i.length;if(o<t){for(var r=0;r<t-o;r++)i="0"+i;n[0]=i}return n.join(".")},e}(),X=/^[0-9]*$/,Y={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},K=function(){function e(){}return e.dateParser=function(e,t,n){var i=this,o=le.getDependables(n,e,t.calendar),r=H.getCurrentNumericOptions(o.parserObject,H.getNumberingSystem(n),!1,P()),s={};P()&&t.isServerRendered&&(t=le.compareBlazorDateFormats(t,e));var a,l=t.format||le.getResultantPattern(t.skeleton,o.dateObject,t.type,!1,P()?e:""),c="";if(S(l))N("Format options or type given must be invalid");else{l=le.ConvertDateToWeekFormat(l),s={isIslamic:le.islamicRegex.test(t.calendar),pattern:l,evalposition:{},culture:e};for(var h=l.match(le.dateParseRegex)||[],d=h.length,p=0,u=0,f=!1,g=r.numericRegex,v=P()?o.parserObject.numbers:H.getNumberMapper(o.parserObject,H.getNumberingSystem(n)),y=0;y<d;y++){var b=h[y],C=b.length,w="K"===b[0]?"h":b[0],k=void 0,T=void 0,x=_[w],L=2===C?"":"?";switch(f&&(p=u,f=!1),w){case"E":case"c":var D=void 0;D=P()?m("days."+le.monthIndex[C],o.dateObject):o.dateObject[le.days]["stand-alone"][le.monthIndex[C]];var M=H.reverseObject(D);c+="("+Object.keys(M).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(T=!0,("M"===w||"L"===w)&&C>2){var R=void 0;R=P()?m("months."+le.monthIndex[C],o.dateObject):o.dateObject.months["stand-alone"][le.monthIndex[C]],s[x]=H.reverseObject(R),c+="("+Object.keys(s[x]).join("|")+")"}else if("f"===w){if(C>3)continue;k=!0,c+="("+g+g+"?"+g+"?)"}else k=!0,c+="("+g+g+L+")";"h"===w&&(s.hour12=!0);break;case"W":c+="("+g+(1===C?"?":"")+g+")";break;case"y":T=k=!0,c+=2===C?"("+g+g+")":"("+g+"{"+C+",})";break;case"a":T=!0;var A=P()?m("dayPeriods",o.dateObject):m("dayPeriods.format.wide",o.dateObject);s[x]=H.reverseObject(A),c+="("+Object.keys(s[x]).join("|")+")";break;case"G":T=!0;var B=C<=3?"eraAbbr":4===C?"eraNames":"eraNarrow";s[x]=H.reverseObject(P()?m("eras",o.dateObject):m("eras."+B,o.dateObject)),c+="("+Object.keys(s[x]).join("|")+"?)";break;case"z":T=0!==(new Date).getTimezoneOffset(),s[x]=m("dates.timeZoneNames",o.parserObject);var I=s[x],F=(a=C<4)?"+H;-H":I.hourFormat;F=F.replace(/:/g,v.timeSeparator),c+="("+this.parseTimeZoneRegx(F,I,g)+")?",f=!0,u=a?6:12;break;case"'":c+="("+b.replace(/'/g,"")+")?";break;default:c+="([\\D])"}T&&(s.evalposition[x]={isNumber:k,pos:y+1+p,hourOnly:a}),y!==d-1||E(c)||(s.parserRegex=new RegExp("^"+c+"$","i"))}}return function(e){var t=i.internalDateParse(e,s,r);if(E(t)||!Object.keys(t).length)return null;if(s.isIslamic){var n={},o=t.year,a=t.day,l=t.month,c=o?o+"":"",h=2===c.length;o&&l&&a&&!h||(n=O.getHijriDate(new Date)),h&&(o=parseInt((n.year+"").slice(0,2)+c,10));var d=O.toGregorian(o||n.year,l||n.month,a||n.date);t.year=d.getFullYear(),t.month=d.getMonth()+1,t.day=d.getDate()}return i.getDateObject(t)}},e.getDateObject=function(e,t){var n=t||new Date;n.setMilliseconds(0);var i=e.year,o=e.designator,r=e.timeZone;if(!S(i)){if((i+"").length<=2)i+=100*Math.floor(n.getFullYear()/100);n.setFullYear(i)}for(var s=0,a=["hour","minute","second","milliseconds","month","day"];s<a.length;s++){var l=a[s],c=e[l];if(S(c)&&"day"===l&&n.setDate(1),!S(c))if("month"===l){if((c-=1)<0||c>11)return new Date("invalid");var h=n.getDate();n.setDate(1),n[Y[l]](c);var d=new Date(n.getFullYear(),c+1,0).getDate();n.setDate(h<d?h:d)}else{if("day"===l){var p=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();if(c<1||c>p)return null}n[Y[l]](c)}}if(!S(o)){var u=n.getHours();"pm"===o?n.setHours(u+(12===u?0:12)):12===u&&n.setHours(0)}if(!S(r)){var m=r-n.getTimezoneOffset();0!==m&&n.setMinutes(n.getMinutes()+m)}return n},e.internalDateParse=function(e,t,n){var i=e.match(t.parserRegex),o={hour:0,minute:0,second:0};if(E(i))return null;for(var r=0,s=Object.keys(t.evalposition);r<s.length;r++){var a=s[r],l=t.evalposition[a],c=i[l.pos];if(l.isNumber)o[a]=this.internalNumberParser(c,n);else if("timeZone"!==a||S(c))c="month"!==a||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?c:c[0].toUpperCase()+c.substring(1).toLowerCase(),o[a]=t[a][c];else{var h=l.pos,d=void 0,p=i[h+1],u=!S(p);l.hourOnly?d=60*this.getZoneValue(u,p,i[h+4],n):(d=60*this.getZoneValue(u,p,i[h+7],n),d+=this.getZoneValue(u,i[h+4],i[h+10],n)),E(d)||(o[a]=d)}}return t.hour12&&(o.hour12=!0),o},e.internalNumberParser=function(e,t){return e=H.convertValueParts(e,t.numberParseRegex,t.numericPair),X.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,n){var i,o,r=t.gmtFormat,s="("+n+")("+n+")";return i=e.replace("+","\\+"),o=(i=-1!==e.indexOf("HH")?i.replace(/HH|mm/g,"("+s+")"):i.replace(/H|m/g,"("+s+"?)")).split(";").map((function(e){return r.replace("{0}",e)})),i=o.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,n,i){var o=e?t:n;if(!o)return 0;var r=this.internalNumberParser(o,i);return e?-r:r},e}(),G=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,$=/,/g,Q=["minusSign","infinity"],J=function(){function e(){}return e.numberParser=function(e,t,n){var i,o=this,r=le.getDependables(n,e,"",!0),s={custom:!0};le.formatRegex.test(t.format)||!t.format?(w(s,le.getProperNumericSkeleton(t.format||"N")),s.custom=!1,s.fractionDigits||t.maximumFractionDigits&&(s.maximumFractionDigits=t.maximumFractionDigits)):w(s,le.customFormat(t.format,null,null));var a,l=m("numbers",r.parserObject);if(i=H.getCurrentNumericOptions(r.parserObject,H.getNumberingSystem(n),!0,P()),s.symbolRegex=H.getSymbolRegex(Object.keys(i.symbolMatch)),s.infinity=i.symbolNumberSystem[Q[1]],P())s.nData=w({},{},m(s.type+"nData",l)),s.pData=w({},{},m(s.type+"pData",l)),"currency"===s.type&&t.currency&&le.replaceBlazorCurrency([s.pData,s.nData],m("currencySymbol",l),t.currency);else if(a=le.getSymbolPattern(s.type,i.numberSystem,r.numericObject,s.isAccount)){var c=(a=a.replace(/\u00A4/g,le.defaultCurrency)).split(";");s.nData=le.getFormatData(c[1]||"-"+c[0],!0,""),s.pData=le.getFormatData(c[0],!0,"")}return function(e){return o.getParsedNumber(e,s,i)}},e.getParsedNumber=function(e,t,n){var i,o,r,s,a,l;if(-1!==e.indexOf(t.infinity))return 1/0;e=H.convertValueParts(e,t.symbolRegex,n.symbolMatch),0===(e=-1!==(e=H.convertValueParts(e,n.numberParseRegex,n.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);var c=e.match(G);if(E(c))return NaN;s=c[1],r=c[2];var h=c[5];return a=c[6],o=(i=t.custom?s===t.nData.nlead&&a===t.nData.nend:-1!==s.indexOf(t.nData.nlead)&&-1!==a.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,r=r.replace($,""),h&&(r+=h),l=+r,("percent"===t.type||o)&&(l/=100),(t.custom||t.fractionDigits)&&(l=parseFloat(l.toFixed(t.custom?i?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(l=this.convertMaxFracDigits(r,t,l,i)),i&&(l*=-1),l},e.convertMaxFracDigits=function(e,t,n,i){var o=e.split(".");return o[1]&&o[1].length>t.maximumFractionDigits&&(n=+n.toFixed(t.custom?i?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),n},e}(),Z=function(){function e(e){this.ranArray=[],this.boundedEvents={},E(e)||(this.context=e)}return e.prototype.on=function(e,t,n,i){if(!E(t)){var o=n||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:o}]:E(i)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:o}):-1===this.ranArray.indexOf(i)&&(this.ranArray.push(i),this.boundedEvents[e].push({handler:t,context:o,id:i}))}},e.prototype.off=function(e,t,n){if(!this.notExist(e)){var i=m(e,this.boundedEvents);if(t){for(var o=0;o<i.length;o++)if(n){if(i[o].id===n){i.splice(o,1);var r=this.ranArray.indexOf(n);-1!==r&&this.ranArray.splice(r,1);break}}else if(t===i[o].handler){i.splice(o,1);break}}else delete this.boundedEvents[e]}},e.prototype.notify=function(e,t,n,i){if(this.notExist(e))n&&n.call(this,t);else{t&&(t.name=e);var o=m(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,t,n,i,0);for(var r=0,s=o;r<s.length;r++){var a=s[r];a.handler.call(a.context,t)}n&&n.call(this,t)}},e.prototype.blazorCallback=function(e,t,n,i,o){var r=this,s=o===e.length-1;if(o<e.length){var a=e[o],l=a.handler.call(a.context,t);if(l&&"function"===typeof l.then){if(!n)return l;l.then((function(l){if(l="string"===typeof l&&r.isJson(l)?JSON.parse(l,r.dateReviver):l,w(t,t,l,!0),!n||!s)return r.blazorCallback(e,t,n,i,o+1);n.call(a.context,t)})).catch((function(e){i&&i.call(a.context,"string"===typeof e&&r.isJson(e)?JSON.parse(e,r.dateReviver):e)}))}else{if(!n||!s)return this.blazorCallback(e,t,n,i,o+1);n.call(a.context,t)}}},e.prototype.dateReviver=function(e,t){return P&&"string"===typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t},e.prototype.isJson=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0},e.prototype.isHandlerPresent=function(e,t){for(var n=0,i=e;n<i.length;n++){if(i[n].handler===t)return!0}return!1},e}(),ee=new Z,te=!1,ne={},ie="en-US",oe="USD",re=["numericObject","dateObject"],se=function(){function e(e){e&&(this.culture=e)}return e.prototype.getDateFormat=function(e){return V.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},ne)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=oe),P()&&e&&!e.format&&(e.minimumFractionDigits=0),W.numberFormatter(this.getCulture(),e||{},ne)},e.prototype.getDateParser=function(e){return K.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},ne)},e.prototype.getNumberParser=function(e){return P()&&e&&!e.format&&(e.minimumFractionDigits=0),J.numberParser(this.getCulture(),e||{format:"N"},ne)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return le.getActualDateTimeFormat(this.getCulture(),e,ne,t)},e.prototype.getNumberPattern=function(e,t){return le.getActualNumberFormat(this.getCulture(),e,ne,t)},e.prototype.getFirstDayOfWeek=function(){return le.getWeekData(this.getCulture(),ne)},e.prototype.getCulture=function(){return this.culture||ie},e}();function ae(e,t){var n=le.getDependables(ne,e,"",!0)[re[0]],i=le.getDependables(ne,e,"")[re[1]],o=m("defaultNumberingSystem",n),r=P()?m("numberSymbols",n):m("symbols-numberSystem-"+o,n),s=le.getSymbolPattern(t||"decimal",o,n,!1);return w(r,le.getFormatData(s,!0,"",!0),{dateSeparator:le.getDateSeparator(i)})}var le,ce={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var n=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,o={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};e.dateConverterMapper=/dddd|ddd/gi;e.islamicRegex=/^islamic/;var r={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;var s={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function a(t,n,i,o,r){var s,a=i||"date";if(r)s=d({skeleton:t},r).format||d({skeleton:"d"},"en-US").format;else{if(-1!==e.basicPatterns.indexOf(t)){if(s=m(a+"Formats."+t,n),"dateTime"===a){var l=m("dateFormats."+t,n),c=m("timeFormats."+t,n);s=s.replace("{1}",l).replace("{0}",c)}}else s=m("dateTimeFormats.availableFormats."+t,n);S(s)&&"yMd"===t&&(s="M/d/y")}return s}function l(t,n,i,o){var r={},s=i||"gregorian";if(r.parserObject=H.getMainObject(t,n)||(P()?e.blazorDefaultObject:e.defaultObject),o)r.numericObject=m("numbers",r.parserObject);else{var a=P()?"dates":"dates.calendars."+s;r.dateObject=m(a,r.parserObject)}return r}function c(e,t,n,i){return m(e+"Formats-numberSystem-"+t+(i?".accounting":".standard"),n)||(i?m(e+"Formats-numberSystem-"+t+".standard",n):"")}function h(t){var n=t.match(e.dateConverterMapper);if(n&&P()){var i=3===n[0].length?"EEE":"EEEE";return t.replace(e.dateConverterMapper,i)}return t}function d(e,t){var n=e.format||e.skeleton,i=m((t||"en-US")+"."+n,ce);return i||(i=m("en-US."+n,ce)),i&&(i=h(i),e.format=i.replace(/tt/,"a")),e}function p(t){var n=t.match(e.formatRegex),i={},o=n[1].toUpperCase();return i.isAccount="A"===o,i.type=e.patternMatcher[o],t.length>1&&(i.fractionDigits=parseInt(n[2],10)),i}function u(n,i,o,r){var s=r?{}:{nlead:"",nend:""},a=n.match(e.customRegex);if(a){r||(s.nlead=f(a[1],o),s.nend=f(a[10],o),s.groupPattern=a[4]);var l=a[7];if(l&&i){var c=l.match(t);E(c)?s.minimumFraction=0:s.minimumFraction=c.length,s.maximumFraction=l.length-1}}return s}function f(t,n){return t?t.replace(e.defaultCurrency,n):""}function g(e,t,n){return m("currencies."+t+(n?"."+n:".symbol"),e)||m("currencies."+t+".symbol-alt-narrow",e)||"$"}function v(t,i,o){var r={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},s=t.match(e.customRegex);if(E(s)||""===s[5]&&"N/A"!==t)return r.type=void 0,r;r.nlead=s[1],r.nend=s[10];var a=s[6],l=!!a.match(/\ $/g),h=-1!==a.replace(/\ $/g,"").indexOf(" ");r.useGrouping=-1!==a.indexOf(",")||h,a=a.replace(/,/g,"");var d=s[7];if(-1!==a.indexOf("0")&&(r.minimumIntegerDigits=a.length-a.indexOf("0")),E(d)||(r.minimumFractionDigits=d.lastIndexOf("0"),r.maximumFractionDigits=d.lastIndexOf("#"),-1===r.minimumFractionDigits&&(r.minimumFractionDigits=0),(-1===r.maximumFractionDigits||r.maximumFractionDigits<r.minimumFractionDigits)&&(r.maximumFractionDigits=r.minimumFractionDigits)),E(i)?w(r,y([r.nlead,r.nend],"%","%")):(w(r,y([r.nlead,r.nend],"$",i.currencySymbol)),r.isCurrency||w(r,y([r.nlead,r.nend],"%",i.percentSymbol))),!E(o)){var p=c(r.type,i.numberMapper.numberSystem,o,!1);r.useGrouping&&(r.groupSeparator=h?" ":i.numberMapper.numberSymbols[n[2]],r.groupData=W.getGroupingDetails(p.split(";")[0])),r.nlead=r.nlead.replace(/'/g,""),r.nend=l?" "+r.nend.replace(/'/g,""):r.nend.replace(/'/g,"")}return r}function y(e,t,n){for(var i={nlead:e[0],nend:e[1]},o=0;o<2;o++){var r=e[o],a=r.indexOf(t);if(-1!==a&&(a<r.indexOf("'")||a>r.lastIndexOf("'"))){i[s[o]]=r.substr(0,a)+n+r.substr(a+1),i[s[t]]=!0,i.type=i.isCurrency?"currency":"percent";break}}return i}function b(e,t,n){e+=".";for(var i=0;i<t;i++)e+="0";if(t<n)for(var o=n-t,r=0;r<o;r++)e+="#";return e}function C(e,t){for(var n=e.split("."),i="",o=0;o<t;o++)i+="0";return n[1]?i+"."+n[1]:i}function k(e){var t=e.split("."),n=t[0],i=3-n.length%3;e="";for(var o=(n=(i&&1===i?"#":2===i?"##":"")+n).length-1;o>0;o-=3)e=","+n[o-2]+n[o-1]+n[o]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=a,e.getDependables=l,e.getSymbolPattern=c,e.ConvertDateToWeekFormat=h,e.compareBlazorDateFormats=d,e.getProperNumericSkeleton=p,e.getFormatData=u,e.changeCurrencySymbol=f,e.getCurrencySymbol=g,e.customFormat=function(e,t,n){for(var i={},o=e.split(";"),r=["pData","nData","zeroData"],s=0;s<o.length;s++)i[r[s]]=v(o[s],t,n);return E(i.nData)&&(i.nData=w({},i.pData),i.nData.nlead=E(t)?"-"+i.nData.nlead:t.minusSymbol+i.nData.nlead),i},e.customNumberFormat=v,e.isCurrencyPercent=y,e.getDateSeparator=function(e){var t=(m("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,n,r){var s=l(n,e,t.calendar);P()&&(t=d(t,e));var c=t.format||a(t.skeleton,s.dateObject,t.type);if(r){if(c=c.replace(i,(function(e){return o[e]})),-1!==c.indexOf("z")){var h=c.match(/z/g).length,p=void 0,u={timeZone:{}};u.numMapper=H.getNumberMapper(s.parserObject,H.getNumberingSystem(n)),u.timeZone=m("dates.timeZoneNames",s.parserObject);var f=(new Date).getTimezoneOffset(),g=h<4?"+H;-H":u.timeZone.hourFormat;g=g.replace(/:/g,u.numMapper.timeSeparator),0===f?p=u.timeZone.gmtZeroFormat:(p=V.getTimeZoneValue(f,g),p=u.timeZone.gmtFormat.replace(/\{0\}/,p)),c=c.replace(/[z]+/,'"'+p+'"')}c=c.replace(/ $/,"")}return c},e.getActualNumberFormat=function(t,n,i,o){var r,s,a=l(i,t,"",!0),h={custom:!0},d=a.numericObject,f={},v=(n.format||"").match(e.currencyFormatRegex),y=e.formatRegex.test(n.format)?p(n.format||"N"):{},E={};if(v){E.numberMapper=P()?w({},a.numericObject):H.getNumberMapper(a.parserObject,H.getNumberingSystem(i),!0);var S=P()?m("currencySymbol",a.numericObject):g(a.numericObject,n.currency||oe,n.altSymbol),T=c("currency",E.numberMapper.numberSystem,a.numericObject,/a/i.test(n.format)),x=(T=T.replace(/\u00A4/g,S)).split(";");f.hasNegativePattern=!!P()||x.length>1,f.nData=P()?m(y.type+"nData",d):u(x[1]||"-"+x[0],!0,S),f.pData=P()?m(y.type+"pData",d):u(x[0],!1,S),v[2]||n.minimumFractionDigits||n.maximumFractionDigits||(r=u(T.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(n.format)||!n.format){if(w(h,p(n.format||"N")),h.custom=!1,s="###0",h.fractionDigits||n.minimumFractionDigits||n.maximumFractionDigits||r){h.fractionDigits&&(n.minimumFractionDigits=n.maximumFractionDigits=h.fractionDigits),s=b(s,r||h.fractionDigits||n.minimumFractionDigits||0,n.maximumFractionDigits||0)}if(n.minimumIntegerDigits&&(s=C(s,n.minimumIntegerDigits)),n.useGrouping&&(s=k(s)),"currency"===h.type||h.type&&P()){P()&&"currency"!==h.type&&(f.pData=m(h.type+"pData",d),f.nData=m(h.type+"nData",d));var N=s;s=f.pData.nlead+N+f.pData.nend,(f.hasNegativePattern||P())&&(s+=";"+f.nData.nlead+N+f.nData.nend)}"percent"!==h.type||P()||(s+=" %")}else s=n.format.replace(/'/g,'"');return Object.keys(E).length>0&&(s=o?s:function(e,t){if(-1!==e.indexOf(",")){var n=e.split(",");e=n[0]+m("numberMapper.numberSymbols.group",t)+n[1].replace(".",m("numberMapper.numberSymbols.decimal",t))}else e=e.replace(".",m("numberMapper.numberSymbols.decimal",t));return e}(s,E)),s},e.fractionDigitsPattern=b,e.minimumIntegerPattern=C,e.groupingPattern=k,e.getWeekData=function(e,t){var n="sun",i=m("supplemental.weekData.firstDay",t),o=e;return/en-/.test(o)&&(o=o.slice(3)),o=o.slice(0,2).toUpperCase()+o.substr(2),i&&(n=i[o]||i[o.slice(0,2)]||"sun"),r[n]},e.replaceBlazorCurrency=function(e,t,n){var i=m(n||"",B);if(t!==i)for(var o=0,r=e;o<r.length;o++){var s=r[o];s.nend=s.nend.replace(t,i),s.nlead=s.nlead.replace(t,i)}},e.getWeekOfYear=function(e){var t,n=new Date(e.getFullYear(),0,1),i=n.getDay();i=i>=0?i:i+7;var o=Math.floor((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;if(i<4){if((t=Math.floor((o+i-1)/7)+1)>52){var r=new Date(e.getFullYear()+1,0,1).getDay();t=(r=r>=0?r:r+7)<4?1:53}}else t=Math.floor((o+i-1)/7);return t}}(le||(le={}));var he=/^(.*?):[ \t]*([^\r\n]*)$/gm,de=(function(){function e(e,t,n,i){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!E(n)||n):"object"===typeof e&&(this.options=e,C(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:i}e.prototype.send=function(e){var t=this;this.data=E(e)?this.data:e;var n={cancel:!1,httpRequest:null};return new Promise((function(e,i){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,i)},E(t.onLoad)||(t.httpRequest.onload=t.onLoad),E(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),E(t.onAbort)||(t.httpRequest.onabort=t.onAbort),E(t.onError)||(t.httpRequest.onerror=t.onError),E(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),E(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(n.httpRequest=t.httpRequest,t.beforeSend(n)),n.cancel||t.httpRequest.send(E(t.data)?null:t.data)}))},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var n=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===n)n=void 0;else try{n=JSON.parse(n)}catch(i){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(n)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,n;t={};for(var i=he.exec(this.httpRequest.getAllResponseHeaders());i;)t[i[1].toLowerCase()]=i[2],i=he.exec(this.httpRequest.getAllResponseHeaders());return E(n=t[e.toLowerCase()])?null:n}}(),/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i),pe=/msie|trident/i,ue=/Trident\/7\./,me=/(ipad|iphone|ipod touch)/i,fe=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,ge=/android/i,ve=/trident|windows phone|edge/i,ye=/(version)[ /]([\w.]+)/i,be={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var Ce=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},n=[],i=0,o=Object.keys(be);i<o.length;i++){var r=o[i];if(n=e.userAgent.match(be[r])){if(t.name="opr"===n[1].toLowerCase()?"opera":n[1].toLowerCase(),t.name="crios"===n[1].toLowerCase()?"chrome":t.name,t.version=n[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(ue)){t.name="msie";break}var s=e.userAgent.match(ye);"safari"===t.name&&s&&(t.version=s[2]);break}}return t},e.getEvent=function(t){var n={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?n[t].isPointer:e.isTouch?n[t].isTouch+(e.isDevice?"":" "+n[t].isDevice):n[t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.getValue=function(t,n){var i=window.browserDetails;return"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===e.isTouch&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),"undefined"===typeof i[t]?i[t]=n.test(e.userAgent):i[t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return S(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",pe)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return S(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return S(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return S(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",de)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",me)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",fe)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",ge)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return S(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(S(window.cordova)&&S(window.PhoneGap)&&S(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",ve)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return S(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return S(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return S(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return S(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}(),we=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,n,i,o,r){var s,a=e.addOrGetEventData(t);s=r?T(i,r):i,o&&(s=s.bind(o));for(var l=n.split(" "),c=0;c<l.length;c++)a.push({name:l[c],listener:i,debounce:s}),Ce.isIE?t.addEventListener(l[c],s):t.addEventListener(l[c],s,{passive:!1});return s},e.remove=function(t,n,i){for(var o=e.addOrGetEventData(t),r=n.split(" "),s=function(e){var n,s=-1;o&&0!==o.length&&o.some((function(t,o){return t.name===r[e]&&t.listener===i&&(s=o,n=t.debounce,!0)})),-1!==s&&o.splice(s,1),n&&t.removeEventListener(r[e],n)},a=0;a<r.length;a++)s(a)},e.clearEvents=function(t){var n,i;i=w([],i,n=e.addOrGetEventData(t));for(var o=0;o<i.length;o++)t.removeEventListener(i[o].name,i[o].debounce),n.shift()},e.trigger=function(t,n,i){for(var o=0,r=e.addOrGetEventData(t);o<r.length;o++){var s=r[o];s.name===n&&s.debounce.call(this,i)}},e}(),Ee=/^svg|^path|^g/;function Se(e,t){var n=Ee.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t||(n.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(n.className=t.className),void 0!==t.id&&(n.id=t.id),void 0!==t.styles&&n.setAttribute("style",t.styles),void 0!==t.attrs&&Re(n,t.attrs)),n}function ke(e,t){for(var n=xe(t),i=0,o=e;i<o.length;i++)for(var r=o[i],s=0,a=n;s<a.length;s++){var l=a[s];if(y(r)){var c=m("attributes.className",r);E(c)?f("attributes.className",l,r):new RegExp("\\b"+l+"\\b","i").test(c)||f("attributes.className",c+" "+l,r)}else r.classList.contains(l)||r.classList.add(l)}return e}function Te(e,t){for(var n=xe(t),i=0,o=e;i<o.length;i++){var r=o[i],s=y(r);if(s?m("attributes.className",r):""!==r.className)for(var a=0,l=n;a<l.length;a++){var c=l[a];if(s){var h=m("attributes.className",r).split(" "),d=h.indexOf(c);-1!==d&&h.splice(d,1),f("attributes.className",h.join(" "),r)}else r.classList.remove(c)}}return e}function xe(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function Ne(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function Le(e,t,n){for(var i=document.createDocumentFragment(),o=0,r=e;o<r.length;o++){var s=r[o];i.appendChild(s)}return t.insertBefore(i,t.firstElementChild),n&&De(t),e}function Pe(e,t,n){for(var i=document.createDocumentFragment(),o=0,r=e;o<r.length;o++){var s=r[o];i.appendChild(s)}return t.appendChild(i),n&&De(t),e}function De(e){e.querySelectorAll("script").forEach((function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),Oe(t)}))}function Oe(e){var t=e.parentNode;if(t)return t.removeChild(e)}function Me(e){var t=e.parentNode;we.clearEvents(e),t.removeChild(e)}function Re(e,t){for(var n=e,i=0,o=Object.keys(t);i<o.length;i++){var r=o[i];if(y(n)){var s=r;"tabindex"===r&&(s="tabIndex"),n.attributes[s]=t[r]}else n.setAttribute(r,t[r])}return n}function Ae(e,t,n){return void 0===t&&(t=document),e=Be(e),t.querySelector(e)}function He(e,t,n){return void 0===t&&(t=document),e=Be(e),t.querySelectorAll(e)}function Be(e){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(e.match(/#[0-9]/g)||e.match(t)){for(var n=e.split(","),i=0;i<n.length;i++){for(var o=n[i].split(" "),r=0;r<o.length;r++)if(o[r].indexOf("#")>-1&&!o[r].match(/\[.*\]/)){var s=o[r].split("#");if(s[1].match(/^\d/)||s[1].match(t)){var a=o[r].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",o[r]=a.join(".")}}n[i]=o.join(" ")}return n.join(",")}return e}function Ie(e,t){var n=e;if("function"===typeof n.closest)return n.closest(t);for(;n&&1===n.nodeType;){if(ze(n,t))return n;n=n.parentNode}return null}function Fe(e,t){void 0!==t&&Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function je(e,t,n){ke([e],t),Te([e],n)}function ze(e,t){var n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return n?n.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var _e=new RegExp("]"),Ve=function(){function e(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new Z(this),S(t)||(this.element="string"===typeof t?document.querySelector(t):t,E(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),S(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var n=this.isProtectedOnChange;this.isProtectedOnChange=!!t,C(this,e),!0!==t?(C(this.changedProperties,e),this.dataBind()):P()&&this.isRendered&&this.serverDataBind(e),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=n},e.callChildDataBind=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];if(t[o]instanceof Array)for(var r=0,s=t[o];r<s.length;r++){var a=s[r];void 0!==a.dataBind&&a.dataBind()}else t[o].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,n=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(n,i),this.isProtectedOnChange=t}},e.prototype.serverDataBind=function(e){if(P()){e=e||{},w(this.bulkChanges,{},e,!0);this.allowServerDataBinding&&window.sfBlazor.updateModel&&(window.sfBlazor.updateModel(this),this.bulkChanges={})}},e.prototype.saveChanges=function(e,t,n){if(P()){var i={};i[e]=t,this.serverDataBind(i)}this.isProtectedOnChange||(this.oldProperties[e]=n,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){var t,n=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(n);var i="ej2"+function(e){for(var t="",n=0;n<5;n++)t+=(n?",":"")+e[n];return t}(n),o=function(n){n.source===window&&"string"===typeof n.data&&n.data.length<=32&&n.data===i&&(e(),t())};return window.addEventListener("message",o,!1),window.postMessage(i,"*"),t=function(){window.removeEventListener("message",o),e=o=i=void 0}}(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t,n,i){var o=this;if(!0!==this.isDestroyed){var r=this.isProtectedOnChange;this.isProtectedOnChange=!1;var s=this.modelObserver.notify(e,t,n,i);if(_e.test(e)){var a=m(e,this);if(a){if(window.Blazor){var l=a.call(this,t);l&&"function"===typeof l.then?n?l.then((function(e){n&&(e="string"===typeof e&&o.modelObserver.isJson(e)?JSON.parse(e):e,n.call(o,e))})).catch((function(e){i&&(e="string"===typeof e&&o.modelObserver.isJson(e)?JSON.parse(e):e,i.call(o,e))})):s=l:n&&n.call(this,t)}else a.call(this,t),n&&n.call(this,t)}else n&&n.call(this,t)}return this.isProtectedOnChange=r,s}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();ke([this.element],["e-lib",e]),E(this.element.ej2_instances)?f("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter((function(t){return t!==e})),Te([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Te([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();function qe(e,t){var n,i,o="string"===typeof e?document.getElementById(e):e;for(i=0;i<o.ej2_instances.length;i++){if(n=o.ej2_instances[i],"string"===typeof t){if(t===n.getModuleName())return n}else if(n instanceof t)return n}}function Ue(e,t,n,i){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof i||(e.properties[t]=u(i,[e,t,n])),e.properties[t]}function We(e,t,n,i,o,r){for(var s=[],a=n?n.length:0,l=0;l<a;l++){var c=i;if(r&&(c=i(n[l],e)),o){var h=u(c,[e,t,{},!0]);h.setProperties(n[l],!0),s.push(h)}else s.push(u(c,[e,t,n[l],!1]))}return s}function Xe(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function Ye(e,t){return function(n){if(this.properties[t]!==n){var i=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,n,i),this.properties[t]=n}}}function Ke(e,t,n){return function(){return Ue(this,t,e,n)}}function Ge(e,t,n){return function(i){Ue(this,t,e,n).setProperties(i)}}function $e(e,t,n){return function(){var i=this;if(!this.properties.hasOwnProperty(t)){var o=We(this,t,e,n,!1);this.properties[t]=o}var r=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return this.properties[t].hasOwnProperty("push")||r||["push","pop"].forEach((function(e){var o={value:Je(e,t,n,i.properties[t]).bind(i),configurable:!0};Object.defineProperty(i.properties[t],e,o)})),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[t],"isComplexArray",{value:!0}),this.properties[t]}}function Qe(e,t,n){return function(i){this.isComplexArraySetter=!0;var o=We(this,t,e,n,!1),r=We(this,t,i,n,!0);this.isComplexArraySetter=!1,this.saveChanges(t,r,o),this.properties[t]=r}}function Je(e,t,n,i){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(e){case"push":for(var s=0;s<n.length;s++){Array.prototype[e].apply(i,[n[s]]);var a=Ze(r+(i.length-1),n[s],!this.controlParent,e);this.serverDataBind(a,n[s],!1,e)}break;case"pop":Array.prototype[e].apply(i);var l=Ze(r+i.length,null,!this.controlParent,e);this.serverDataBind(l,{ejsAction:"pop"},!1,e)}return i}}function Ze(e,t,n,i){var o=e;if(n&&((o={})[e]=t,t&&"object"===typeof t)){o[e].ejsAction=i}return o}function et(e){return function(t,n){var i={set:Ye(e,n),get:Xe(e,n),enumerable:!0,configurable:!0};Object.defineProperty(t,n,i),rt(t,n,"prop",e)}}function tt(e,t){return function(n,i){var o={set:Ge(e,i,t),get:Ke(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,o),rt(n,i,"complexProp",e,t)}}function nt(e,t){return function(n,i){var o={set:Qe(e,i,t),get:$e(e,i,t),enumerable:!0,configurable:!0};Object.defineProperty(n,i,o),rt(n,i,"colProp",e,t)}}function it(){return function(e,t){var n={set:function(e){var n=this.properties[t];if(n!==e){var i=st(this,t);!1===S(n)&&i.context.removeEventListener(i.prefix,n),i.context.addEventListener(i.prefix,e),this.properties[t]=e}},get:Xe(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,n),rt(e,t,"event")}}function ot(e){}function rt(e,t,n,i,o){S(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[n+"s"].push({propertyName:t,defaultValue:i,type:o}),e.propList[n+"Names"].push(t)}function st(e,t){if(!1===e.hasOwnProperty("parentObj"))return{context:e,prefix:t};var n=m("propName",e);return n&&(t=n+"-"+t),st(m("parentObj",e),t)}var at=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ct=function(e){function t(t){var n=e.call(this,t,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var n;return at(t,e),n=t,t.prototype.animate=function(e,t){t=t||{};var i=this.getModel(t);if("string"===typeof e)for(var o=0,r=Array.prototype.slice.call(He(e,document));o<r.length;o++){var s=r[o];i.element=s,n.delayAnimation(i)}else i.element=e,n.delayAnimation(i)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var n=e.getAttribute("e-animation-id");if(n){var i=parseInt(n,10);cancelAnimationFrame(i),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){e.delay?setTimeout((function(){n.applyAnimation(e)}),e.delay):n.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var n=0,i=0,o=0,r=e.duration;e.element.setAttribute("e-animate","true");!function s(a){try{if(a){o=0===o?a:o,e.timeStamp=a+e.timeStamp-o,o=a,!n&&e.begin&&e.begin.call(t,e),n+=1;var l=e.timeStamp/n;e.timeStamp<r&&e.timeStamp+l<r&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(s)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else i=requestAnimationFrame(s),e.element.setAttribute("e-animation-id",i.toString())}catch(c){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,c)}}()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},lt([et("FadeIn")],t.prototype,"name",void 0),lt([et(400)],t.prototype,"duration",void 0),lt([et("ease")],t.prototype,"timingFunction",void 0),lt([et(0)],t.prototype,"delay",void 0),lt([it()],t.prototype,"progress",void 0),lt([it()],t.prototype,"begin",void 0),lt([it()],t.prototype,"end",void 0),lt([it()],t.prototype,"fail",void 0),t=n=lt([ot],t)}(Ve);function ht(e,t,n){var i=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!ft?function(){}:(e.setAttribute("data-ripple","true"),we.add(e,"mousedown",dt,{parent:e,rippleOptions:i}),we.add(e,"mouseup",pt,{parent:e,rippleOptions:i,done:n}),we.add(e,"mouseleave",ut,{parent:e,rippleOptions:i}),Ce.isPointer&&we.add(e,"transitionend",ut,{parent:e,rippleOptions:i}),function(){e.removeAttribute("data-ripple"),we.remove(e,"mousedown",dt),we.remove(e,"mouseup",pt),we.remove(e,"mouseleave",ut),we.remove(e,"transitionend",ut)})}function dt(e){var t=e.target,n=this.rippleOptions.selector,i=n?Ie(t,n):t;if(!(!i||this.rippleOptions&&Ie(t,this.rippleOptions.ignore))){var o=i.getBoundingClientRect(),r=e.pageX-document.body.scrollLeft,s=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(r-o.left),Math.abs(r-o.right)),l=Math.max(Math.abs(s-o.top),Math.abs(s-o.bottom)),c=Math.sqrt(a*a+l*l),h=2*c+"px",d=r-o.left-c,p=s-o.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,p=0,h="100%"),i.classList.add("e-ripple");var u=Se("div",{className:"e-ripple-element",styles:"width: "+h+";height: "+h+";left: "+d+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)",i!==this.parent&&we.add(i,"mouseleave",ut,{parent:this.parent,rippleOptions:this.rippleOptions})}}function pt(e){mt(e,this)}function ut(e){mt(e,this)}function mt(e,t){var n=t.rippleOptions.duration,i=e.target,o=t.rippleOptions.selector,r=o?Ie(i,o):i;if(r&&(!r||-1!==r.className.indexOf("e-ripple"))){var s=He(".e-ripple-element",r),a=s[s.length-1];a&&(a.style.opacity="0.5"),t.parent!==r&&we.remove(r,"mouseleave",ut),setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a),r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple"),t.done&&t.done(e)}),n)}}var ft=!1;var gt,vt=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var n=e.length;if(0!==n){this.loadedModules.length&&this.clearUnusedModule(e);for(var i=0;i<n;i++)for(var o=e[i],r=0,s=t;r<s.length;r++){var a=s[r],l=o.member;if(a.prototype.getModuleName()===o.member&&!this.isModuleLoaded(l)){var c=u(a,o.args),h=this.getMemberName(l);o.isProperty?f(h,a,this.parent):f(h,c,this.parent);var d=o;d.member=h,this.loadedModules.push(d)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var n=t[e];n.isProperty||m(n.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t=this,n=e.map((function(e){return t.getMemberName(e.member)})),i=0,o=this.loadedModules.filter((function(e){return-1===n.indexOf(e.member)}));i<o.length;i++){var r=o[i];r.isProperty||m(r.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(r),1),g(this.parent,r.member)}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,n=this.loadedModules;t<n.length;t++){if(n[t].member===this.getMemberName(e))return!0}return!1},e}(),yt=function(){function e(e,t,n,i){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=m("callChildDataBind",Ve),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=i,this.setProperties(n,!0)}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(C(this,e),this.updateChange(!1,this.propName),this.clearChanges()):C(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(f(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),f(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,n,i){this.controlParent.isProtectedOnChange||(i||this.serverDataBind(e,t,!0),this.oldProperties[e]=n,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e.prototype.serverDataBind=function(e,t,n,i){if(P()&&!this.parentObj.isComplexArraySetter){var o,r={},s=n?this.getParentKey(!0)+"."+e:e;if(-1!==s.indexOf(".")){var a=s.split(".");o=r;for(var l=0;l<a.length;l++){var c=l===a.length-1;o[a[l]]=c?t:{},o=c?o:o[a[l]]}}else r[s]={},o=r[s],r[s][e]=t;if(this.isParentArray){o.ejsAction=i||"none"}this.controlParent.serverDataBind(r)}},e.prototype.getParentKey=function(e){var t="",n=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);var i=this.parentObj[this.propName].length;i=e?i:i>0?i-1:0,n+=t=-1!==t?"-"+t:"-"+i}return this.controlParent!==this.parentObj&&(n=this.parentObj.getParentKey()+"."+this.propName+t),n},e}(),bt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ct=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wt=0,Et=0,St=!1;var kt=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),i.isStringTemplate=!1,i.needsID=!1,i.isReactHybrid=!1,E(i.enableRtl)&&i.setProperties({enableRtl:te},!0),E(i.locale)&&i.setProperties({locale:ie},!0),i.moduleLoader=new vt(i),i.localObserver=new Z(i),ee.on("notifyExternalChange",i.detectFunction,i,i.randomId),S(n)||i.appendTo(),i}return bt(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(Te([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),ee.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Z(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return St?window.localStorage.getItem(e+this.ej2StatePersistenceVersion):window.localStorage.getItem(e)},t.prototype.appendTo=function(t){if(E(t)||"string"!==typeof t?E(t)||(this.element=t):this.element=Ae(t,document),!E(this.element)){var n="e-"+this.getModuleName().toLowerCase();ke([this.element],["e-control",n]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var i=m("ej2_instances",this.element);i&&-1!==i.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(P()){window.sfBlazor.renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,n){if("string"===typeof e)this.localObserver.on(e,t,n);else for(var i=0,o=e;i<o.length;i++){var r=o[i];this.localObserver.on(r.event,r.handler,r.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var n=0,i=e;n<i.length;n++){var o=i[n];this.localObserver.off(o.event,o.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)-1===this.prototype.injectedModules.indexOf(e[n])&&this.prototype.injectedModules.push(e[n])},t.prototype.createElement=function(e,t,n){return Se(e,t)},t.prototype.triggerStateChange=function(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e;E(e=St?window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||(St?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},t.prototype.renderReactTemplates=function(){},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(wt=0),gt=this.pageID(location.href),Et=history.length,e+"_"+gt+"_"+wt++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return gt!==this.pageID(location.href)||Et!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,n={},i=0,o=e;i<o.length;i++){var r,s=o[i];S(r=m(s,this))||f(s,this.getActualProperties(r),n)}return JSON.stringify(n,(function(e,n){return t.getActualProperties(n)}))},t.prototype.getActualProperties=function(e){return e instanceof yt?m("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var n={},i=function(i){if(-1===t.indexOf(i)){var r=e[i];if("object"!==typeof r||r instanceof Array)n[i]=r;else{var s=t.filter((function(e){return new RegExp(i+".").test(e)})).map((function(e){return e.replace(i+".","")}));n[i]=o.iterateJsonProperties(o.getActualProperties(r),s)}}},o=this,r=0,s=Object.keys(e);r<s.length;r++){i(s[r])}return n},Ct([et(!1)],t.prototype,"enablePersistence",void 0),Ct([et()],t.prototype,"enableRtl",void 0),Ct([et()],t.prototype,"locale",void 0),t=Ct([ot],t)}(Ve);"undefined"!==typeof window&&window.addEventListener("popstate",(function(){wt=0}));var Tt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Nt={left:0,top:0,bottom:0,right:0},Lt={isDragged:!1},Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tt(t,e),xt([et(0)],t.prototype,"left",void 0),xt([et(0)],t.prototype,"top",void 0),t}(yt),Dt=function(e){function t(t,i){var o=e.call(this,i,t)||this;return o.dragLimit=n.getDefaultPosition(),o.borderWidth=n.getDefaultPosition(),o.padding=n.getDefaultPosition(),o.diffX=0,o.prevLeft=0,o.prevTop=0,o.dragProcessStarted=!1,o.eleTop=0,o.tapHoldTimer=0,o.externalInitialize=!1,o.diffY=0,o.parentScrollX=0,o.parentScrollY=0,o.droppables={},o.bind(),o}var n;return Tt(t,e),n=t,t.prototype.bind=function(){this.toggleEvents(),Ce.isIE&&ke([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return w({},Nt)},t.prototype.toggleEvents=function(e){var t;S(this.handle)||(t=Ae(this.handle,this.element));var n=this.enableTapHold&&Ce.isDevice&&Ce.isTouch?this.mobileInitialize:this.initialize;e?we.remove(t||this.element,Ce.touchStartEvent,n):we.add(t||this.element,Ce.touchStartEvent,n,this)},t.prototype.mobileInitialize=function(e){var t=this,n=e.currentTarget;this.tapHoldTimer=setTimeout((function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,n)}),this.tapHoldThreshold),we.add(document,Ce.touchMoveEvent,this.removeTapholdTimer,this),we.add(document,Ce.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),we.remove(document,Ce.touchMoveEvent,this.removeTapholdTimer),we.remove(document,Ce.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return E(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),E(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(e,t){if(this.currentStateTarget=e.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){var n=this.abort;"string"===typeof n&&(n=[n]);for(var i=0;i<n.length;i++)if(!E(Ie(e.target,n[i])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!S(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var o=this.getCoordinates(e);if(this.initialPosition={x:o.pageX,y:o.pageY},!this.clone){var r=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=o.pageX-(r.left+this.parentScrollX),this.relativeYPosition=o.pageY-(r.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(we.add(document,Ce.touchMoveEvent,this.intDragStart,this),we.add(document,Ce.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,we.trigger(document.documentElement,Ce.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!S(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var n,i=this.getCoordinates(e),o=getComputedStyle(this.element);this.margin={left:parseInt(o.marginLeft,10),top:parseInt(o.marginTop,10),right:parseInt(o.marginRight,10),bottom:parseInt(o.marginBottom,10)};var r=this.element;if(this.clone&&this.dragTarget){var s=Ie(e.target,this.dragTarget);E(s)||(r=s)}this.isReplaceDragEle&&(r=this.currentStateCheck(e.target,r)),this.offset=this.calculateParentPosition(r),this.position=this.getMousePosition(e,this.isDragScroll);var a=this.initialPosition.x-i.pageX,l=this.initialPosition.y-i.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){var c=this.getHelperElement(e);if(!c||E(c))return;var h=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(h.offsetParent),this.dragStart){var d={event:e,element:r,target:this.getProperTargetElement(e),bindEvents:P()?this.bindDragEvents.bind(this):null,dragElement:h};this.trigger("dragStart",d)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),n={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var p=getComputedStyle(r),u=parseFloat(p.marginTop);this.clone&&0!==u&&(n.top+=u),this.eleTop=isNaN(parseFloat(p.top))?0:parseFloat(p.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(n.top-=this.parentScrollY,n.left-=this.parentScrollX);var m=this.getProcessedPositionValue({top:n.top-this.diffY+"px",left:n.left-this.diffX+"px"});this.dragElePosition={top:n.top,left:n.left},Fe(h,this.getDragPosition({position:"absolute",left:m.left,top:m.top})),we.remove(document,Ce.touchMoveEvent,this.intDragStart),we.remove(document,Ce.touchEndEvent,this.intDestroy),P()||this.bindDragEvents(h)}}},t.prototype.bindDragEvents=function(e){Ne(e)?(we.add(document,Ce.touchMoveEvent,this.intDrag,this),we.add(document,Ce.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(E(e))return{left:0,top:0};var t=e.getBoundingClientRect(),n=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(n.marginLeft,10),top:t.top+window.pageYOffset-parseInt(n.marginTop,10)}},t.prototype.intDrag=function(e){if(S(e.changedTouches)||1===e.changedTouches.length){var t,n;this.clone&&e.changedTouches&&Ce.isDevice&&Ce.isTouch&&e.preventDefault(),this.position=this.getMousePosition(e,this.isDragScroll);var i=this.getDocumentWidthHeight("Height");i<this.position.top&&(this.position.top=i);var o=this.getDocumentWidthHeight("Width");if(o<this.position.left&&(this.position.left=o),this.drag){var r=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:r})}var s=this.checkTargetElement(e);if(s.target&&s.instance){var a=!0;this.hoverObject&&(this.hoverObject.instance!==s.instance?this.triggerOutFunction(e,s):a=!1),a&&(s.instance.dragData[this.scope]=this.droppables[this.scope],s.instance.intOver(e,s.target),this.hoverObject=s)}else this.hoverObject&&this.triggerOutFunction(e,s);var l=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var c=this.parentClientRect.left,h=this.parentClientRect.top,d=this.getCoordinates(e),p=d.pageX,u=d.pageY,m=this.position.left-this.diffX,f=this.position.top-this.diffY,g=getComputedStyle(l);if(this.dragArea){if(this.pageX!==p||this.skipDistanceCheck){var v=l.offsetWidth+(parseFloat(g.marginLeft)+parseFloat(g.marginRight));t=this.dragLimit.left>m&&m>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<m+v&&m>0?m-(m-this.dragLimit.right)+window.pageXOffset-v:m<0?this.dragLimit.left:m}if(this.pageY!==u||this.skipDistanceCheck){var y=l.offsetHeight+(parseFloat(g.marginTop)+parseFloat(g.marginBottom));n=this.dragLimit.top>f&&f>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<f+y&&f>0?f-(f-this.dragLimit.bottom)+window.pageYOffset-y:f<0?this.dragLimit.top:f}}else t=m,n=f;var b,C,w=h+this.borderWidth.top,k=c+this.borderWidth.left;this.dragProcessStarted&&(E(n)&&(n=this.prevTop),E(t)&&(t=this.prevLeft)),this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,b=n-w<0?this.dragLimit.top:n-w,C=t-k<0?this.dragElePosition.left:t-k):(b=n-w,C=t-k);var T=parseFloat(getComputedStyle(this.element).marginTop);if(T>0&&(this.clone&&(b+=T,f<0&&(T+f>=0?b=T+f:b-=T),b=this.dragLimit.bottom<b?this.dragLimit.bottom:b),n-w<0))if(f+T+(l.offsetHeight-w)>=0){var x=this.dragLimit.top+f-w;x+T+w<0?b-=T+w:b=x}else b-=T+w;this.enableScrollHandler&&!this.clone&&(b-=this.parentScrollY,C-=this.parentScrollX);var N=this.getProcessedPositionValue({top:b+"px",left:C+"px"});Fe(l,this.getDragPosition(N)),!this.elementInViewport(l)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=n,this.position.left=t,this.position.top=n,this.pageX=p,this.pageY=u}},t.prototype.triggerOutFunction=function(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(e){var t=w({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,n=document.documentElement;return Math.max(t["scroll"+e],n["scroll"+e],t["offset"+e],n["offset"+e],n["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,S(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var n=this.checkTargetElement(e);n.target&&n.instance&&(n.instance.dragStopCalled=!0,n.instance.dragData[this.scope]=this.droppables[this.scope],n.instance.intDrop(e,n.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),we.remove(document,Ce.touchMoveEvent,this.intDragStart),we.remove(document,Ce.touchEndEvent,this.intDragStop),we.remove(document,Ce.touchEndEvent,this.intDestroy),we.remove(document,Ce.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(e){return e&&(Lt.isDragged=!Lt.isDragged),Lt.isDragged},t.prototype.setDragArea=function(){var e,t,n,i=0,o=0;if(n="string"===typeof this.dragArea?Ae(this.dragArea):this.dragArea){var r=n.getBoundingClientRect();e=n.scrollWidth?n.scrollWidth:r.right-r.left,t=n.scrollHeight?n.scrollHeight:r.bottom-r.top;for(var s=["Top","Left","Bottom","Right"],a=getComputedStyle(n),l=0;l<s.length;l++){var c=s[l],h=a["border"+c+"Width"],d=a["padding"+c],p=c.toLowerCase();this.borderWidth[p]=isNaN(parseFloat(h))?0:parseFloat(h),this.padding[p]=isNaN(parseFloat(d))?0:parseFloat(d)}i=r.top,o=r.left,this.dragLimit.left=o+this.borderWidth.left+this.padding.left,this.dragLimit.top=n.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=o+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,n=this.getCoordinates(e),i=this.helperElement.style.pointerEvents||"";return x(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",t=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=i):t=e.target,t},t.prototype.currentStateCheck=function(e,t){return E(this.currentStateTarget)||this.currentStateTarget===e?E(t)?e:t:this.currentStateTarget},t.prototype.getMousePosition=function(e,t){var n,i,o=void 0!==e.srcElement?e.srcElement:e.target,r=this.getCoordinates(e),s=E(o.offsetParent);return t?(n=this.clone?r.pageX:r.pageX+(s?0:o.offsetParent.scrollLeft)-this.relativeXPosition,i=this.clone?r.pageY:r.pageY+(s?0:o.offsetParent.scrollTop)-this.relativeYPosition):(n=this.clone?r.pageX:r.pageX+window.pageXOffset-this.relativeXPosition,i=this.clone?r.pageY:r.pageY+window.pageYOffset-this.relativeYPosition),{left:n-(this.margin.left+this.cursorAt.left),top:i-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Se("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,n){this.droppables[this.scope]=e?null:{draggable:t,helper:n,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),n=this.getDropInstance(t);if(!n&&t&&!E(t.parentNode)){var i=Ie(t.parentNode,".e-droppable")||t.parentElement;i&&(n=this.getDropInstance(i))}return{target:t,instance:n}},t.prototype.getDropInstance=function(e){var t,n=e&&e.ej2_instances;if(n)for(var i=0,o=n;i<o.length;i++){var r=o[i];if("droppable"===r.getModuleName()){t=r;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},xt([tt({},Pt)],t.prototype,"cursorAt",void 0),xt([et(!0)],t.prototype,"clone",void 0),xt([et()],t.prototype,"dragArea",void 0),xt([et()],t.prototype,"isDragScroll",void 0),xt([et()],t.prototype,"isReplaceDragEle",void 0),xt([et(!0)],t.prototype,"isPreventSelect",void 0),xt([it()],t.prototype,"drag",void 0),xt([it()],t.prototype,"dragStart",void 0),xt([it()],t.prototype,"dragStop",void 0),xt([et(1)],t.prototype,"distance",void 0),xt([et()],t.prototype,"handle",void 0),xt([et()],t.prototype,"abort",void 0),xt([et()],t.prototype,"helper",void 0),xt([et("default")],t.prototype,"scope",void 0),xt([et("")],t.prototype,"dragTarget",void 0),xt([et()],t.prototype,"axis",void 0),xt([et()],t.prototype,"queryPositionInfo",void 0),xt([et(!1)],t.prototype,"enableTailMode",void 0),xt([et(!1)],t.prototype,"skipDistanceCheck",void 0),xt([et(!0)],t.prototype,"preventDefault",void 0),xt([et(!1)],t.prototype,"enableAutoScroll",void 0),xt([et(!1)],t.prototype,"enableTapHold",void 0),xt([et(750)],t.prototype,"tapHoldThreshold",void 0),xt([et(!1)],t.prototype,"enableScrollHandler",void 0),t=n=xt([ot],t)}(Ve),Ot=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Rt=(function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.mouseOver=!1,i.dragData={},i.dragStopCalled=!1,i.bind(),i}Ot(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){we.add(this.element,Ce.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:n}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var n,i=!0,o=this.dragData[this.scope],r=!!o&&(o.helper&&Ne(o.helper));r&&(n=this.isDropArea(e,o.helper,t),this.accept&&(i=ze(o.helper,this.accept))),r&&this.drop&&n.canDrop&&i&&this.trigger("drop",{event:e,target:n.target,droppedElement:o.helper,dragData:o}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,n){var i={canDrop:!0,target:n||e.target},o="touchend"===e.type;if(o||i.target===t){t.style.display="none";var r=o?e.changedTouches[0]:e,s=document.elementFromPoint(r.clientX,r.clientY);i.canDrop=!1,i.canDrop=x(s,this.element),i.canDrop&&(i.target=s),t.style.display=""}return i},t.prototype.destroy=function(){we.remove(this.element,Ce.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},Mt([et()],t.prototype,"accept",void 0),Mt([et("default")],t.prototype,"scope",void 0),Mt([it()],t.prototype,"drop",void 0),Mt([it()],t.prototype,"over",void 0),Mt([it()],t.prototype,"out",void 0),t=Mt([ot],t)}(Ve),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),At=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ht={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Bt=function(e){function t(t,i){var o=e.call(this,i,t)||this;return o.keyPressHandler=function(e){for(var t=e.altKey,i=e.ctrlKey,r=e.shiftKey,s=e.which,a=0,l=Object.keys(o.keyConfigs);a<l.length;a++)for(var c=l[a],h=0,d=o.keyConfigs[c].split(",");h<d.length;h++){var p=d[h],u=n.getKeyConfigData(p.trim());t===u.altKey&&i===u.ctrlKey&&r===u.shiftKey&&s===u.keyCode&&(e.action=c,o.keyAction&&o.keyAction(e))}},o.bind(),o}var n;return Rt(t,e),n=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?i.keyCode=Number(t[t.length-1]):i.keyCode=n.getKeyCode(t[t.length-1]),n.configCache[e]=i,i},t.getKeyCode=function(e){return Ht[e]||e.toUpperCase().charCodeAt(0)},t.configCache={},At([et({})],t.prototype,"keyConfigs",void 0),At([et("keyup")],t.prototype,"eventName",void 0),At([it()],t.prototype,"keyAction",void 0),t=n=At([ot],t)}(Ve),It=function(){function e(e,t,n){this.controlName=e,this.localeStrings=t,this.setLocale(n||ie)}return e.prototype.setLocale=function(t){var n=this.intGetControlConstant(e.locale,t);this.currentLocale=n||this.localeStrings},e.load=function(e){this.locale=w(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return E(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]},e.prototype.intGetControlConstant=function(e,t){return e[t]?e[t][this.controlName]:null},e.locale={},e}(),Ft=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),jt([et(50)],t.prototype,"swipeThresholdDistance",void 0),t}(yt),_t=/(Up|Down)/,Vt=function(e){function t(t,n){var i=e.call(this,n,t)||this;return i.touchAction=!0,i.tapCount=0,i.startEvent=function(e){if(!0===i.touchAction){var t=i.updateChangeTouches(e);void 0!==e.changedTouches&&(i.touchAction=!1),i.isTouchMoved=!1,i.movedDirection="",i.startPoint=i.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},i.startEventData=t,i.hScrollLocked=i.vScrollLocked=!1,i.tStampStart=Date.now(),i.timeOutTapHold=setTimeout((function(){i.tapHoldEvent(e)}),i.tapHoldThreshold),we.add(i.element,Ce.touchMoveEvent,i.moveEvent,i),we.add(i.element,Ce.touchEndEvent,i.endEvent,i),we.add(i.element,Ce.touchCancelEvent,i.cancelEvent,i)}},i.moveEvent=function(e){var t=i.updateChangeTouches(e);i.movedPoint=t,i.isTouchMoved=!(t.clientX===i.startPoint.clientX&&t.clientY===i.startPoint.clientY);var n={};i.isTouchMoved&&(clearTimeout(i.timeOutTapHold),i.calcScrollPoints(e),n=w(n,{},{startEvents:i.startEventData,originalEvent:e,startX:i.startPoint.clientX,startY:i.startPoint.clientY,distanceX:i.distanceX,distanceY:i.distanceY,scrollDirection:i.scrollDirection,velocity:i.getVelocity(t)}),i.trigger("scroll",n),i.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},i.cancelEvent=function(e){clearTimeout(i.timeOutTapHold),clearTimeout(i.timeOutTap),i.tapCount=0,i.swipeFn(e),we.remove(i.element,Ce.touchCancelEvent,i.cancelEvent)},i.endEvent=function(e){i.swipeFn(e),i.isTouchMoved||"function"===typeof i.tap&&(i.trigger("tap",{originalEvent:e,tapCount:++i.tapCount}),i.timeOutTap=setTimeout((function(){i.tapCount=0}),i.tapThreshold)),i.modeclear()},i.swipeFn=function(e){clearTimeout(i.timeOutTapHold),clearTimeout(i.timeOutTap);var t=i.updateChangeTouches(e),n=t.clientX-i.startPoint.clientX,o=t.clientY-i.startPoint.clientY;n=Math.floor(n<0?-1*n:n),o=Math.floor(o<0?-1*o:n),i.isTouchMoved=n>1||o>1,i.endPoint=t,i.calcPoints(e);var r={originalEvent:e,startEvents:i.startEventData,startX:i.startPoint.clientX,startY:i.startPoint.clientY,distanceX:i.distanceX,distanceY:i.distanceY,swipeDirection:i.movedDirection,velocity:i.getVelocity(t)};if(i.isTouchMoved){var s=void 0,a=i.swipeSettings.swipeThresholdDistance;s=w(s,i.defaultArgs,r);var l=!1,c=i.element,h=i.isScrollable(c),d=_t.test(i.movedDirection);(a<i.distanceX&&!d||a<i.distanceY&&d)&&(l=!h||i.checkSwipe(c,d)),l&&i.trigger("swipe",s)}i.modeclear()},i.modeclear=function(){i.modeClear=setTimeout((function(){i.touchAction=!0}),"function"!==typeof i.tap?0:20),i.lastTapTime=(new Date).getTime(),we.remove(i.element,Ce.touchMoveEvent,i.moveEvent),we.remove(i.element,Ce.touchEndEvent,i.endEvent),we.remove(i.element,Ce.touchCancelEvent,i.cancelEvent)},i.bind(),i}return Ft(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),Ce.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){we.add(this.element,Ce.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){we.remove(this.element,Ce.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),n=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(n)},t.prototype.tapHoldEvent=function(e){var t;this.tapCount=0,this.touchAction=!0,we.remove(this.element,Ce.touchMoveEvent,this.moveEvent),we.remove(this.element,Ce.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),we.remove(this.element,Ce.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,n=e.clientY,i=Date.now(),o=t-this.startPoint.clientX,r=n-this.startPoint.clientX,s=i-this.tStampStart;return Math.sqrt(o*o+r*r)/s},t.prototype.checkSwipe=function(e,t){var n=["scroll","offset"],i=t?["Height","Top"]:["Width","Left"];return e[n[0]+i[0]]<=e[n[1]+i[0]]||(0===e[n[0]+i[1]]||e[n[1]+i[0]]+e[n[0]+i[1]]>=e[n[0]+i[0]])},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},jt([it()],t.prototype,"tap",void 0),jt([it()],t.prototype,"tapHold",void 0),jt([it()],t.prototype,"swipe",void 0),jt([it()],t.prototype,"scroll",void 0),jt([et(350)],t.prototype,"tapThreshold",void 0),jt([et(750)],t.prototype,"tapHoldThreshold",void 0),jt([tt({},zt)],t.prototype,"swipeSettings",void 0),t=jt([ot],t)}(Ve),qt=new RegExp("\\n|\\r|\\s\\s+","g"),Ut=new RegExp(/'|"/g),Wt=new RegExp("if ?\\("),Xt=new RegExp("else if ?\\("),Yt=new RegExp("else"),Kt=new RegExp("for ?\\("),Gt=new RegExp("(/if|/for)"),$t=new RegExp("\\((.*)\\)",""),Qt=new RegExp("^[0-9]+$","g"),Jt=new RegExp("[\\w\"'.\\s+]+","g"),Zt=new RegExp('"(.*?)"',"g"),en=new RegExp("[\\w\"'@#$.\\s-+]+","g"),tn=new RegExp("\\${([^}]*)}","g"),nn=/^\..*/gm,on=/\\/gi,rn=/\\\\/gi,sn=new RegExp("[\\w\"'@#$.\\s+]+","g"),an=/\window\./gm;function ln(e,t,n){var i="data",o=function(e,t,n,i){var o=0,r=[],s=e.match(/class="([^"]+|)\s{2}/g),a="";s&&s.forEach((function(t){a=t.replace(/\s\s+/g," "),e=e.replace(t,a)}));return e.replace(qt,"").replace(Zt,"'$1'").replace(tn,(function(e,s,a,l){var c=/@|#|\$/gm,h=s.match($t);if(h){var d=h[1];if(Xt.test(s))s='";} '+s.replace(h[1],d.replace(Jt,(function(e){return cn(e=e.trim(),!Ut.test(e)&&-1===r.indexOf(e),t,r,i)})))+'{ \n str = str + "';else if(Wt.test(s))s='"; '+s.replace(h[1],d.replace(en,(function(e){return pn(e,t,r,i)})))+'{ \n str = str + "';else if(Kt.test(s)){var p=h[1].split(" of ");s='"; '+s.replace(h[1],(function(e){return r.push(p[0]),r.push(p[0]+"Index"),"var i"+(o+=1)+"=0; i"+o+" < "+cn(p[1],!0,t,r,i)+".length; i"+o+"++"}))+"{ \n "+p[0]+"= "+cn(p[1],!0,t,r,i)+"[i"+o+"]; \n var "+p[0]+"Index=i"+o+'; \n str = str + "'}else{var u=s.split("("),m=n&&n.hasOwnProperty(u[0])?"this.":"global";m=/\./.test(u[0])?"":m;var f=h[1].split(",");0===h[1].length||/data/.test(f[0])||/window./.test(f[0])||(h[1]="global"===m?t+"."+h[1]:h[1]);var g=/@|\$|#/gm,v=/\]\./gm;if(an.test(s)&&v.test(s)||g.test(s))/@|\$|#|\]\./gm.test(s)&&(s='"+ '+("global"===m?"":m)+s.replace(h[1],d.replace(sn,(function(e){return pn(e,t,r,i)})))+'+ "');else s='" + '+("global"===m?"":m)+s.replace(d,cn(h[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==m,t,r,i))+'+"'}}else Yt.test(s)?s='"; '+s.replace(Yt,'} else { \n str = str + "'):s.match(Gt)?s=s.replace(Gt,'"; \n } \n str = str + "'):c.test(s)?(s.match(on)&&(s=dn(s)),s='"+'+hn(s,-1===r.indexOf(s),t,r)+'"]+"'):s=s.match(on)?'"+'+hn(s=dn(s),-1===r.indexOf(s),t,r)+'"]+"':'"+'+cn(s.replace(/,/gi,"+"+t+"."),-1===r.indexOf(s),t,r,i)+'+"';return s}))}(e,i,t,n);return new Function(i,'var str="'+o+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if (str.match(/(?:href='')/) === null) {\n        if(str.match(hrefRegex)) {\n            var check = str.match(hrefRegex);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                if (check1) {\n                    var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                    change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                    str1 = str1.replace(check1, change);\n                }\n            }\n            str = str.replace(str, str1);\n        }\n    }\n     return str;").bind(t)}function cn(e,t,n,i,o){return!t||Qt.test(e)||-1!==i.indexOf(e.split(".")[0])||o?e:n+"."+e}function hn(e,t,n,i){return t&&!Qt.test(e)&&-1===i.indexOf(e.split(".")[0])?n+'["'+e:e}function dn(e){return e.match(rn)||(e=e.replace(on,"\\\\")),e}function pn(e,t,n,i){e=e.trim();if(/\window\./gm.test(e))return e;var o=/'|"/gm;return/@|\$|#/gm.test(e)&&(e=hn(e,-1===n.indexOf(e),t,n)+'"]'),nn.test(e)?function(e,t,n,i){return!t||Qt.test(e)||-1!==i.indexOf(e.split(".")[0])||/^\..*/gm.test(e)?e:n+"."+e}(e,!o.test(e)&&-1===n.indexOf(e),t,n):cn(e,!o.test(e)&&-1===n.indexOf(e),t,n,i)}var un=/^[\n\r.]+<tr|^<tr/,mn=/^[\n\r.]+<svg|^<path|^<g/,fn={};function gn(e,t,n){var i=vn.compile(e,t,n);return function(e,t,n,o,r,s,a,l){var c=i(e,t,n,a,l),h="BlazorTemplateId";if(P()&&!r){var d=o+("-"+Math.random().toString(36).substr(2,5));if(fn[o]||(fn[o]=[]),E(s))e.BlazorTemplateId=d,fn[o].push(e);else for(var p=0,u=Object.keys(fn[o][s]);p<u.length;p++){var m=u[p];m!==h&&e[m]&&(fn[o][s][m]=e[m]),m===h&&(d=fn[o][s][m])}return"rowTemplate"===n?[Se("tr",{id:d,className:"e-blazor-template"})]:[Se("div",{id:d,className:"e-blazor-template"})]}return"string"===typeof c?mn.test(c)?Se("svg",{innerHTML:c}).childNodes:Se(un.test(c)?"table":"div",{innerHTML:c}).childNodes:c}}var vn={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t,n){return void 0===t&&(t={}),ln(e,t)},e}())).compile},yn=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],bn=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],Cn=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"],wn=function(){function e(){}return e.beforeSanitize=function(){return{selectors:{tags:yn,attributes:bn}}},e.sanitize=function(e){var t=this.beforeSanitize();return this.serializeValue(t,e)},e.serializeValue=function(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var n=this.wrapElement.innerHTML;return this.removeElement(),n},e.removeElement=function(){for(var e=this.wrapElement.children,t=0;t<e.length;t++)for(var n=e[t].attributes,i=0;i<n.length;i++)this.wrapElement.children[t].removeAttribute(n[i].localName)},e.removeXssTags=function(){var e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach((function(e){Oe(e)}))},e.removeJsEvents=function(){var e=this.wrapElement.querySelectorAll("["+Cn.join("],[")+"]");e.length>0&&e.forEach((function(e){Cn.forEach((function(t){e.hasAttribute(t)&&e.removeAttribute(t)}))}))},e.removeXssAttrs=function(){var e=this;this.removeAttrs.forEach((function(t,n){var i=e.wrapElement.querySelectorAll(t.selector);i.length>0&&i.forEach((function(e){e.removeAttribute(t.attribute)}))}))},e}(),En=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],Sn=function(){function e(e){this.isValidated=!1,this.version="20.1",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i,this.errors={noLicense:'This application was built using a trial version of Syncfusion Essential Studio. Please include a valid license to permanently remove this license validation message. You can also obtain a free 30 day evaluation license to temporarily remove this message during the evaluation period. Please refer to this <a style="color:yellow;text-decoration:none;"href="https://help.syncfusion.com/common/essential-studio/licensing">help topic</a> for more information.',trailExpired:'Your Syncfusion trial license has expired. Please refer to this <a style="color:yellow;text-decoration:none;"href="https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#trial-expired">help topic</a> for more information.',versionMismatched:'The included Syncfusion license (v##LicenseVersion) is invalid for version ##Requireversion. Please refer to this <a style="color:yellow;text-decoration:none;" href="https://help.syncfusion.com/es/licensing/version-mismatch/">help topic</a> for more information.',platformMismatched:'The included Syncfusion license is invalid (Platform mismatch). Please refer to this <a style="color:yellow;text-decoration:none;" href="https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#platform-mismatch">help topic</a> for more information.',invalidKey:'The included Syncfusion license is invalid. Please refer to this <a style="color:yellow;text-decoration:none;" href="https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#invalid-key">help topic</a> for more information.'},this.manager=function(){var e=null;return{setKey:function(t){e=t},getKey:function(){return e}}}(),this.manager.setKey(e)}return e.prototype.validate=function(){if(!this.isValidated&&v&&!m(kn(En),v)&&!m("Blazor",v)){var e=void 0;if(this.manager&&this.manager.getKey()){var t=this.getInfoFromKey();if(t&&t.length)for(var n=0,i=t;n<i.length;n++){var o=i[n];if(!this.platform.test(o.platform)||o.invalidPlatform)e=this.errors.platformMismatched;else if(-1===o.version.indexOf(this.version))e=(e=(e=this.errors.versionMismatched).replace("##LicenseVersion",o.version)).replace("##Requireversion",this.version+".x");else if(o.expiryDate){var r=new Date(o.expiryDate),s=new Date;if(!(r!==s&&r<s))break;e=this.errors.trailExpired}}else e=this.errors.invalidKey}else e=this.errors.noLicense;if(e&&"undefined"!==typeof document&&!E(document)){var a=Se("div",{innerHTML:e+'<span style="position:absolute;right: 10px;top:27%;cursor:pointer;"onClick=this.parentElement.remove();><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><line x1="5" y1="5" x2="15" y2="15" stroke="yellow" stroke-width="2.5" stroke-miterlimit="10" stroke-linecap="round"></line><line x1="15" y1="5" x2="5" y2="15" stroke="yellow" stroke-width="2.5" stroke-linecap="round" stroke-miterlimit="10"></line></svg></span>',styles:'position:fixed;top:0;left:0;right:0;font-family:"Segoe UI";font-size:16px;background:repeating-linear-gradient(45deg,#d70f0f,#d70f0f 10px,#e12121 10px,#e12121 17px);color:#ffffff;z-index:999999999;text-align:center;padding:10px 50px 10px 25px;'});a.setAttribute("id","js-licensing"),document.body.appendChild(a)}this.isValidated=!0,f(kn(En),this.isValidated,v)}},e.prototype.getDecryptedData=function(e){try{return atob(e)}catch(t){return""}},e.prototype.getInfoFromKey=function(){try{for(var e=this.manager.getKey().split(";"),t=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],n=[],i=[],o=!1,r=0,s=e;r<s.length;r++){var a=s[r],l=this.getDecryptedData(a);if(l){for(var c=0,h="",d=0;d<l.length;d++,c++){c===t.length&&(c=0);var p=l.charCodeAt(d);h+=String.fromCharCode(p^t[c]>>16)}this.platform.test(h)?(n=h.split(";"),o=!1,n.length>3&&i.push({platform:n[0],version:n[1],expiryDate:n[2]})):h&&h.split(";").length>3&&(o=!0)}}return o&&!i.length?[{invalidPlatform:o}]:i.length?i:null}catch(u){return null}},e}();new Sn;function kn(e){for(var t="",n=0,i=e;n<i.length;n++){var o=i[n];t+=String.fromCharCode(o)}return t}function Tn(e){new Sn(e)}var xn,Nn,Ln,Pn,Dn,On,Mn=!1;function Rn(e,t,n,i,o){if(Nn=void 0,Nn=o,Mn=!!i,!e)return{left:0,top:0};t||(t="left"),n||(n="top"),Pn=e.ownerDocument,Ln=e;return function(e,t,n){switch(xn=Ln.getBoundingClientRect(),t+e){case"topcenter":An(qn(),n),Hn(zn(),n);break;case"topright":An(Vn(),n),Hn(zn(),n);break;case"centercenter":An(qn(),n),Hn(jn(),n);break;case"centerright":An(Vn(),n),Hn(jn(),n);break;case"centerleft":An(_n(),n),Hn(jn(),n);break;case"bottomcenter":An(qn(),n),Hn(Fn(),n);break;case"bottomright":An(Vn(),n),Hn(Fn(),n);break;case"bottomleft":An(_n(),n),Hn(Fn(),n);break;default:An(_n(),n),Hn(zn(),n)}return n}(t.toLowerCase(),n.toLowerCase(),{left:0,top:0})}function An(e,t){t.left=e}function Hn(e,t){t.top=e}function Bn(){return Pn.documentElement.scrollTop||Pn.body.scrollTop}function In(){return Pn.documentElement.scrollLeft||Pn.body.scrollLeft}function Fn(){return Mn?xn.bottom:xn.bottom+Bn()}function jn(){return zn()+xn.height/2}function zn(){return Mn?xn.top:xn.top+Bn()}function _n(){return xn.left+In()}function Vn(){var e=Ln&&Ln.classList.contains("e-date-range-wrapper")?Nn?Nn.width:0:Nn&&xn.width>=Nn.width?Nn.width:0;return xn.right+In()-e}function qn(){return _n()+xn.width/2}function Un(e,t,n,i){if(void 0===t&&(t=null),void 0===n&&(n={X:!1,Y:!1}),!n.Y&&!n.X)return{left:0,top:0};var o=e.getBoundingClientRect();if(On=t,Dn=e.ownerDocument,i||(i=Rn(e,"left","top")),n.X){var r=On?Jn():ci(),s=ii(),a=oi(),l=s-i.left,c=i.left+o.width-a;o.width>r?i.left=l>0&&c<=0?a-o.width:c>0&&l<=0?s:l>c?a-o.width:s:l>0?i.left+=l:c>0&&(i.left-=c)}if(n.Y){var h=On?Zn():li(),d=ni(),p=ri(),u=d-i.top,m=i.top+o.height-p;o.height>h?i.top=u>0&&m<=0?p-o.height:m>0&&u<=0?d:u>m?p-o.height:d:u>0?i.top+=u:m>0&&(i.top-=m)}return i}function Wn(e,t,n,i){void 0===t&&(t=null);var o=Rn(e,"left","top");n&&(o.left=n),i&&(o.top=i);var r=[];On=t,Dn=e.ownerDocument;var s=e.getBoundingClientRect(),a=o.top,l=o.left,c=o.left+s.width,h=Qn(a,o.top+s.height),d=Kn(l,c);return h.topSide&&r.push("top"),d.rightSide&&r.push("right"),d.leftSide&&r.push("left"),h.bottomSide&&r.push("bottom"),r}function Xn(e,t,n,i,o,r,s,a,l){if(void 0===s&&(s=null),void 0===a&&(a={X:!0,Y:!0}),t&&e&&o&&r&&(a.X||a.Y)){var c,h={TL:null,TR:null,BL:null,BR:null},d={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(e).display){var p=e.style.visibility;e.style.visibility="hidden",e.style.display="block",c=e.getBoundingClientRect(),e.style.removeProperty("display"),e.style.visibility=p}else c=e.getBoundingClientRect();var u={posX:o,posY:r,offsetX:n,offsetY:i,position:{left:0,top:0}};On=s,Dn=t.ownerDocument,function(e,t,n,i,o){n.position=Rn(e,n.posX,n.posY,i,o),t.TL=Rn(e,"left","top",i,o),t.TR=Rn(e,"right","top",i,o),t.BR=Rn(e,"left","bottom",i,o),t.BL=Rn(e,"right","bottom",i,o)}(t,h,u,l,c),Yn(d,u,c),a.X&&Gn(t,d,h,u,c,!0),a.Y&&h.TL.top>-1&&$n(t,d,h,u,c,!0),function(e,t,n){var i=0,o=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){var r=Rn(e.offsetParent,"left","top",!1,n);i=r.left,o=r.top}e.style.top=t.position.top+t.offsetY-o+"px",e.style.left=t.position.left+t.offsetX-i+"px"}(e,u,c)}}function Yn(e,t,n){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+n.width},e.BL={top:e.TL.top+n.height,left:e.TL.left},e.BR={top:e.TL.top+n.height,left:e.TL.left+n.width}}function Kn(e,t){var n=!1,i=!1;return e-ai()<ii()&&(n=!0),t>oi()&&(i=!0),{leftSide:n,rightSide:i}}function Gn(e,t,n,i,o,r){var s=Kn(t.TL.left,t.TR.left);n.TL.left-ai()<=ii()&&(s.leftSide=!1),n.TR.left>oi()&&(s.rightSide=!1),(s.leftSide&&!s.rightSide||!s.leftSide&&s.rightSide)&&("right"===i.posX?i.posX="left":i.posX="right",i.offsetX=i.offsetX+o.width,i.offsetX=-1*i.offsetX,i.position=Rn(e,i.posX,i.posY,!1),Yn(t,i,o),r&&Gn(e,t,n,i,o,!1))}function $n(e,t,n,i,o,r){var s=Qn(t.TL.top,t.BL.top);n.TL.top-si()<=ni()&&(s.topSide=!1),n.BL.top>=ri()&&e.getBoundingClientRect().bottom<window.innerHeight&&(s.bottomSide=!1),(s.topSide&&!s.bottomSide||!s.topSide&&s.bottomSide)&&("top"===i.posY?i.posY="bottom":i.posY="top",i.offsetY=i.offsetY+o.height,i.offsetY=-1*i.offsetY,i.position=Rn(e,i.posX,i.posY,!1,o),Yn(t,i,o),r&&$n(e,t,n,i,o,!1))}function Qn(e,t){var n=!1,i=!1;return e-si()<ni()&&(n=!0),t>ri()&&(i=!0),{topSide:n,bottomSide:i}}function Jn(){return On.getBoundingClientRect().width}function Zn(){return On.getBoundingClientRect().height}function ei(){return On.getBoundingClientRect().left}function ti(){return On.getBoundingClientRect().top}function ni(){return On?ti():0}function ii(){return On?ei():0}function oi(){return On?ai()+ei()+Jn():ai()+ci()}function ri(){return On?si()+ti()+Zn():si()+li()}function si(){return Dn.documentElement.scrollTop||Dn.body.scrollTop}function ai(){return Dn.documentElement.scrollLeft||Dn.body.scrollLeft}function li(){return window.innerHeight}function ci(){var e=window.innerWidth,t=document.documentElement.getBoundingClientRect();return e-(e-(E(document.documentElement)?0:t.width))}var hi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),di=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hi(t,e),di([et("left")],t.prototype,"X",void 0),di([et("top")],t.prototype,"Y",void 0),t}(yt),ui="e-popup",mi="e-rtl",fi="e-popup-open",gi="e-popup-close",vi=function(e){function t(t,n){return e.call(this,n,t)||this}return hi(t,e),t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"width":Fe(this.element,{width:L(e.width)});break;case"height":Fe(this.element,{height:L(e.height)});break;case"zIndex":Fe(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var o=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+o).toString()+"px";break;case"offsetY":var r=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+r).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.remove(ui,mi,fi,gi),this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(ui);var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=L(this.width)),"auto"!==this.height&&(e.height=L(this.height)),Fe(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){Ce.isDevice&&we.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var n=t[e];we.add(n,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){Ce.isDevice&&we.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var n=t[e];we.remove(n,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||E(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"===typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?E(this.element)||this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,t){for(var n=this.getScrollableParent(e),i=0;i<n.length;i++)if(!this.isElementVisible(e,n[i]))return!1;return!0},t.prototype.isElementVisible=function(e,t){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(E(this.checkGetBoundingClientRect(t))){var i=window,o={top:i.scrollY,left:i.scrollX,right:i.scrollX+i.outerWidth,bottom:i.scrollY+i.outerHeight},r=Rn(e),s={top:r.top,left:r.left,right:r.left+n.width,bottom:r.top+n.height},a={top:o.bottom-s.top,left:o.right-s.left,bottom:s.bottom-o.top,right:s.right-o.left};return a.top>0&&a.left>0&&a.right>0&&a.bottom>0}var l=t.getBoundingClientRect();return!(n.bottom<l.top)&&!(n.bottom>l.bottom)&&!(n.right>l.right)&&!(n.left<l.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(mi):this.element.classList.remove(mi)},t.prototype.setContent=function(){if(!E(this.content))if(this.element.innerHTML="","string"===typeof this.content)this.element.textContent=this.content;else{var e=this.getRelateToElement(),t=this.content.props;e.classList.contains("e-dropdown-btn")&&!E(t)||this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout((function(){e.refreshPosition()}),200)},t.prototype.refreshPosition=function(e,t){E(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()},t.prototype.reposition=function(){var e,t,n=this.getRelateToElement();if("number"===typeof this.position.X&&"number"===typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"===typeof this.position.X&&"number"===typeof this.position.Y||"number"===typeof this.position.X&&"string"===typeof this.position.Y){var i=void 0,o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(i=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"===typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=i)}else if(n){o=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=o}else e={left:0,top:0};E(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return null}},t.prototype.getAnchorPosition=function(e,t,n,i,o){var r=this.checkGetBoundingClientRect(t),s=this.checkGetBoundingClientRect(e);if(E(r)||E(s))return null;var a=e,l={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?l=Rn(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==a.tagName&&(t=t.parentElement),l=function(e,t){var n=!1,i={left:0,top:0},o=e;if(!e||!t)return i;for(E(t.offsetParent)&&"fixed"===t.style.position&&(n=!0);(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;for(e=o;(t.offsetParent||n)&&e&&t.offsetParent!==e;)i.left-=e.scrollLeft,i.top-=e.scrollTop,e=e.parentElement;return i}(a,t)),n.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.left+=window.innerWidth/2-r.width/2:"container"===this.targetType?l.left+=s.width/2-r.width/2:l.left+=s.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.left+=window.innerWidth-r.width:"container"===this.targetType?l.left+=s.width-r.width:l.left+=s.width}switch(n.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.top+=window.innerHeight/2-r.height/2:"container"===this.targetType?l.top+=s.height/2-r.height/2:l.top+=s.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===a.tagName&&"container"===this.targetType?l.top+=window.innerHeight-r.height:"container"===this.targetType?l.top+=s.height-r.height:l.top+=s.height}return l.left+=i,l.top+=o,l},t.prototype.callFlip=function(e){var t=this.getRelateToElement();Xn(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==Wn(this.element,this.viewPortElement).length)if(E(this.viewPortElement)){var t=Un(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),i=this.checkGetBoundingClientRect(this.viewPortElement);if(E(n)||E(i))return null;e&&!0===e.Y&&(i.top>n.top?this.element.style.top="0px":i.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-i.bottom)+"px")),e&&!0===e.X&&(i.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-i.right)+"px":i.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(i.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,t){var n=this;if(this.wireEvents(),1e3===this.zIndex||!E(t)){var i=E(t)?this.element:t;this.zIndex=bi(i),Fe(this.element,{zIndex:this.zIndex})}e=E(e)||"object"!==typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(Te([this.element],gi),ke([this.element],fi),this.checkCollision(),Te([this.element],fi),ke([this.element],gi)),E(e)?(Te([this.element],gi),ke([this.element],fi),this.trigger("open")):(e.begin=function(){n.isDestroyed||(Te([n.element],gi),ke([n.element],fi))},e.end=function(){n.isDestroyed||n.trigger("open")},new ct(e).animate(this.element))},t.prototype.hide=function(e){var t=this;e=E(e)||"object"!==typeof e?this.hideAnimation:e,E(e)?(Te([this.element],fi),ke([this.element],gi),this.trigger("close")):(e.end=function(){t.isDestroyed||(Te([t.element],fi),ke([t.element],gi),t.trigger("close"))},new ct(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),yi(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var n=getComputedStyle(t);"fixed"===n.position&&!E(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top)?L(window.scrollY-parseInt(this.element.style.top)):L(parseInt(this.element.style.top)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,!E(this.element)&&E(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},di([et("auto")],t.prototype,"height",void 0),di([et("auto")],t.prototype,"width",void 0),di([et(null)],t.prototype,"content",void 0),di([et("container")],t.prototype,"targetType",void 0),di([et(null)],t.prototype,"viewPortElement",void 0),di([et({X:"none",Y:"none"})],t.prototype,"collision",void 0),di([et("")],t.prototype,"relateTo",void 0),di([tt({},pi)],t.prototype,"position",void 0),di([et(0)],t.prototype,"offsetX",void 0),di([et(0)],t.prototype,"offsetY",void 0),di([et(1e3)],t.prototype,"zIndex",void 0),di([et(!1)],t.prototype,"enableRtl",void 0),di([et("reposition")],t.prototype,"actionOnScroll",void 0),di([et(null)],t.prototype,"showAnimation",void 0),di([et(null)],t.prototype,"hideAnimation",void 0),di([it()],t.prototype,"open",void 0),di([it()],t.prototype,"close",void 0),di([it()],t.prototype,"targetExitViewport",void 0),t=di([ot],t)}(kt);function yi(e,t){for(var n=getComputedStyle(e),i=[],o=/(auto|scroll)/,r=e.parentElement;r&&"HTML"!==r.tagName;){var s=getComputedStyle(r);"absolute"===n.position&&"static"===s.position||!o.test(s.overflow+s.overflowY+s.overflowX)||i.push(r),r=r.parentElement}return t||i.push(document),i}function bi(e){for(var t=e.parentElement,n=[];t&&"BODY"!==t.tagName;){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),o=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==i&&"static"!==o&&n.push(i),t=t.parentElement}for(var r=[],s=0;s<document.body.children.length;s++)if(!e.isEqualNode(document.body.children[s])){i=document.defaultView.getComputedStyle(document.body.children[s],null).getPropertyValue("z-index"),o=document.defaultView.getComputedStyle(document.body.children[s],null).getPropertyValue("position");"auto"!==i&&"static"!==o&&r.push(i)}r.push("999");var a=[];if(!E(e.parentElement)&&"BODY"!==e.parentElement.tagName){var l=[].slice.call(e.parentElement.children);for(s=0;s<l.length;s++)if(!e.isEqualNode(l[s])){i=document.defaultView.getComputedStyle(l[s],null).getPropertyValue("z-index"),o=document.defaultView.getComputedStyle(l[s],null).getPropertyValue("position");"auto"!==i&&"static"!==o&&a.push(i)}}var c=n.concat(r,a),h=Math.max.apply(Math,c)+1;return h>2147483647?2147483647:h}var Ci,wi,Ei,Si="initial-load",ki="content-changed",Ti="initial-end",xi="iframe-click",Ni="destroy",Li="toolbarClick",Pi="toolbar-refresh",Di="refresh-begin",Oi="toolbar-updated",Mi="bind-on-end",Ri="render-color-picker",Ai="html-toolbar-click",Hi="destroy-color-picker",Bi="model-changed",Ii="keyUp",Fi="keyDown",ji="mouseUp",zi="toolbarRenderComplete",_i="enableFullScreen",Vi="disableFullScreen",qi="dropDownSelect",Ui="beforeDropDownItemRender",Wi="execCommandCallBack",Xi="actionBegin",Yi="actionComplete",Ki="updateToolbarItem",Gi="sourceCode",$i="updateSource",Qi="beforeDropDownOpen",Ji="selection-save",Zi="selection-restore",eo="expandPopupClick",to="mouseDown",no="sourceCodeMouseDown",io="editAreaClick",oo="scroll",ro="colorPickerChanged",so="tableColorPickerChanged",ao="focusChange",lo="selectAll",co="selectRange",ho="getSelectedHtml",po="paste-content",uo="rtl-mode",mo="createTable",fo="docClick",go="table-toolbar-action",vo="readOnlyMode",yo="enterHandler",bo="clearDialogObj",Co="xhtmlValidation",wo="resizeInitialized",Eo="dynamicModule",So="updateTbItemsStatus",ko="showTableDialog",To="closeTableDialog",xo="closeTableDialog",No="e-richtexteditor",Lo="e-rtl",Po="e-disabled",Do="rte-iframe-script-sheet",Oo="rte-iframe-style-sheet",Mo="e-rte-toolbar",Ro="e-rte-tb-fixed",Ao="e-rte-tb-float",Ho="e-rte-tb-abs-float",Bo="e-rte-tb-expand",Io="e-rte-full-screen",Fo="e-rte-quick-toolbar",jo="e-quick-dropdown",zo="e-rte-inline-dropdown",_o="e-rte-dropdown-popup",Vo="e-rte-dropdown-icons",qo="e-rte-dropdown-items",Uo="e-rte-dropdown-btn",Wo="e-toolbar-item",Xo="e-toolbar-wrapper",Yo="e-show",Ko="e-visible",Go="e-focused",$o="e-imgbreak",Qo="e-imginline",Jo="e-icons",Zo="e-active",er="e-expand-open",tr="e-rte-elements",nr="e-tbar-btn",ir="e-tbar-ios-fixed",or="e-rte-list-primary-content",rr="e-rte-color-content",sr="e-rte-readonly",ar="e-cell-select",lr="e-dashed-border",cr="e-alternate-border",hr="e-column-resize",dr="e-row-resize",pr="e-table-box",ur="e-rte-hidden",mr="e-rte-image",fr="e-rte-table",gr="e-rte-table-border",vr="e-rte-table-resize",yr="e-rte-fixed-tb-expand",br="e-rte-toolbar-enabled";!function(e){e[e.Toolbar=0]="Toolbar",e[e.Content=1]="Content",e[e.Popup=2]="Popup",e[e.LinkToolbar=3]="LinkToolbar",e[e.TextToolbar=4]="TextToolbar",e[e.ImageToolbar=5]="ImageToolbar",e[e.InlineToolbar=6]="InlineToolbar",e[e.TableToolbar=7]="TableToolbar"}(Ci||(Ci={})),function(e){e.Expand="Expand",e.MultiRow="MultiRow",e.Scrollable="Scrollable"}(wi||(wi={})),function(e){e.InsertLink="InsertLink",e.InsertImage="InsertImage",e.InsertTable="InsertTable"}(Ei||(Ei={}));var Cr=function(){function e(e,t){this.parent=e,this.locator=t,this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return e.prototype.render=function(){this.parent;this.contentRenderer=this.renderer.getRenderer(Ci.Content),this.contentRenderer.renderPanel()},e.prototype.refresh=function(e){void 0===e&&(e={requestType:"refresh"}),this.parent.notify(e.requestType+"-begin",e)},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Bi,this.refresh,this),this.parent.on(Ii,this.keyUp,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Bi,this.refresh),this.parent.off(Ii,this.keyUp))},e.prototype.keyUp=function(e){if("HTML"===this.parent.editorMode)switch(e.args.which){case 46:case 8:var t=this.parent.contentModule.getEditPanel().childNodes;if(0===t.length||1===t.length&&0===t[0].childNodes.length&&("BR"===t[0].tagName||("P"===t[0].tagName||"DIV"===t[0].tagName)&&""===t[0].textContent)){var n=this.parent.contentModule.getEditPanel();"DIV"===this.parent.enterKey?n.innerHTML="<div><br/></div>":"BR"===this.parent.enterKey?n.innerHTML="<br/>":n.innerHTML="<p><br/></p>",this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),n.childNodes[0],0)}}},e}(),wr="keydown",Er="action",Sr="format-type",kr="keydown-handler",Tr="list-type",xr="keyup-handler",Nr="keyup",Lr="model_changed_plugin",Pr="model_changed",Dr="ms_word_cleanup_plugin",Or="onBegin",Mr="actionBegin",Rr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ar=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Hr={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222,"]":221,"[":219,"=":187},Br=function(e){function t(t,i){var o=e.call(this,i,t)||this;return o.keyPressHandler=function(e){for(var t=e.altKey,i=e.ctrlKey,r=e.shiftKey,s=e.metaKey,a=e.which,l=0,c=Object.keys(o.keyConfigs);l<c.length;l++)for(var h=c[l],d=0,p=o.keyConfigs[h].split(",");d<p.length;d++){var u=p[d],m=n.getKeyConfigData(u.trim());t!==m.altKey||i!==m.ctrlKey&&!s||r!==m.shiftKey||a!==m.keyCode||(e.action=h)}o.keyAction&&o.keyAction(e)},o.bind(),o}var n;return Rr(t,e),n=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?i.keyCode=Number(t[t.length-1]):i.keyCode=n.getKeyCode(t[t.length-1]),n.configCache[e]=i,i},t.getKeyCode=function(e){return Hr[e]||e.toUpperCase().charCodeAt(0)},t.configCache={},Ar([et({})],t.prototype,"keyConfigs",void 0),Ar([et("keyup")],t.prototype,"eventName",void 0),Ar([it()],t.prototype,"keyAction",void 0),t=n=Ar([ot],t)}(Ve),Ir=function(){function e(e,t){this.parent=e;var n=t;this.rendererFactory=n.getService("rendererFactory"),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(Gi,this.sourceCode,this),this.parent.on(Ti,this.onInitialEnd,this),this.parent.on($i,this.updateSourceCode,this),this.parent.on(Ni,this.destroy,this)},e.prototype.onInitialEnd=function(){this.parent.formatter.editorManager.observer.on(kr,this.onKeyDown,this)},e.prototype.removeEventListener=function(){this.unWireEvent(),this.parent.off(Gi,this.sourceCode),this.parent.off($i,this.updateSourceCode),this.parent.off(Ti,this.onInitialEnd),this.parent.off(Ni,this.destroy),this.parent.formatter.editorManager.observer.off(kr,this.onKeyDown)},e.prototype.getSourceCode=function(){return this.parent.createElement("textarea",{className:"e-rte-srctextarea"})},e.prototype.wireEvent=function(e){this.keyboardModule=new Br(e,{keyAction:this.previewKeyDown.bind(this),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"}),we.add(this.previewElement,"mousedown",this.mouseDownHandler,this)},e.prototype.unWireEvent=function(){this.keyboardModule&&this.keyboardModule.destroy(),this.previewElement&&we.remove(this.previewElement,"mousedown",this.mouseDownHandler)},e.prototype.wireBaseKeyDown=function(){this.parent.keyboardModule=new Br(this.contentModule.getEditPanel(),{keyAction:this.parent.keyDown.bind(this.parent),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"})},e.prototype.unWireBaseKeyDown=function(){this.parent.keyboardModule.destroy()},e.prototype.mouseDownHandler=function(e){this.parent.notify(no,{args:e})},e.prototype.previewKeyDown=function(e){switch(e.action){case"html-source":this.updateSourceCode(e),e.preventDefault();break;case"toolbar-focus":if(this.parent.toolbarSettings.enable){this.parent.toolbarModule.baseToolbar.toolbarObj.element.querySelector('.e-toolbar-item[aria-disabled="false"][title] [tabindex]').focus()}}},e.prototype.onKeyDown=function(e){if("html-source"===e.event.action)e.event.preventDefault(),this.sourceCode(e),e.callBack({requestType:"SourceCode",editorMode:"HTML",event:e.event})},e.prototype.sourceCode=function(e){this.parent.isBlur=!1,this.parent.trigger(Xi,{requestType:"SourceCode",targetItem:"SourceCode",args:e});var t=He("."+Wo,this.parent.element);if(this.contentModule=this.rendererFactory.getRenderer(Ci.Content),this.parent.notify(Ki,{targetItem:"SourceCode",updateItem:"Preview",baseToolbar:this.parent.getBaseToolbarObject()}),E(this.previewElement)&&(this.previewElement=this.getSourceCode()),this.parent.updateValueData(),this.parent.iframeSettings.enable){var n=void 0;(n=E(this.parent.element.querySelector("#"+this.parent.element.id+"_source-view"))?this.parent.createElement("div",{className:"e-source-content",id:this.parent.element.id+"_source-view"}):this.parent.element.querySelector("#"+this.parent.element.id+"_source-view")).appendChild(this.previewElement),this.parent.element.appendChild(n),n.style.height=this.contentModule.getPanel().style.height,n.style.marginTop=this.contentModule.getPanel().style.marginTop,this.getPanel().value=this.getTextAreaValue(),this.contentModule.getPanel().style.display="none",n.style.display="block",this.getPanel().style.display="block"}else this.contentModule.getPanel().appendChild(this.previewElement),this.getPanel().value=this.getTextAreaValue(),this.contentModule.getEditPanel().style.display="none",this.previewElement.style.display="block";(this.parent.isBlur=!1,this.parent.disableToolbarItem(this.parent.toolbarSettings.items),this.parent.enableToolbarItem("SourceCode"),this.parent.getToolbar()&&Te([this.parent.getToolbar()],[er]),Te(t,[Zo]),this.parent.setContentHeight("sourceCode",!0),this.wireEvent(this.previewElement),this.unWireBaseKeyDown(),this.previewElement.focus(),this.parent.updateValue(),E(this.parent.placeholder)||this.parent.iframeSettings.enable)||(this.parent.element.querySelector(".rte-placeholder.e-rte-placeholder").style.display="none");this.parent.trigger(Yi,{requestType:"SourceCode",targetItem:"SourceCode",args:e}),this.parent.invokeChangeEvent()},e.prototype.updateSourceCode=function(e){this.parent.isBlur=!1,this.parent.trigger(Xi,{requestType:"Preview",targetItem:"Preview",args:e});var t=this.getPanel();this.parent.notify(Ki,{targetItem:"Preview",updateItem:"SourceCode",baseToolbar:this.parent.getBaseToolbarObject()});var n,i=this.parent.serializeValue(t.value);(n=null===i||""===i?"DIV"===this.parent.enterKey?"<div><br/></div>":"BR"===this.parent.enterKey?"<br/>":"<p><br/></p>":i,this.parent.iframeSettings.enable?(t.parentElement.style.display="none",t.style.display="none",this.contentModule.getPanel().style.display="block",this.contentModule.getEditPanel().innerHTML=n):(t.style.display="none",this.contentModule.getEditPanel().style.display="block",this.contentModule.getEditPanel().innerHTML=n),this.parent.isBlur=!1,this.parent.enableToolbarItem(this.parent.toolbarSettings.items),this.parent.getToolbar()&&Te([this.parent.getToolbar()],[er]),this.parent.setContentHeight("preview",!0),this.unWireEvent(),this.wireBaseKeyDown(),this.contentModule.getEditPanel().focus(),this.parent.updateValue(),E(this.parent.placeholder)||0!==this.contentModule.getEditPanel().innerText.length)||(this.parent.element.querySelector(".rte-placeholder.e-rte-placeholder").style.display="block");this.parent.trigger(Yi,{requestType:"Preview",targetItem:"Preview",args:e}),this.parent.formatter.enableUndo(this.parent),this.parent.invokeChangeEvent()},e.prototype.getTextAreaValue=function(){return"<p><br></p>"===this.contentModule.getEditPanel().innerHTML||"<div><br></div>"===this.contentModule.getEditPanel().innerHTML||"<br>"===this.contentModule.getEditPanel().innerHTML||1===this.contentModule.getEditPanel().childNodes.length&&"P"===this.contentModule.getEditPanel().childNodes[0].tagName&&7===this.contentModule.getEditPanel().innerHTML.length||"DIV"===this.contentModule.getEditPanel().childNodes[0].tagName&&11===this.contentModule.getEditPanel().innerHTML.length?"":this.parent.value},e.prototype.getPanel=function(){return this.parent.element&&this.parent.element.querySelector(".e-rte-srctextarea")},e.prototype.getViewPanel=function(){return this.parent.iframeSettings.enable&&this.getPanel()?this.getPanel().parentElement:this.getPanel()},e.prototype.destroy=function(){this.removeEventListener()},e}(),Fr={bold:{command:"Style",subCommand:"Bold",value:"strong"},italic:{command:"Style",subCommand:"Italic",value:"em"},underline:{command:"Style",subCommand:"Underline",value:"span"},strikeThrough:{command:"Style",subCommand:"StrikeThrough",value:"span"},insertCode:{command:"Formats",subCommand:"Pre",value:"pre"},superscript:{command:"Effects",subCommand:"SuperScript",value:"sup"},subscript:{command:"Effects",subCommand:"SubScript",value:"sub"},uppercase:{command:"Casing",subCommand:"UpperCase"},lowercase:{command:"Casing",subCommand:"LowerCase"},fontColor:{command:"font",subCommand:"fontcolor",value:"#ff0000"},fontName:{command:"font",subCommand:"fontname",value:"Segoe UI"},fontSize:{command:"font",subCommand:"fontsize",value:"10pt"},backColor:{command:"font",subCommand:"backgroundcolor",value:"#ffff00"},justifyCenter:{command:"Alignments",subCommand:"JustifyCenter"},justifyFull:{command:"Alignments",subCommand:"JustifyFull"},justifyLeft:{command:"Alignments",subCommand:"JustifyLeft"},justifyRight:{command:"Alignments",subCommand:"JustifyRight"},undo:{command:"Actions",subCommand:"Undo"},redo:{command:"Actions",subCommand:"Redo"},createLink:{command:"Links",subCommand:"createLink"},editLink:{command:"Links",subCommand:"createLink"},createImage:{command:"Images",subCommand:"Images"},formatBlock:{command:"Formats",value:"P"},heading:{command:"Formats",value:"H1"},indent:{command:"Indents",subCommand:"Indent"},outdent:{command:"Indents",subCommand:"Outdent"},insertHTML:{command:"InsertHTML",subCommand:"InsertHTML",value:""},insertText:{command:"InsertText",subCommand:"InsertText",value:""},insertHorizontalRule:{command:"InsertHTML",subCommand:"InsertHTML",value:"<hr/>"},insertImage:{command:"Images",subCommand:"Image"},editImage:{command:"Images",subCommand:"Image"},insertTable:{command:"Table",subCommand:"CreateTable"},insertBrOnReturn:{command:"InsertHTML",subCommand:"InsertHTML",value:"<br/>"},insertOrderedList:{command:"Lists",value:"OL"},insertUnorderedList:{command:"Lists",value:"UL"},insertParagraph:{command:"Formats",value:"P"},removeFormat:{command:"Clear",subCommand:"ClearFormat"}},jr=function(){function e(){this.services={}}return e.prototype.register=function(e,t){E(this.services[e])&&(this.services[e]=t)},e.prototype.getService=function(e){if(E(this.services[e]))throw"The service "+e+" is not registered";return this.services[e]},e}(),zr=function(){function e(){this.rendererMap={}}return e.prototype.addRenderer=function(e,t){var n=b(Ci,e);E(this.rendererMap[n])&&(this.rendererMap[n]=t)},e.prototype.getRenderer=function(e){var t=b(Ci,e);if(E(this.rendererMap[t]))throw"The renderer "+t+" is not found";return this.rendererMap[t]},e}(),_r=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(Wi,this.commandCallBack,this),this.parent.on(Ni,this.removeEventListener,this)},e.prototype.commandCallBack=function(e){"Undo"!==e.requestType&&"Redo"!==e.requestType&&this.parent.formatter.saveData(),this.parent.notify(Pi,{args:e}),this.parent.notify("count",{})},e.prototype.removeEventListener=function(){this.parent.off(Wi,this.commandCallBack),this.parent.off(Ni,this.removeEventListener)},e}(),Vr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vr(t,e),qr([et(null)],t.prototype,"downloadUrl",void 0),qr([et(null)],t.prototype,"getImageUrl",void 0),qr([et(null)],t.prototype,"uploadUrl",void 0),qr([et(null)],t.prototype,"url",void 0),t}(yt),Wr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Yr=["Open","|","Cut","Copy","|","Delete","Download","Rename","|","Details"],Kr=["Open","|","Cut","Copy","Paste","|","Delete","Rename","Download","|","Details"],Gr=["SortBy","View","Refresh","|","Paste","|","NewFolder","Upload","|","Details","|","SelectAll"],$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wr(t,e),Xr([et(Yr)],t.prototype,"file",void 0),Xr([et(Kr)],t.prototype,"folder",void 0),Xr([et(Gr)],t.prototype,"layout",void 0),Xr([et(!0)],t.prototype,"visible",void 0),t}(yt),Qr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jr=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Zr=[{field:"name",headerText:"Name",minWidth:120,template:'<span class="e-fe-text">${name}</span>',customAttributes:{class:"e-fe-grid-name"}},{field:"_fm_modified",headerText:"DateModified",type:"dateTime",format:"MMMM dd, yyyy HH:mm",minWidth:120,width:"190"},{field:"size",headerText:"Size",minWidth:90,width:"110",template:'<span class="e-fe-size">${size}</span>'}],es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),Jr([et(!0)],t.prototype,"columnResizing",void 0),Jr([et(Zr)],t.prototype,"columns",void 0),t}(yt),ts=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ns=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ts(t,e),ns([et("650px")],t.prototype,"maxWidth",void 0),ns([et("240px")],t.prototype,"minWidth",void 0),ns([et(!0)],t.prototype,"visible",void 0),ns([et("None")],t.prototype,"sortOrder",void 0),t}(yt),os=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rs=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),rs([et(!0)],t.prototype,"allowSearchOnTyping",void 0),rs([et("contains")],t.prototype,"filterType",void 0),rs([et(!0)],t.prototype,"ignoreCase",void 0),rs([et(null)],t.prototype,"placeholder",void 0),t}(yt),as=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ls=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},cs=["NewFolder","Upload","Cut","Copy","Paste","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"],hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return as(t,e),ls([et(cs)],t.prototype,"items",void 0),ls([et(!0)],t.prototype,"visible",void 0),t}(yt),ds=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ps=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ds(t,e),ps([et("")],t.prototype,"allowedExtensions",void 0),ps([et(!0)],t.prototype,"autoUpload",void 0),ps([et(!1)],t.prototype,"autoClose",void 0),ps([et(0)],t.prototype,"minFileSize",void 0),ps([et(3e7)],t.prototype,"maxFileSize",void 0),t}(yt),ms=["alignments","formats","fontname","fontsize","fontcolor","backgroundcolor","align","display","tablerows","tablecolumns","tablecell","tablecellhorizontalalign","tablecellverticalalign","styles","numberformatlist","bulletformatlist"],fs={alignments:{id:"Alignments",icon:"e-alignments",tooltip:"Alignments",command:"Alignments",subCommand:"Alignments"},justifyleft:{id:"JustifyLeft",icon:"e-justify-left",tooltip:"JustifyLeft",command:"Alignments",subCommand:"JustifyLeft"},justifycenter:{id:"JustifyCenter",icon:"e-justify-center",tooltip:"JustifyCenter",command:"Alignments",subCommand:"JustifyCenter"},justifyright:{id:"JustifyRight",icon:"e-justify-right",tooltip:"JustifyRight",command:"Alignments",subCommand:"JustifyRight"},justifyfull:{id:"JustifyFull",icon:"e-justify-full",tooltip:"JustifyFull",command:"Alignments",subCommand:"JustifyFull"},fontname:{id:"FontName",icon:"e-font-name",tooltip:"Font Name",command:"Font",subCommand:"FontName"},fontsize:{id:"FontSize",icon:"e-font-size",tooltip:"Font Size",command:"Font",subCommand:"FontSize"},fontcolor:{id:"FontColor",icon:"e-font-color",tooltip:"Font Color",command:"Font",subCommand:"FontColor",value:"#ff0000ff"},backgroundcolor:{id:"BackgroundColor",icon:"e-background-color",tooltip:"Background Color",command:"Font",subCommand:"BackgroundColor",value:"#ffff00ff"},bold:{id:"Bold",icon:"e-bold",tooltip:"Bold",command:"Style",subCommand:"Bold"},italic:{id:"Italic",icon:"e-italic",tooltip:"Italic",command:"Style",subCommand:"Italic"},underline:{id:"Underline",icon:"e-underline",tooltip:"Underline",command:"Style",subCommand:"Underline"},strikethrough:{id:"StrikeThrough",icon:"e-strike-through",tooltip:"StrikeThrough",command:"Style",subCommand:"StrikeThrough"},clearformat:{id:"ClearFormat",icon:"e-clear-format",tooltip:"Clear Format",command:"Clear",subCommand:"ClearFormat"},clearall:{id:"ClearAll",icon:"e-clear-all",tooltip:"Clear All",command:"Clear",subCommand:"ClearAll"},cut:{id:"Cut",icon:"e-cut",tooltip:"Cut",command:"ClipBoard",subCommand:"Cut"},copy:{id:"Copy",icon:"e-copy",tooltip:"Copy",command:"ClipBoard",subCommand:"Copy"},paste:{id:"Paste",icon:"e-paste",tooltip:"Paste",command:"ClipBoard",subCommand:"Paste"},unorderedlist:{id:"UnorderedList",icon:"e-unorder-list",tooltip:"Bulleted List",command:"Lists",subCommand:"UL"},orderedlist:{id:"OrderedList",icon:"e-order-list",tooltip:"Numbered List",command:"Lists",subCommand:"OL"},numberformatlist:{id:"NumberFormatList",icon:"e-order-list",tooltip:"Number Format List",command:"NumberFormatList",subCommand:"NumberFormatList"},bulletformatlist:{id:"BulletFormatList",icon:"e-unorder-list",tooltip:"Bullet Format List",command:"BulletFormatList",subCommand:"BulletFormatList"},indent:{id:"Indent",icon:"e-indent",tooltip:"Increase Indent",command:"Indents",subCommand:"Indent"},outdent:{id:"Outdent",icon:"e-outdent",tooltip:"Decrease Indent",command:"Indents",subCommand:"Outdent"},undo:{id:"Undo",icon:"e-undo",tooltip:"Undo",command:"Actions",subCommand:"Undo"},redo:{id:"Redo",icon:"e-redo",tooltip:"Redo",command:"Actions",subCommand:"Redo"},superscript:{id:"SuperScript",icon:"e-super-script",tooltip:"Superscript",command:"Effects",subCommand:"SuperScript"},subscript:{id:"SubScript",icon:"e-sub-script",tooltip:"Subscript",command:"Effects",subCommand:"SubScript"},createlink:{id:"CreateLink",icon:"e-create-link",tooltip:"Insert Hyperlink",command:"Links",subCommand:"CreateLink"},openlink:{id:"OpenLink",icon:"e-open-link",tooltip:"Open Link",command:"Links",subCommand:"OpenLink"},editlink:{id:"EditLink",icon:"e-edit-link",tooltip:"Edit Link",command:"Links",subCommand:"EditLink"},removelink:{id:"RemoveLink",icon:"e-remove-link",tooltip:"Remove Link",command:"Links",subCommand:"RemoveLink"},image:{id:"Image",icon:"e-image",tooltip:"Insert Image",command:"Images",subCommand:"Image"},filemanager:{id:"FileManager",icon:"e-rte-file-manager",tooltip:"File Manager",command:"Files",subCommand:"File"},createtable:{id:"CreateTable",icon:"e-create-table",tooltip:"Create Table",command:"Table",subCommand:"CreateTable"},removetable:{id:"removeTable",icon:"e-remove-table",tooltip:"Remove Table",command:"removeTable",subCommand:"removeTable"},replace:{id:"Replace",icon:"e-replace",tooltip:"Replace",command:"Images",subCommand:"Replace"},align:{id:"Align",icon:"e-align",tooltip:"Align",command:"Images",subCommand:"Align"},caption:{id:"Caption",icon:"e-caption",tooltip:"Image Caption",command:"Images",subCommand:"Caption"},remove:{id:"Remove",icon:"e-remove",tooltip:"Remove",command:"Images",subCommand:"Remove"},openimagelink:{id:"OpenImageLink",icon:"e-open-link",tooltip:"Open Link",command:"Images",subCommand:"OpenImageLink"},editimagelink:{id:"EditImageLink",icon:"e-edit-link",tooltip:"Edit Link",command:"Images",subCommand:"EditImageLink"},removeimagelink:{id:"RemoveImageLink",icon:"e-remove-link",tooltip:"Remove Link",command:"Images",subCommand:"RemoveImageLink"},insertlink:{id:"InsertLink",icon:"e-insert-link",tooltip:"Insert Link",command:"Images",subCommand:"InsertLink"},display:{id:"Display",icon:"e-display",tooltip:"Display",command:"Images",subCommand:"Display"},alttext:{id:"AltText",icon:"e-alt-text",tooltip:"Alternative Text",command:"Images",subCommand:"AltText"},dimension:{id:"Dimension",icon:"e-img-dimension",tooltip:"Change Size",command:"Images",subCommand:"Dimension"},fullscreen:{id:"Maximize",icon:"e-maximize",tooltip:"Maximize",command:"View",subCommand:"Maximize"},maximize:{id:"Maximize",icon:"e-maximize",tooltip:"Maximize",command:"FullScreen",subCommand:"Maximize"},minimize:{id:"Minimize",icon:"e-minimize",tooltip:"Minimize",command:"FullScreen",subCommand:"Minimize"},lowercase:{id:"LowerCase",icon:"e-lower-case",tooltip:"Lower Case",command:"Casing",subCommand:"LowerCase"},uppercase:{id:"UpperCase",icon:"e-upper-case",tooltip:"Upper Case",command:"Casing",subCommand:"UpperCase"},print:{id:"Print",icon:"e-print",tooltip:"Print",command:"Print",subCommand:"Print"},formats:{id:"Formats",icon:"e-formats",tooltip:"Formats",command:"Formats",subCommand:"Formats"},sourcecode:{id:"SourceCode",icon:"e-source-code",tooltip:"Source Code",command:"SourceCode",subCommand:"SourceCode"},preview:{id:"Preview",icon:"e-preview",tooltip:"Preview",command:"Preview",subCommand:"Preview"},viewside:{id:"ViewSide",icon:"e-view-side",tooltip:"ViewSide",command:"ViewSide",subCommand:"ViewSide"},insertcode:{id:"InsertCode",icon:"e-insert-code",tooltip:"Insert Code",command:"Formats",subCommand:"Pre"},tableheader:{id:"TableHeader",icon:"e-table-header",tooltip:"Table Header",command:"Table",subCommand:"TableHeader"},tableremove:{id:"TableRemove",icon:"e-table-remove",tooltip:"Table Remove",command:"Table",subCommand:"TableRemove"},tablerows:{id:"TableRows",icon:"e-table-rows",tooltip:"Table Rows",command:"Table",subCommand:"TableRows"},tablecolumns:{id:"TableColumns",icon:"e-table-columns",tooltip:"Table Columns",command:"Table",subCommand:"TableColumns"},tablecell:{id:"TableCell",icon:"e-table-cell",tooltip:"Table Cell",command:"Table",subCommand:"TableCell"},tablecellbackground:{id:"TableCellBackground",icon:"e-table-cell-background",tooltip:"Table Cell Background",command:"Table",subCommand:"TableCellBackground"},tablecellhorizontalalign:{id:"TableCellHorizontalAlign",icon:"e-table-cell-horizontalAlign",tooltip:"Table Cell HorizontalAlign",command:"Table",subCommand:"TableCellHorizontalAlign"},tablecellverticalalign:{id:"TableCellVerticalAlign",icon:"e-table-cell-verticalAlign",tooltip:"Table Cell VerticalAlign",command:"Table",subCommand:"TableCellVerticalAlign"},tableeditproperties:{id:"TableEditProperties",icon:"e-table-edit-properties",tooltip:"Table Edit Properties",command:"Table",subCommand:"TableEditProperties"},styles:{id:"Styles",icon:"e-table-styles",tooltip:"Styles",command:"Table",subCommand:"Styles"}},gs=[{locale:"alignmentsDropDownLeft",value:"JustifyLeft"},{locale:"alignmentsDropDownCenter",value:"JustifyCenter"},{locale:"alignmentsDropDownRight",value:"JustifyRight"},{locale:"alignmentsDropDownJustify",value:"JustifyFull"}],vs=[{iconCss:"e-icons e-justify-left",text:"Align Left",command:"Alignments",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",text:"Align Center",command:"Alignments",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",text:"Align Right",command:"Alignments",subCommand:"JustifyRight"},{iconCss:"e-icons e-justify-full",text:"Align Justify",command:"Alignments",subCommand:"JustifyFull"}],ys=[{iconCss:"e-icons e-justify-left",command:"Images",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",command:"Images",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",command:"Images",subCommand:"JustifyRight"}],bs=[{locale:"imageDisplayDropDownInline",value:"Inline"},{locale:"imageDisplayDropDownBreak",value:"Break"}],Cs=[{text:"Inline",cssClass:"e-inline",command:"Images",subCommand:"Inline"},{text:"Break",cssClass:"e-break",command:"Images",subCommand:"Break"}],ws=[{iconCss:"e-icons e-cell-merge",text:"Merge cells",command:"Table",subCommand:"Merge"},{iconCss:"e-icons e-cell-horizontal-split",text:"Horizontal split",command:"Table",subCommand:"HorizontalSplit"},{iconCss:"e-icons e-cell-vertical-split",text:"Vertical split",command:"Table",subCommand:"VerticalSplit"}],Es=[{locale:"tableInsertRowDropDownBefore",value:"InsertRowBefore"},{locale:"tableInsertRowDropDownAfter",value:"InsertRowAfter"},{locale:"tableInsertRowDropDownDelete",value:"DeleteRow"}],Ss=[{iconCss:"e-icons e-insert-row-before",text:"Insert row before",command:"Table",subCommand:"InsertRowBefore"},{iconCss:"e-icons e-insert-row-after",text:"Insert row after",command:"Table",subCommand:"InsertRowAfter"},{iconCss:"e-icons e-delete-row",text:"Delete row",command:"Table",subCommand:"DeleteRow"}],ks=[{locale:"tableInsertColumnDropDownLeft",value:"InsertColumnLeft"},{locale:"tableInsertColumnDropDownRight",value:"InsertColumnRight"},{locale:"tableInsertColumnDropDownDelete",value:"DeleteColumn"}],Ts=[{iconCss:"e-icons e-insert-column-left",text:"Insert column left",command:"Table",subCommand:"InsertColumnLeft"},{iconCss:"e-icons e-insert-column-right",text:"Insert column right",command:"Table",subCommand:"InsertColumnRight"},{iconCss:"e-icons e-delete-column",text:"Delete column",command:"Table",subCommand:"DeleteColumn"}],xs=[{locale:"tableVerticalAlignDropDownTop",value:"AlignTop"},{locale:"tableVerticalAlignDropDownMiddle",value:"AlignMiddle"},{locale:"tableVerticalAlignDropDownBottom",value:"AlignBottom"}],Ns=[{iconCss:"e-icons e-align-top",text:"Align Top",command:"Table",subCommand:"AlignTop"},{iconCss:"e-icons e-align-middle",text:"Align Middle",command:"Table",subCommand:"AlignMiddle"},{iconCss:"e-icons e-align-bottom",text:"Align Bottom",command:"Table",subCommand:"AlignBottom"}],Ls=[{locale:"tableStylesDropDownDashedBorder",value:"Dashed"},{locale:"tableStylesDropDownAlternateRows",value:"Alternate"}],Ps=[{text:"Dashed Borders",cssClass:"e-dashed-borders",command:"Table",subCommand:"Dashed"},{text:"Alternate Rows",cssClass:"e-alternate-rows",command:"Table",subCommand:"Alternate"}],Ds=["Bold","Italic","Underline","|","Formats","Alignments","OrderedList","UnorderedList","|","CreateLink","Image","|","SourceCode","Undo","Redo"],Os=[{cssClass:"e-segoe-ui",text:"Segoe UI",command:"Font",subCommand:"FontName",value:"Segoe UI"},{cssClass:"e-arial",text:"Arial",command:"Font",subCommand:"FontName",value:"Arial,Helvetica,sans-serif"},{cssClass:"e-georgia",text:"Georgia",command:"Font",subCommand:"FontName",value:"Georgia,serif"},{cssClass:"e-impact",text:"Impact",command:"Font",subCommand:"FontName",value:"Impact,Charcoal,sans-serif"},{cssClass:"e-tahoma",text:"Tahoma",command:"Font",subCommand:"FontName",value:"Tahoma,Geneva,sans-serif"},{cssClass:"e-times-new-roman",text:"Times New Roman",command:"Font",subCommand:"FontName",value:"Times New Roman,Times,serif"},{cssClass:"e-verdana",text:"Verdana",command:"Font",subCommand:"FontName",value:"Verdana,Geneva,sans-serif"}],Ms=[{text:"8 pt",value:"8pt"},{text:"10 pt",value:"10pt"},{text:"12 pt",value:"12pt"},{text:"14 pt",value:"14pt"},{text:"18 pt",value:"18pt"},{text:"24 pt",value:"24pt"},{text:"36 pt",value:"36pt"}],Rs=[{cssClass:"e-paragraph",text:"Paragraph",command:"Formats",subCommand:"P",value:"P"},{cssClass:"e-code",text:"Code",command:"Formats",subCommand:"Pre",value:"Pre"},{cssClass:"e-quote",text:"Quotation",command:"Formats",subCommand:"BlockQuote",value:"BlockQuote"},{cssClass:"e-h1",text:"Heading 1",command:"Formats",subCommand:"H1",value:"H1"},{cssClass:"e-h2",text:"Heading 2",command:"Formats",subCommand:"H2",value:"H2"},{cssClass:"e-h3",text:"Heading 3",command:"Formats",subCommand:"H3",value:"H3"},{cssClass:"e-h4",text:"Heading 4",command:"Formats",subCommand:"H4",value:"H4"}],As={Custom:["","#000000","#e7e6e6","#44546a","#4472c4","#ed7d31","#a5a5a5","#ffc000","#70ad47","#ff0000","#f2f2f2","#808080","#cfcdcd","#d5dce4","#d9e2f3","#fbe4d5","#ededed","#fff2cc","#e2efd9","#ffcccc","#d9d9d9","#595959","#aeaaaa","#acb9ca","#b4c6e7","#f7caac","#dbdbdb","#ffe599","#c5e0b3","#ff8080","#bfbfbf","#404040","#747070","#8496b0","#8eaadb","#f4b083","#c9c9c9","#ffd966","#a8d08d","#ff3333","#a6a6a6","#262626","#3b3838","#323e4f","#2f5496","#c45911","#7b7b7b","#bf8f00","#538135","#b30000","#7f7f7f","#0d0d0d","#161616","#212934","#1f3763","#823b0b","#525252","#7f5f00","#375623","#660000"]},Hs={Custom:["","#000000","#ffff00","#00ff00","#00ffff","#0000ff","#ff0000","#000080","#800080","#996633","#f2f2f2","#808080","#ffffcc","#b3ffb3","#ccffff","#ccccff","#ffcccc","#ccccff","#ff80ff","#f2e6d9","#d9d9d9","#595959","#ffff80","#80ff80","#b3ffff","#8080ff","#ff8080","#8080ff","#ff00ff","#dfbf9f","#bfbfbf","#404040","#ffff33","#33ff33","#33ffff","#3333ff","#ff3333","#0000b3","#b300b3","#c68c53","#a6a6a6","#262626","#e6e600","#00b300","#009999","#000099","#b30000","#000066","#660066","#86592d","#7f7f7f","#0d0d0d","#999900","#006600","#006666","#000066","#660000","#00004d","#4d004d","#734d26"]},Bs=[{text:"None",command:"Lists",subCommand:"NumberFormatList",value:"none"},{text:"Number",command:"Lists",subCommand:"NumberFormatList",value:"decimal"},{text:"Lower Greek",command:"Lists",subCommand:"NumberFormatList",value:"lowerGreek"},{text:"Lower Roman",command:"Lists",subCommand:"NumberFormatList",value:"lowerRoman"},{text:"Upper Alpha",command:"Lists",subCommand:"NumberFormatList",value:"upperAlpha"},{text:"Lower Alpha",command:"Lists",subCommand:"NumberFormatList",value:"lowerAlpha"},{text:"Upper Roman",command:"Lists",subCommand:"NumberFormatList",value:"upperRoman"}],Is=[{text:"None",command:"Lists",subCommand:"BulletFormatList",value:"none"},{text:"Disc",command:"Lists",subCommand:"BulletFormatList",value:"disc"},{text:"Circle",command:"Lists",subCommand:"BulletFormatList",value:"circle"},{text:"Square",command:"Lists",subCommand:"BulletFormatList",value:"square"}];function Fs(e,t,n){for(var i=0;t.length>i;i++)if(t[i].value===n.subCommand)return e.localeObj.getConstant(t[i].locale);return n.text}var js=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zs=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(!0)],t.prototype,"enable",void 0),zs([et(!0)],t.prototype,"enableFloating",void 0),zs([et(wi.Expand)],t.prototype,"type",void 0),zs([et(Ds)],t.prototype,"items",void 0),zs([et({})],t.prototype,"itemConfigs",void 0),t}(yt),Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et([".jpeg",".jpg",".png"])],t.prototype,"allowedTypes",void 0),zs([et("inline")],t.prototype,"display",void 0),zs([et("Blob")],t.prototype,"saveFormat",void 0),zs([et("auto")],t.prototype,"width",void 0),zs([et("auto")],t.prototype,"height",void 0),zs([et(null)],t.prototype,"saveUrl",void 0),zs([et(null)],t.prototype,"path",void 0),zs([et(!0)],t.prototype,"resize",void 0),zs([et(null)],t.prototype,"removeUrl",void 0),zs([et(0)],t.prototype,"minWidth",void 0),zs([et(null)],t.prototype,"maxWidth",void 0),zs([et(0)],t.prototype,"minHeight",void 0),zs([et(null)],t.prototype,"maxHeight",void 0),zs([et(!1)],t.prototype,"resizeByPercent",void 0),t}(yt),qs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([tt({getImageUrl:null,url:null,uploadUrl:null},Ur)],t.prototype,"ajaxSettings",void 0),zs([et(!1)],t.prototype,"allowDragAndDrop",void 0),zs([tt({visible:!0,file:["Open","|","Cut","Copy","|","Delete","Rename","|","Details"],folder:["Open","|","Cut","Copy","Paste","|","Delete","Rename","|","Details"],layout:["SortBy","View","Refresh","|","Paste","|","NewFolder","Upload","|","Details","|","SelectAll"]},$r)],t.prototype,"contextMenuSettings",void 0),zs([et("")],t.prototype,"cssClass",void 0),zs([tt({},es)],t.prototype,"detailsViewSettings",void 0),zs([et(!1)],t.prototype,"enable",void 0),zs([tt({maxWidth:"650px",minWidth:"240px",visible:!0},is)],t.prototype,"navigationPaneSettings",void 0),zs([et("/")],t.prototype,"path",void 0),zs([et(null)],t.prototype,"rootAliasName",void 0),zs([tt({},ss)],t.prototype,"searchSettings",void 0),zs([et(!0)],t.prototype,"showFileExtension",void 0),zs([et(!1)],t.prototype,"showHiddenItems",void 0),zs([et(!0)],t.prototype,"showThumbnail",void 0),zs([et("Ascending")],t.prototype,"sortOrder",void 0),zs([tt({visible:!0,items:["NewFolder","Upload","Cut","Copy","Paste","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"]},hs)],t.prototype,"toolbarSettings",void 0),zs([tt({autoUpload:!0,minFileSize:0,maxFileSize:3e7,allowedExtensions:"",autoClose:!1},us)],t.prototype,"uploadSettings",void 0),zs([et("LargeIcons")],t.prototype,"view",void 0),t}(yt),Us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et("100%")],t.prototype,"width",void 0),zs([et(Ps)],t.prototype,"styles",void 0),zs([et(!0)],t.prototype,"resize",void 0),zs([et(0)],t.prototype,"minWidth",void 0),zs([et(null)],t.prototype,"maxWidth",void 0),t}(yt),Ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(!0)],t.prototype,"enable",void 0),zs([et(!1)],t.prototype,"showOnRightClick",void 0),zs([et("hide")],t.prototype,"actionOnScroll",void 0),zs([et(["Open","Edit","UnLink"])],t.prototype,"link",void 0),zs([et(["Replace","Align","Caption","Remove","-","InsertLink","OpenImageLink","EditImageLink","RemoveImageLink","Display","AltText","Dimension"])],t.prototype,"image",void 0),zs([et(["Cut","Copy","Paste"])],t.prototype,"text",void 0),zs([et(["TableHeader","TableRows","TableColumns","BackgroundColor","-","TableRemove","Alignments","TableCellVerticalAlign","Styles"])],t.prototype,"table",void 0),t}(yt),Xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(!1)],t.prototype,"prompt",void 0),zs([et(null)],t.prototype,"deniedAttrs",void 0),zs([et(["background","background-color","border","border-bottom","border-left","border-radius","border-right","border-style","border-top","border-width","clear","color","cursor","direction","display","float","font","font-family","font-size","font-weight","font-style","height","left","line-height","list-style-type","margin","margin-top","margin-left","margin-right","margin-bottom","max-height","max-width","min-height","min-width","overflow","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","position","right","table-layout","text-align","text-decoration","text-indent","top","vertical-align","visibility","white-space","width"])],t.prototype,"allowedStyleProps",void 0),zs([et(null)],t.prototype,"deniedTags",void 0),zs([et(!0)],t.prototype,"keepFormat",void 0),zs([et(!1)],t.prototype,"plainText",void 0),t}(yt),Ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(null)],t.prototype,"default",void 0),zs([et("65px")],t.prototype,"width",void 0),zs([et(Os)],t.prototype,"items",void 0),t}(yt),Ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(null)],t.prototype,"default",void 0),zs([et("35px")],t.prototype,"width",void 0),zs([et(Ms)],t.prototype,"items",void 0),t}(yt),Gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(null)],t.prototype,"default",void 0),zs([et("65px")],t.prototype,"width",void 0),zs([et(Rs)],t.prototype,"types",void 0),t}(yt),$s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et("#ff0000")],t.prototype,"default",void 0),zs([et("Palette")],t.prototype,"mode",void 0),zs([et(10)],t.prototype,"columns",void 0),zs([et(As)],t.prototype,"colorCode",void 0),zs([et(!1)],t.prototype,"modeSwitcher",void 0),t}(yt),Qs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et("#ffff00")],t.prototype,"default",void 0),zs([et("Palette")],t.prototype,"mode",void 0),zs([et(10)],t.prototype,"columns",void 0),zs([et(Hs)],t.prototype,"colorCode",void 0),zs([et(!1)],t.prototype,"modeSwitcher",void 0),t}(yt),Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(Bs)],t.prototype,"types",void 0),t}(yt),Zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return js(t,e),zs([et(Is)],t.prototype,"types",void 0),t}(yt),ea=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ta=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ea(t,e),ta([et([])],t.prototype,"styles",void 0),ta([et([])],t.prototype,"scripts",void 0),t}(yt),ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ea(t,e),ta([et(!1)],t.prototype,"enable",void 0),ta([et(null)],t.prototype,"attributes",void 0),ta([tt({},na)],t.prototype,"resources",void 0),t}(yt),oa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ra=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oa(t,e),ra([et(!1)],t.prototype,"enable",void 0),ra([et(!0)],t.prototype,"onSelection",void 0),t}(yt),aa={alignments:"Alignments",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",fontName:"Font Name",fontSize:"Font Size",fontColor:"Font Color",backgroundColor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",clearFormat:"Clear Format",clearAll:"Clear All",cut:"Cut",copy:"Copy",paste:"Paste",unorderedList:"Bulleted List",orderedList:"Numbered List",indent:"Increase Indent",outdent:"Decrease Indent",undo:"Undo",redo:"Redo",superscript:"Superscript",subscript:"Subscript",createLink:"Insert Link",openLink:"Open Link",editLink:"Edit Link",removeLink:"Remove Link",image:"Insert Image",replace:"Replace",align:"Align",caption:"Image Caption",remove:"Remove",insertLink:"Insert Link",display:"Display",altText:"Alternative Text",dimension:"Change Size",fullscreen:"Maximize",maximize:"Maximize",minimize:"Minimize",lowerCase:"Lower Case",upperCase:"Upper Case",print:"Print",formats:"Formats",sourcecode:"Code View",preview:"Preview",viewside:"ViewSide",insertCode:"Insert Code",linkText:"Display Text",linkTooltipLabel:"Title",linkWebUrl:"Web Address",linkTitle:"Enter a title",linkurl:"http://example.com",linkOpenInNewWindow:"Open Link in New Window",linkHeader:"Insert Link",dialogInsert:"Insert",dialogCancel:"Cancel",dialogUpdate:"Update",imageHeader:"Insert Image",imageLinkHeader:"You can also provide a link from the web",mdimageLink:"Please provide a URL for your image",imageUploadMessage:"Drop image here or browse to upload",imageDeviceUploadMessage:"Click here to upload",imageAlternateText:"Alternate Text",alternateHeader:"Alternative Text",browse:"Browse",imageUrl:"http://example.com/image.png",imageCaption:"Caption",imageSizeHeader:"Image Size",imageHeight:"Height",imageWidth:"Width",textPlaceholder:"Enter Text",inserttablebtn:"Insert Table",tabledialogHeader:"Insert Table",tableWidth:"Width",cellpadding:"Cell Padding",cellspacing:"Cell Spacing",columns:"Number of columns",rows:"Number of rows",tableRows:"Table Rows",tableColumns:"Table Columns",tableCellHorizontalAlign:"Table Cell Horizontal Align",tableCellVerticalAlign:"Table Cell Vertical Align",createTable:"Create Table",removeTable:"Remove Table",tableHeader:"Table Header",tableRemove:"Table Remove",tableCellBackground:"Table Cell Background",tableEditProperties:"Table Edit Properties",styles:"Styles",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteColumn:"Delete Column",insertRowBefore:"Insert Row Before",insertRowAfter:"Insert Row After",deleteRow:"Delete Row",tableEditHeader:"Edit Table",TableHeadingText:"Heading",TableColText:"Col",imageInsertLinkHeader:"Insert Link",editImageHeader:"Edit Image",alignmentsDropDownLeft:"Align Left",alignmentsDropDownCenter:"Align Center",alignmentsDropDownRight:"Align Right",alignmentsDropDownJustify:"Align Justify",imageDisplayDropDownInline:"Inline",imageDisplayDropDownBreak:"Break",tableInsertRowDropDownBefore:"Insert row before",tableInsertRowDropDownAfter:"Insert row after",tableInsertRowDropDownDelete:"Delete row",tableInsertColumnDropDownLeft:"Insert column left",tableInsertColumnDropDownRight:"Insert column right",tableInsertColumnDropDownDelete:"Delete column",tableVerticalAlignDropDownTop:"Align Top",tableVerticalAlignDropDownMiddle:"Align Middle",tableVerticalAlignDropDownBottom:"Align Bottom",tableStylesDropDownDashedBorder:"Dashed Borders",tableStylesDropDownAlternateRows:"Alternate Rows",pasteFormat:"Paste Format",pasteFormatContent:"Choose the formatting action",plainText:"Plain Text",cleanFormat:"Clean",keepFormat:"Keep",pasteDialogOk:"OK",pasteDialogCancel:"Cancel",fileManager:"File Manager",fileDialogHeader:"File Browser",formatsDropDownParagraph:"Paragraph",formatsDropDownCode:"Code",formatsDropDownQuotation:"Quotation",formatsDropDownHeading1:"Heading 1",formatsDropDownHeading2:"Heading 2",formatsDropDownHeading3:"Heading 3",formatsDropDownHeading4:"Heading 4",fontNameSegoeUI:"Segoe UI",fontNameArial:"Arial",fontNameGeorgia:"Georgia",fontNameImpact:"Impact",fontNameTahoma:"Tahoma",fontNameTimesNewRoman:"Times New Roman",fontNameVerdana:"Verdana",numberFormatListNumber:"Number",numberFormatListLowerAlpha:"LowerAlpha",numberFormatListUpperAlpha:"UpperAlpha",numberFormatListLowerRoman:"LowerRoman",numberFormatListUpperRoman:"UpperRoman",numberFormatListLowerGreek:"LowerGreek",bulletFormatListDisc:"Disc",bulletFormatListCircle:"Circle",bulletFormatListSquare:"Square",numberFormatListNone:"None",bulletFormatListNone:"None"},la={alignments:"alignments",justifyleft:"justifyLeft",justifycenter:"justifyCenter",justifyright:"justifyRight",justifyfull:"justifyFull",fontname:"fontName",fontsize:"fontSize",fontcolor:"fontColor",backgroundcolor:"backgroundColor",bold:"bold",italic:"italic",underline:"underline",strikethrough:"strikethrough",clearformat:"clearFormat",clearall:"clearAll",cut:"cut",copy:"copy",paste:"paste",unorderedlist:"unorderedList",orderedlist:"orderedList",indent:"indent",outdent:"outdent",undo:"undo",redo:"redo",superscript:"superscript",subscript:"subscript",createlink:"createLink",openlink:"openLink",editlink:"editLink",removelink:"removeLink",openimagelink:"openLink",editimagelink:"editLink",removeimagelink:"removeLink",image:"image",replace:"replace",align:"align",caption:"caption",remove:"remove",insertlink:"insertLink",display:"display",alttext:"altText",dimension:"dimension",fullscreen:"fullscreen",maximize:"maximize",minimize:"minimize",lowercase:"lowerCase",uppercase:"upperCase",print:"print",formats:"formats",sourcecode:"sourcecode",preview:"preview",viewside:"viewside",insertcode:"insertCode",tablerows:"tableRows",tablecolumns:"tableColumns",tablecellhorizontalalign:"tableCellHorizontalAlign",tablecellverticalalign:"tableCellVerticalAlign",createtable:"createTable",removetable:"removeTable",tableheader:"tableHeader",tableremove:"tableRemove",tablecellbackground:"tableCellBackground",tableeditproperties:"tableEditProperties",styles:"styles",insertcolumnleft:"insertColumnLeft",insertcolumnright:"insertColumnRight",deletecolumn:"deleteColumn",aligntop:"AlignTop",alignmiddle:"AlignMiddle",alignbottom:"AlignBottom",insertrowbefore:"insertRowBefore",insertrowafter:"insertRowAfter",deleterow:"deleteRow"},ca=[{locale:"fontNameSegoeUI",value:"Segoe UI"},{locale:"fontNameArial",value:"Arial,Helvetica,sans-serif"},{locale:"fontNameGeorgia",value:"Georgia,serif"},{locale:"fontNameImpact",value:"Impact,Charcoal,sans-serif"},{locale:"fontNameTahoma",value:"Tahoma,Geneva,sans-serif"},{locale:"fontNameTimesNewRoman",value:"Times New Roman,Times,serif"},{locale:"fontNameVerdana",value:"Verdana,Geneva,sans-serif"}],ha=[{locale:"formatsDropDownParagraph",value:"P"},{locale:"formatsDropDownCode",value:"Pre"},{locale:"formatsDropDownQuotation",value:"BlockQuote"},{locale:"formatsDropDownHeading1",value:"H1"},{locale:"formatsDropDownHeading2",value:"H2"},{locale:"formatsDropDownHeading3",value:"H3"},{locale:"formatsDropDownHeading4",value:"H4"}],da=[{locale:"numberFormatListNone",value:"none"},{locale:"numberFormatListNumber",value:"decimal"},{locale:"numberFormatListLowerAlpha",value:"lower-alpha"},{locale:"numberFormatListUpperAlpha",value:"upper-alpha"},{locale:"numberFormatListLowerRoman",value:"lower-roman"},{locale:"numberFormatListUpperRoman",value:"upper-roman"},{locale:"numberFormatListLowerGreek",value:"lower-greek"}],pa=[{locale:"bulletFormatListNone",value:"none"},{locale:"bulletFormatListDisc",value:"disc"},{locale:"bulletFormatListCircle",value:"circle"},{locale:"bulletFormatListSquare",value:"square"}];function ua(e,t,n,i){var o;n?o=t.contentModule.getDocument().querySelector("body"):o=t.element;if(Object.keys(e).length)for(var r=0,s=Object.keys(e);r<s.length;r++){var a=s[r];if("class"===a)o.classList.add(e[a]);else if("disabled"===a&&"disabled"===e[a])t.enabled=!1,t.setEnable();else if("readonly"===a&&"readonly"===e[a])t.readonly=!0,t.setReadOnly(i);else if("style"===a)o.setAttribute("style",e[a]);else if("tabindex"===a)t.inputElement.setAttribute("tabindex",e[a]);else if("placeholder"===a)t.placeholder=e[a],t.setPlaceHolder();else{["name","required"].indexOf(a)>-1?t.valueContainer.setAttribute(a,e[a]):o.setAttribute(a,e[a])}}}var ma=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.showFullScreen=function(e){var t=this;if(!0!==this.parent.toolbarSettings.enable||"Markdown"===this.parent.editorMode||E(this.parent.quickToolbarModule)||this.parent.quickToolbarModule.hideQuickToolbars(),this.scrollableParent=yi(this.parent.element),!this.parent.element.classList.contains(Io)){var n={cancel:!1,requestType:"Maximize",targetItem:"Maximize",args:e};this.parent.trigger(Xi,n,(function(n){n.cancel||(t.parent.toolbarSettings.enableFloating&&!t.parent.inlineMode.enable&&t.parent.toolbarSettings.enable&&(t.parent.getToolbarElement().style.width="100%",t.parent.getToolbarElement().style.top="0px"),t.parent.element.classList.add(Io),t.toggleParentOverflow(!0),t.parent.setContentHeight(),t.parent.toolbarModule&&(t.parent.getBaseToolbarObject().toolbarObj.items[0].properties||t.parent.getBaseToolbarObject().toolbarObj.removeItems(0),Ce.isDevice&&t.parent.toolbarModule.removeFixedTBarClass(),t.parent.toolbarModule.updateItem({targetItem:"Maximize",updateItem:"Minimize",baseToolbar:t.parent.getBaseToolbarObject()})),t.parent.trigger(Yi,{requestType:"Maximize",targetItem:"Maximize",args:e}))}))}},e.prototype.hideFullScreen=function(e){var t=this;if(!0!==this.parent.toolbarSettings.enable||"Markdown"===this.parent.editorMode||E(this.parent.quickToolbarModule)||this.parent.quickToolbarModule.hideQuickToolbars(),this.parent.element.classList.contains(Io)){var n={cancel:!1,requestType:"Minimize",targetItem:"Minimize",args:e};this.parent.trigger(Xi,n,(function(n){if(!n.cancel){t.parent.element.classList.remove(Io);for(var i=document.querySelectorAll(".e-rte-overflow"),o=0;o<i.length;o++)Te([i[o]],["e-rte-overflow"]);t.parent.setContentHeight(),t.parent.toolbarModule&&(t.parent.getBaseToolbarObject().toolbarObj.items[0].properties||t.parent.getBaseToolbarObject().toolbarObj.removeItems(0),t.parent.toolbarModule.updateItem({targetItem:"Minimize",updateItem:"Maximize",baseToolbar:t.parent.getBaseToolbarObject()}),Ce.isDevice&&t.parent.inlineMode.enable&&t.parent.toolbarModule.addFixedTBarClass()),t.parent.trigger(Yi,{requestType:"Minimize",targetItem:"Minimize",args:e})}}))}},e.prototype.toggleParentOverflow=function(e){if(!E(this.scrollableParent))for(var t=0;t<this.scrollableParent.length;t++){if("#document"===this.scrollableParent[t].nodeName)ke([document.querySelector("body")],["e-rte-overflow"]);else ke([this.scrollableParent[t]],["e-rte-overflow"])}},e.prototype.onKeyDown=function(e){var t=e.args;switch(t.action){case"full-screen":this.showFullScreen(e.args),t.preventDefault();break;case"escape":this.hideFullScreen(e.args),t.preventDefault()}},e.prototype.addEventListener=function(){this.parent.on(Fi,this.onKeyDown,this),this.parent.on(Ni,this.destroy,this)},e.prototype.removeEventListener=function(){this.parent.off(Fi,this.onKeyDown),this.parent.off(Ni,this.destroy)},e.prototype.destroy=function(){this.parent.element.classList.contains(Io)&&this.toggleParentOverflow(!1);for(var e=document.querySelectorAll(".e-rte-overflow"),t=0;t<e.length;t++)Te([e[t]],["e-rte-overflow"]);this.removeEventListener()},e}(),fa=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(yo,this.enterHandler,this),this.parent.on(Ni,this.destroy,this)},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.removeEventListener=function(){this.parent.off(yo,this.enterHandler),this.parent.off(Ni,this.destroy)},e.prototype.getRangeNode=function(){this.range=this.parent.getRange(),this.startNode="#text"===this.range.startContainer.nodeName?this.range.startContainer.parentElement:this.range.startContainer,this.endNode="#text"===this.range.endContainer.nodeName?this.range.endContainer.parentElement:this.range.endContainer},e.prototype.enterHandler=function(e){var t=this;this.getRangeNode();var n=!0;if(!E(this.startNode.closest("TABLE"))&&!E(this.endNode.closest("TABLE"))){n=!1;for(var i=this.startNode,o=i;!this.parent.formatter.editorManager.domNode.isBlockNode(i);)o=i,i=i.parentElement;n="TD"!==o.tagName}if(13===e.args.which&&"Enter"===e.args.code&&E(this.startNode.closest("LI"))&&E(this.endNode.closest("LI"))&&n&&E(this.startNode.closest("PRE"))&&E(this.endNode.closest("PRE"))){var r=e.args.shiftKey,s={cancel:!1,name:Xi,requestType:r?"ShiftEnterAction":"EnterAction",originalEvent:e.args};this.parent.trigger(Xi,s,(function(i){if(!i.cancel){if(t.range.startOffset!==t.range.endOffset||t.range.startContainer!==t.range.endContainer)if(t.range.deleteContents(),"#text"===t.range.startContainer.nodeName&&0===t.range.startContainer.textContent.length&&t.range.startContainer.parentElement!==t.parent.inputElement)"BR"===t.parent.enterKey?t.range.startContainer.parentElement.innerHTML="&#8203;":t.range.startContainer.parentElement.innerHTML="<br>";else if(t.range.startContainer===t.parent.inputElement&&""===t.range.startContainer.innerHTML){t.range.startContainer.innerHTML="<br>";var o=t.range.startContainer.childNodes[t.range.startOffset];t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),o,0)}else if(t.parent.inputElement===t.range.startContainer){if("#text"===(o=t.range.startContainer.childNodes[t.range.startOffset]).nodeName&&0===o.textContent.length)t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),o,o.previousSibling.textContent.length);else if(t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),o,o.textContent.length>=0?0:1),0===o.previousSibling.textContent.length)Oe(o.previousSibling);else if(0===o.textContent.length){for(var s=o.previousSibling.lastChild;"#text"!==s.nodeName;)s=s.lastChild;t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),s,s.textContent.length),Oe(o)}else if("BR"!==t.parent.enterKey&&0!==o.previousSibling.textContent.length&&0!==o.textContent.length)return void e.args.preventDefault();t.getRangeNode()}if(t.range.startContainer===t.range.endContainer&&t.range.startOffset===t.range.endOffset&&t.range.startContainer===t.parent.inputElement&&(t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),t.range.startContainer.childNodes[t.range.startOffset],0),t.getRangeNode()),"P"===t.parent.enterKey&&!r||"DIV"===t.parent.enterKey&&!r||"P"===t.parent.shiftEnterKey&&r||"DIV"===t.parent.shiftEnterKey&&r){var a=void 0;a=n&&t.parent.formatter.editorManager.domNode.isBlockNode(t.startNode)?t.startNode:t.parent.formatter.editorManager.domNode.blockParentNode(t.startNode);var l=!1,c=!1;if(0==t.range.startOffset||0==t.range.endOffset||t.range.startContainer!==t.range.endContainer||!E(a.childNodes[0])&&"IMG"===a.childNodes[0].nodeName)0===t.range.startOffset&&0===t.range.endOffset&&(c=!0);else{var h=t.range.startContainer.textContent.substring(0,t.range.startOffset);160!=h.charCodeAt(t.range.startOffset-1)&&0===h.trim().length&&(c=!0)}if(t.removeBRElement(a),(0===t.range.startOffset&&0===t.range.endOffset||c)&&(E(t.range.startContainer.previousSibling)||"IMG"!==t.range.startContainer.previousSibling.nodeName&&"BR"!==t.range.startContainer.previousSibling.nodeName)){var d=void 0,p=void 0;"IMG"===t.range.startContainer.nodeName?(p=t.createInsertElement(r),l=!0,d=!1):0!==a.textContent.trim().length?(p=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,a,!1).cloneNode(!0),d=!1):(p=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,a,!0).cloneNode(!0),d=!0);for(var u=t.createInsertElement(r);p.firstChild;)u.appendChild(p.firstChild);if(a.parentElement.insertBefore(u,a),!d){s=u;for(var m=void 0;!E(s)&&"#text"!==s.nodeName;)m=s,s=s.lastChild;m.innerHTML="<br>",l||Oe(a)}t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),u.nextElementSibling,0)}else if(0!==a.textContent.length||!E(a.childNodes[0])&&"IMG"===a.childNodes[0].nodeName){if(E((p=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,a,!0)).childNodes[0])||"#text"!==p.childNodes[0].nodeName||0!==p.childNodes[0].textContent.length||Oe(p.childNodes[0]),0===p.textContent.trim().length){var f=t.parent.createElement("br");if("A"===t.startNode.nodeName){var g=t.startNode.parentElement;t.startNode.parentElement.insertBefore(f,t.startNode),Oe(t.startNode),t.startNode=g}else t.startNode.appendChild(f);"\n"===p.childNodes[0].textContent&&Oe(p.childNodes[0]),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),t.startNode,0)}if(("P"===t.parent.enterKey||"DIV"===t.parent.enterKey)&&!r||("DIV"===t.parent.shiftEnterKey||"P"===t.parent.shiftEnterKey)&&r){for(var v=t.createInsertElement(r);p.firstChild;)v.appendChild(p.firstChild);t.parent.formatter.editorManager.domNode.insertAfter(v,p),Oe(p),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),t.parent.formatter.editorManager.domNode.isBlockNode(t.startNode)?v:t.startNode,0)}}else if(E(a.children[0])||"BR"===a.children[0].tagName){(u=t.createInsertElement(r)).innerHTML="<br>",t.parent.formatter.editorManager.domNode.insertAfter(u,a),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),u,0)}else{var p=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,a,!1).cloneNode(!0);t.parent.formatter.editorManager.domNode.insertAfter(p,a),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),p,p.textContent.length>=0?0:1)}e.args.preventDefault()}if("BR"===t.parent.enterKey&&!r||"BR"===t.parent.shiftEnterKey&&r){var y=void 0;if(t.parent.formatter.editorManager.domNode.isBlockNode(t.startNode))y=t.startNode;else{for(var b=t.startNode,C=b;!t.parent.formatter.editorManager.domNode.isBlockNode(b);)C=b,b=b.parentElement;y=b===t.parent.inputElement?C:b}t.removeBRElement(y);for(var w=y.lastChild;!E(w)&&"#text"!==w.nodeName&&"BR"!==w.nodeName;)w=w.lastChild;var S=t.range.startContainer===w?t.range.startContainer.textContent.length:y.textContent.length;if(y!==t.parent.inputElement&&t.parent.formatter.editorManager.domNode.isBlockNode(y)&&t.range.startOffset===t.range.endOffset&&t.range.startOffset===S){var k=t.parent.createElement("br");if("BR"===w.nodeName&&0===y.textContent.length)t.parent.formatter.editorManager.domNode.insertAfter(k,w);else{var T=t.parent.createElement("br");t.parent.formatter.editorManager.domNode.insertAfter(k,t.range.startContainer),t.parent.formatter.editorManager.domNode.insertAfter(T,t.range.startContainer)}t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),k,0)}else if(E(y)||y===t.parent.inputElement||"BR"===y.nodeName)t.insertBRElement();else if(0===y.textContent.trim().length||1===y.textContent.trim().length&&8203===y.textContent.charCodeAt(0)){p=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,y,!0).cloneNode(!0);t.parent.formatter.editorManager.domNode.insertAfter(p,y);var x=t.parent.createElement("br");p.parentElement.insertBefore(x,p),t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),p,0)}else{p=void 0,x=t.parent.createElement("br");if(0!==t.range.startOffset||0!==t.range.endOffset||E(y.previousSibling)||"BR"!==y.previousSibling.nodeName)t.insertBRElement();else{p=t.parent.formatter.editorManager.nodeCutter.SplitNode(t.range,y,!1).cloneNode(!0),t.parent.formatter.editorManager.domNode.insertAfter(x,y),t.insertFocusContent();for(s=x.nextSibling;!E(s)&&"#text"!==s.nodeName;)s=s.lastChild;t.parent.formatter.editorManager.nodeSelection.setCursorPoint(t.parent.contentModule.getDocument(),s,0),!0}}e.args.preventDefault()}t.parent.trigger(Yi,{requestType:r?"ShiftEnterAction":"EnterAction",args:e.args})}}))}},e.prototype.removeBRElement=function(e){-1!=Ce.userAgent.indexOf("Firefox")&&this.range.endOffset===e.textContent.length&&(0!==e.textContent.length||e.querySelectorAll("BR").length>1)&&!E(e.lastChild)&&"BR"===e.lastChild.nodeName&&Oe(e.lastChild)},e.prototype.insertBRElement=function(){var e=!1,t=this.parent.createElement("br");if("BR"===this.startNode.nodeName&&"BR"===this.endNode.nodeName&&0===this.range.startOffset&&this.range.startOffset===this.range.endOffset?(this.parent.formatter.editorManager.domNode.insertAfter(t,this.startNode),e=!0):(this.startNode!==this.parent.inputElement||E(this.range.startContainer.previousSibling)||"BR"!==this.range.startContainer.previousSibling.nodeName||0!==this.range.startContainer.textContent.length||(e=!0),this.range.insertNode(t)),e||!E(t.nextElementSibling)&&"BR"===t.nextElementSibling.tagName||!E(t.nextSibling)&&t.nextSibling.textContent.length>0)this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),E(t.nextSibling)?t:t.nextSibling,0),e=!1;else{var n=this.parent.createElement("br");this.range.insertNode(n),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),t,0)}},e.prototype.insertFocusContent=function(){0===this.range.startContainer.textContent.length&&("#text"===this.range.startContainer.nodeName?this.range.startContainer.parentElement.innerHTML="&#8203;":this.range.startContainer.innerHTML="&#8203;")},e.prototype.createInsertElement=function(e){var t;return"DIV"===this.parent.enterKey&&!e||"DIV"===this.parent.shiftEnterKey&&e?t=this.parent.createElement("div"):("P"===this.parent.enterKey&&!e||"P"===this.parent.shiftEnterKey&&e)&&(t=this.parent.createElement("p")),t},e}(),ga=["Undo","Redo"],va=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","strike","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"];function ya(e,t){var n=-1;return t.some((function(t,i){return"string"===typeof t&&e===t.toLocaleLowerCase()&&(n=i,!0)})),n}function ba(e,t){var n=!1;return e.classList.contains(t)&&(n=!0),n}function Ca(e,t,n,i){for(var o,r,s=0;s<e.length;s++){if("value"===n&&e[s].value.toLocaleLowerCase()===t.toLocaleLowerCase()){o=e[s];break}if("text"===n&&e[s].text.toLocaleLowerCase()===t.toLocaleLowerCase()){o=e[s];break}if("subCommand"===n&&e[s].subCommand.toLocaleLowerCase()===t.toLocaleLowerCase()){o=e[s];break}}if(!E(o))switch(i){case"text":r=o.text;break;case"value":r=o.value;break;case"iconCss":r=o.iconCss}return r}function wa(){var e=!1;return Ce.isDevice&&Ce.isIos&&(e=!0),e}function Ea(e){return E(e)?"":e}function Sa(e,t){var n=t.getService("rteLocale"),i=la[e];return n.getConstant(i)}function ka(e){return"object"===typeof e?e:[e]}function Ta(e,t){for(var n=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++)if("Separator"!==t[o].type){if("OrderedList"===e[i]&&"OL"===t[o].subCommand){n.push(o);break}if("UnorderedList"===e[i]&&"UL"===t[o].subCommand){n.push(o);break}if("InsertCode"===e[i]&&"Pre"===t[o].subCommand){n.push(o);break}if("FileManager"===e[i]&&"File"===t[o].subCommand){n.push(o);break}if("object"===typeof e[i]&&"Custom"===e[i].command){n.push(i);break}if(e[i]===t[o].subCommand){n.push(o);break}}return n}function xa(e,t){for(var n=0,i=Ta(ka(ga),e.toolbarObj.items),o=He("."+Wo,e.toolbarObj.element),r=0,s=Object.keys(t);r<s.length;r++){var a=s[r],l=o[i[n]];l&&e.toolbarObj.enableItems(l,t[a]),n++}}function Na(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}function La(e){var t=Se("template");return t.innerHTML=e,t.content instanceof DocumentFragment?t.content:document.createRange().createContextualFragment(e)}function Pa(e,t){var n=[];for(t=t.firstChild;t;t=t.nextSibling)3===t.nodeType?n.push(t):n=n.concat(Pa(e,t));return n}function Da(e){for(var t={},n=Object.keys(e),i=0;i<Object.keys(e).length;i++)t[n[i].toLocaleLowerCase()]=e[n[i]];return t}function Oa(e,t){var n;return null!==e&&""!==e?(n=t.enableHtmlEncode?Ma(Ha(e),t):Ma(e,t),t.setProperties({value:n},!0)):n="DIV"===t.enterKey?t.enableHtmlEncode?"&lt;div&gt;&lt;br/&gt;&lt;/div&gt;":"<div><br/></div>":"BR"===t.enterKey?t.enableHtmlEncode?"&lt;br/&gt;":"<br/>":t.enableHtmlEncode?"&lt;p&gt;&lt;br/&gt;&lt;/p&gt;":"<p><br/></p>",n}function Ma(e,t){var n=document.createElement("div"),i=document.createElement("div"),o=n.childNodes;if(n.innerHTML=e,n.setAttribute("class","tempDiv"),o.length>0){for(var r=void 0,s=void 0,a=void 0;n.firstChild;)"BR"!==t.enterKey&&("#text"===n.firstChild.nodeName&&(n.firstChild.textContent.indexOf("\n")<0||""!==n.firstChild.textContent.trim())||va.indexOf(n.firstChild.nodeName.toLocaleLowerCase())>=0)?(r?s.appendChild(n.firstChild):(a="DIV"===t.enterKey?Se("div"):Se("p"),i.appendChild(a),a.appendChild(n.firstChild)),s=a,r=!0):"#text"===n.firstChild.nodeName&&("\n"===n.firstChild.textContent||n.firstChild.textContent.indexOf("\n")>=0&&""===n.firstChild.textContent.trim())?Oe(n.firstChild):(i.appendChild(n.firstChild),r=!1);for(var l=i.querySelectorAll("img"),c=0;c<l.length;c++)l[c].classList.contains(mr)||l[c].classList.add(mr),l[c].classList.contains(Qo)||l[c].classList.contains($o)||l[c].classList.add(Qo)}return i.innerHTML}function Ra(e){return"DIV"===e.enterKey?e.enableHtmlEncode?"&lt;div&gt;&lt;br/&gt;&lt;/div&gt;":"<div><br/></div>":"BR"===e.enterKey?e.enableHtmlEncode?"&lt;br/&gt;":"<br/>":e.enableHtmlEncode?"&lt;p&gt;&lt;br/&gt;&lt;/p&gt;":"<p><br/></p>"}function Aa(e){return"<p><br></p>"===e||"&lt;p&gt;&lt;br&gt;&lt;/p&gt;"===e||"<div><br></div>"===e||"&lt;div&gt;&lt;br&gt;&lt;/div&gt;"===e||"<br>"===e||"&lt;br&gt;"===e||""===e}function Ha(e){return e.replace(/&amp;/g,"&").replace(/&amp;lt;/g,"<").replace(/&lt;/g,"<").replace(/&amp;gt;/g,">").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&amp;nbsp;/g," ").replace(/&quot;/g,"")}function Ba(e,t,n){for(var i=0;t.length>i;i++)if(t[i].value===n.value||t[i].value===n.subCommand)return e.localeObj.getConstant(t[i].locale);return n.text}function Ia(e){Os.forEach((function(t,n){Os[n].text=Ba(e,ca,Os[n])})),Rs.forEach((function(t,n){Rs[n].text=Ba(e,ha,Rs[n])})),Bs.forEach((function(t,n){Bs[n].text=Ba(e,da,Bs[n])})),Is.forEach((function(t,n){Is[n].text=Ba(e,pa,Is[n])}))}function Fa(e){for(var t,n=e.childNodes,i=0;i<n.length;i++)if(3===(t=n[i]).nodeType)return t;return null}var ja,za,_a,Va,qa,Ua,Wa,Xa,Ya=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ka=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ga=(new Z,"e-rtl"),$a="e-btn",Qa="e-primary",Ja="e-icon-btn",Za=function(e){function t(t,n){return e.call(this,t,n)||this}return Ya(t,e),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=ht(this.element,{selector:"."+$a}),this.renderComplete()},t.prototype.initialize=function(){if(this.cssClass&&ke([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add(Qa),!P()||P()&&"progress-btn"!==this.getModuleName()){if(this.content){var e=this.enableHtmlSanitizer?wn.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss()}this.enableRtl&&this.element.classList.add(Ga),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(Ja);var t=this.element.childNodes[0];!t||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,t)}},t.prototype.wireEvents=function(){this.isToggle&&we.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&we.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var t=[Qa,Ga,Ja,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),e.prototype.destroy.call(this),Te([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var n=this.element.querySelector("span.e-btn-icon");n&&Oe(n),this.unWireEvents(),ft&&this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,t){for(var n=this.element.querySelector("span.e-btn-icon"),i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"isPrimary":e.isPrimary?this.element.classList.add(Qa):this.element.classList.remove(Qa);break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":n?e.iconCss?(n.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&("Left"===this.iconPosition?n.classList.add("e-icon-left"):n.classList.add("e-icon-right"))):Oe(n):this.setIconCss();break;case"iconPosition":Te([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(n=this.element.querySelector("span.e-btn-icon"))&&Oe(n),this.setIconCss();break;case"cssClass":t.cssClass&&Te([this.element],t.cssClass.split(" ")),e.cssClass&&ke([this.element],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(Ga):this.element.classList.remove(Ga);break;case"content":Fa(this.element)||this.element.classList.remove(Ja),(!P()||P()&&!this.isServerRendered&&"progress-btn"!==this.getModuleName())&&(this.enableHtmlSanitizer&&(e.content=wn.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss());break;case"isToggle":e.isToggle?we.add(this.element,"click",this.btnClickHandler,this):(we.remove(this.element,"click",this.btnClickHandler),Te([this.element],["e-active"]))}}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Ka([et("Left")],t.prototype,"iconPosition",void 0),Ka([et("")],t.prototype,"iconCss",void 0),Ka([et(!1)],t.prototype,"disabled",void 0),Ka([et(!1)],t.prototype,"isPrimary",void 0),Ka([et("")],t.prototype,"cssClass",void 0),Ka([et("")],t.prototype,"content",void 0),Ka([et(!1)],t.prototype,"isToggle",void 0),Ka([et()],t.prototype,"locale",void 0),Ka([et(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ka([it()],t.prototype,"created",void 0),t=Ka([ot],t)}(kt),el=["north-west","north","north-east","west","east","south-west","south","south-east"],tl="e-resize-handle",nl="e-focused-handle",il=["e-restrict-left"],ol="e-resize-viewport",rl=["north","west","east","south"],sl=0,al=0,ll=0,cl=0,hl=0,dl=0,pl=null,ul=null,ml=null,fl=!0,gl=0,vl=!0;function yl(e){kl();var t=Se("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+e),"south"===e&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),"north"===e&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),"east"===e&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),"west"===e&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),ja.appendChild(t)}function bl(e){var t;return E(e)||(t="string"===typeof e?document.querySelector(e):e),t}function Cl(e){E(e)&&(e=this);for(var t=ja.querySelectorAll(".e-resize-handle"),n=0;n<t.length;n++){za=t[n],we.add(za,"mousedown",El,e);var i="msie"===Ce.info.name?"pointerdown":"touchstart";we.add(za,i,Tl,e)}var o=ja.querySelectorAll(".e-dialog-border-resize");if(!E(o))for(n=0;n<o.length;n++){za=o[n],we.add(za,"mousedown",El,e);i="msie"===Ce.info.name?"pointerdown":"touchstart";we.add(za,i,Tl,e)}}function wl(e){return e.indexOf("mouse")>-1?"mouse":"touch"}function El(e){if(e.preventDefault(),ja=e.target.parentElement,kl(),hl=e.pageX,dl=e.pageY,e.target.classList.add(nl),E(pl)||!0!==pl(e,this)){this.targetEle&&ja&&ja.querySelector(".e-dlg-resizable")&&(this.target,Wa=null,Ua=this.targetEle.clientWidth,Va=this.targetEle.clientHeight);var t=E(Wa)?document:Wa;we.add(t,"mousemove",xl,this),we.add(document,"mouseup",Sl,this);for(var n=0;n<il.length;n++)fl=!ja.classList.contains(il[n])}}function Sl(e){var t="msie"===Ce.info.name?"pointermove":"touchmove",n="msie"===Ce.info.name?"pointerup":"touchend",i=E(Wa)?document:Wa,o="msie"===Ce.info.name?"pointerdown":"touchstart";we.remove(i,"mousemove",xl),we.remove(i,t,xl),we.remove(i,o,xl),E(document.body.querySelector(".e-focused-handle"))||document.body.querySelector(".e-focused-handle").classList.remove(nl),E(ml)||ml(e,this),we.remove(document,"mouseup",Sl),we.remove(document,n,Sl)}function kl(){sl=parseFloat(getComputedStyle(ja,null).getPropertyValue("width").replace("px","")),al=parseFloat(getComputedStyle(ja,null).getPropertyValue("height").replace("px","")),ll=ja.getBoundingClientRect().left,cl=ja.getBoundingClientRect().top}function Tl(e){ja=e.target.parentElement,kl();var t=e.touches?e.changedTouches[0]:e;if(hl=t.pageX,dl=t.pageY,E(pl)||!0!==pl(e,this)){var n="msie"===Ce.info.name?"pointermove":"touchmove",i="msie"===Ce.info.name?"pointerup":"touchend",o=E(Wa)?document:Wa;we.add(o,n,xl,this),we.add(document,i,Sl)}}function xl(e){if(e.target.classList.contains(tl)&&e.target.classList.contains(nl)?za=e.target:E(document.body.querySelector(".e-focused-handle"))||(za=document.body.querySelector(".e-focused-handle")),!E(za)){for(var t="",n=0;n<el.length;n++)za.classList.contains("e-"+el[n])&&(t=el[n]);switch(E(ul)||ul(e,this),t){case"south":Ll(e);break;case"north":Pl(e);break;case"west":Dl(e);break;case"east":Ol(e);break;case"south-east":Ll(e),Ol(e);break;case"south-west":Ll(e),Dl(e);break;case"north-east":Pl(e),Ol(e);break;case"north-west":Pl(e),Dl(e)}}}function Nl(e){return e.getBoundingClientRect()}function Ll(e){var t,n=document.documentElement.clientHeight,i=!1,o=(e.touches?e.changedTouches[0]:e).pageY,r=Nl(ja);E(Wa)||(t=Nl(Wa)),E(Wa)?E(Wa)&&(n-o>=0||r.top<0)&&(i=!0):i=!0;var s=al+(o-dl);s=s>_a?s:_a;var a=0;E(Wa)||(a=t.top);var l=E(Wa)?0:Wa.offsetHeight-Wa.clientHeight,c=r.top-a-l/2;if(c=c<0?0:c,r.top>0&&c+s>Va){if(i=!1,ja.classList.contains(ol))return;ja.style.height=Va-parseInt(c.toString(),10)+"px"}else{var h=0;if(i){r.top<0&&n+(r.height+r.top)>0&&s+(h=r.top)<=30&&(s=r.height-(r.height+r.top)+30),s+r.top>=Va&&(ja.style.height=r.height+(n-(r.height+r.top))+"px");var d=E(Wa)?h:c;s>=_a&&s+d<=Va&&(ja.style.height=s+"px")}}}function Pl(e){var t,n=!1,i="mouse"===wl(e.type)?e.pageY:e.touches[0].pageY,o=Nl(ja);E(Wa)||(t=Nl(Wa)),(!E(Wa)&&o.top-t.top>0||E(Wa)&&i>0)&&(n=!0);var r=al-(i-dl);if(n&&r>=_a&&r<=Va){var s=0;E(Wa)||(s=t.top);var a=cl-s+(i-dl);a=a>0?a:1,ja.style.height=r+"px",ja.style.top=a+"px"}}function Dl(e){var t,n=document.documentElement.clientWidth,i=!1;E(Wa)||(t=Nl(Wa));var o="mouse"===wl(e.type)?e.pageX:e.touches[0].pageX,r=Nl(ja),s=E(Wa)?0:Wa.offsetWidth-Wa.clientWidth,a=E(Wa)?0:t.left,l=E(Wa)?0:t.width;E(Xa)&&(E(Wa)?Xa=n:(Xa=r.left-a-s/2+r.width,Xa+=l-s-Xa)),(!E(Wa)&&Math.floor(r.left-t.left+r.width+(t.right-r.right))-s<=Ua||E(Wa)&&o>=0)&&(i=!0);var c=sl-(o-hl);if(fl&&(c=c>Xa?Xa:c),i&&c>=qa&&c<=Ua){var h=0;E(Wa)||(h=t.left);var d=ll-h+(o-hl);d=d>0?d:1,c!==gl&&vl&&(ja.style.width=c+"px"),fl&&(ja.style.left=d+"px",vl=1!==d)}gl=c}function Ol(e){var t,n=document.documentElement.clientWidth,i=!1;E(Wa)||(t=Nl(Wa));var o=(e.touches?e.changedTouches[0]:e).pageX,r=Nl(ja);(!E(Wa)&&(r.left-t.left+r.width<=Ua||r.right-t.left>=r.width)||E(Wa)&&n-o>0)&&(i=!0);var s=sl+(o-hl),a=0;if(E(Wa)||(a=t.left),r.left-a+s>Ua){if(i=!1,ja.classList.contains(ol))return;ja.style.width=Ua-(r.left-a)+"px"}i&&s>=qa&&s<=Ua&&(ja.style.width=s+"px")}function Ml(){for(var e=ja.querySelectorAll(".e-resize-handle"),t=0;t<e.length;t++)Oe(e[t]);var n=ja.querySelectorAll(".e-dialog-border-resize");if(!E(n))for(t=0;t<n.length;t++)Oe(n[t])}var Rl,Al=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Bl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Hl([et(!0)],t.prototype,"isFlat",void 0),Hl([et()],t.prototype,"buttonModel",void 0),Hl([et("Button")],t.prototype,"type",void 0),Hl([it()],t.prototype,"click",void 0),t}(yt),Il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Al(t,e),Hl([et("Fade")],t.prototype,"effect",void 0),Hl([et(400)],t.prototype,"duration",void 0),Hl([et(0)],t.prototype,"delay",void 0),t}(yt),Fl="e-dialog",jl="e-rtl",zl="e-dlg-header-content",_l="e-dlg-header",Vl="e-footer-content",ql="e-dlg-modal",Ul="e-icon-dlg-close",Wl="e-dlg-target",Xl="e-scroll-disabled",Yl="e-device",Kl="e-dlg-fullscreen",Gl="e-dlg-closeicon-btn",$l="e-popup-open",Ql="Information",Jl="e-scroll-disabled",Zl="e-alert-dialog",ec="e-confirm-dialog",tc="e-dlg-resizable",nc="e-restrict-left",ic="e-resize-viewport",oc="user action",rc=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.dlgClosedBy=oc,i}return Al(t,e),t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=L(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},t.prototype.preRender=function(){var e=this;this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(t){e.dlgClosedBy="close icon",e.hide(t)},this.dlgOverlayClickEventHandler=function(t){e.dlgClosedBy="overlayClick",t.preventFocus=!1,e.trigger("overlayClick",t,(function(t){t.preventFocus||e.focusContent(),e.dlgClosedBy=oc}))};if(this.l10n=new It("dialog",{close:"Close"},this.locale),this.checkPositionData(),E(this.target)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}},t.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},t.prototype.checkPositionData=function(){if(!E(this.position)){if(!E(this.position.X)&&"number"!==typeof this.position.X)if(this.isNumberValue(this.position.X)){var e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=e}if(!E(this.position.Y)&&"number"!==typeof this.position.Y)if(this.isNumberValue(this.position.Y)){e=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=e}}},t.prototype.getEle=function(e,t){for(var n=void 0,i=0;i<e.length;i++)if(e[i].classList.contains(t)){n=e[i];break}return n},t.prototype.getMinHeight=function(){var e="0px",t="0px";E(this.element.querySelector("."+zl))||(e=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,Vl);E(n)||(t=getComputedStyle(n).height);var i,o=parseInt(e.slice(0,e.indexOf("p")),10),r=parseInt(t.slice(0,t.indexOf("p")),10);return i=o+30+(isNaN(r)?0:r),_a=i,o+30+r},t.prototype.onResizeStart=function(e,t){return t.trigger("resizeStart",e),e.cancel},t.prototype.onResizing=function(e,t){t.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,t){t.trigger("resizeStop",e)},t.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!E(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(tc);for(var e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,n="",i=0;i<this.resizeHandles.length;i++){if("All"===this.resizeHandles[i]){n="south north east west north-east north-west south-east south-west";break}var o="";switch(this.resizeHandles[i].toString()){case"SouthEast":o="south-east";break;case"SouthWest":o="south-west";break;case"NorthEast":o="north-east";break;case"NorthWest":o="north-west";break;default:o=this.resizeHandles[i].toString()}n+=o.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===n.trim()?n="south-west":this.enableRtl&&"south-west"===n.trim()&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(nc):this.isModal&&this.target===document.body&&this.element.classList.add(ic),function(e){pl=e.resizeBegin,ul=e.resizing,ml=e.resizeComplete,ja=bl(e.element),Wa=bl(e.boundary);for(var t=e.direction.split(" "),n=0;n<t.length;n++)if(rl.indexOf(t[n])>=0&&t[n])yl(t[n]);else if(""!==t[n].trim()){var i=Se("div",{className:"e-icons e-resize-handle e-"+t[n]});ja.appendChild(i)}_a=e.minHeight,qa=e.minWidth,Ua=e.maxWidth,Va=e.maxHeight,e.proxy&&e.proxy.element&&e.proxy.element.classList.contains("e-dialog")?Cl(e.proxy):Cl()}({element:this.element,direction:n,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else Ml(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(nc):this.element.classList.remove(ic),this.element.classList.remove(tc)},t.prototype.getFocusElement=function(e){var t=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:t[t.length-1]}},t.prototype.keyDown=function(e){var t=this;if(9===e.keyCode&&this.isModal){var n=void 0;E(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),E(this.btnObj)&&!E(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),E(this.btnObj)&&E(this.ftrTemplateContent)&&!E(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),E(n)||document.activeElement!==n.element||e.shiftKey||(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),E(n)||n.element.focus())}var i,o=document.activeElement,r=["input","textarea"].indexOf(o.tagName.toLowerCase())>-1,s=!1;(r||(s=o.hasAttribute("contenteditable")&&"true"===o.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&(this.dlgClosedBy="escape",document.querySelector(".e-popup-open:not(.e-dialog)")||this.hide(e)),13===e.keyCode&&!e.ctrlKey&&"textarea"!==o.tagName.toLowerCase()&&r&&!E(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===o.tagName.toLowerCase()||s)&&!E(this.primaryButtonEle))&&(this.buttons.some((function(e,t){i=t;var n=e.buttonModel;return!E(n)&&!0===n.isPrimary}))&&"function"===typeof this.buttons[i].click&&setTimeout((function(){t.buttons[i].click.call(t,e)})))},t.prototype.initialize=function(){E(this.target)||(this.targetEle="string"===typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||ke([this.element],Fl),Ce.isDevice&&ke([this.element],Yl),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||Re(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&E(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&E(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""===this.header||E(this.header)||this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||E(this.footerTemplate)?E(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&(E(this.buttons[0].buttonModel)||""!==this.footerTemplate||this.setButton()),this.allowDragging&&!E(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(Re(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&E(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var t=0,n=this.dlgContainer.children;t<n.length;t++)n[t].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=n[t])}if(!0!==this.element.classList.contains(Zl)&&!0!==this.element.classList.contains(ec)&&!E(this.element.parentElement)){var i=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),i.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}E(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new vi(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(t){var n={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",n,(function(t){t.preventFocus||e.focusContent()}))},close:function(t){e.isModal&&ke([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var n=document.activeElement;E(n)||E(n.blur)||n.blur(),E(e.storeActiveElement)||E(e.storeActiveElement.focus)||e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(ke([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var t=this.enableRtl?"e-south-west":"e-south-east",n=this.element.querySelector("."+t);E(n)||(n.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var t;t=E(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()},t.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this;this.dragObj=new Dt(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:function(t){e.trigger("dragStart",t,(function(e){P()&&e.bindEvents(t.dragElement)}))},dragStop:function(t){e.isModal&&(E(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y),e.element.style.position="relative"),e.trigger("dragStop",t),e.element.classList.remove(nc)},drag:function(t){e.trigger("drag",t)}}),E(this.targetEle)||(this.dragObj.dragArea=this.targetEle)},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var t=E(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{attrs:{type:t}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}e=0;for(var i,o=this.element.children;e<o.length;e++)o[e].classList.contains(Vl)&&(i=o[e].querySelectorAll("button"));for(e=0;e<this.buttons.length;e++)this.isBlazorServerRender()||(this.btnObj[e]=new Za(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector(".e-footer-content")),!E(this.ftrTemplateContent)&&i.length>0&&("function"===typeof this.buttons[e].click&&we.add(i[e],"click",this.buttons[e].click,this),"object"===typeof this.buttons[e].click&&we.add(i[e],"click",this.buttonClickHandler.bind(this,e),this)),this.isBlazorServerRender()||E(this.ftrTemplateContent)||(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){if(Re(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement)this.contentEle.appendChild(this.innerContentElement);else if(!E(this.content)&&""!==this.content||!this.initialRender){Object.keys(window);("string"!==typeof this.content||P())&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")}E(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(this.isBlazorServerRender()||!Ce.isIE||""!==this.element.style.width||E(this.width)||(this.element.style.width=L(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,t,n){var i,o,r;Object.keys(window);o=t.classList.contains(_l)?this.element.id+"header":t.classList.contains(Vl)?this.element.id+"footerTemplate":this.element.id+"content",E(e.outerHTML)?("string"===typeof e||"string"!==typeof e||P()&&!this.isStringTemplate)&&("string"===typeof e&&(e=this.sanitizeHelper(e)),i=gn(e),r=e):t.appendChild(e);var s=[];if(!E(i)){for(var a=0,l=i({},this,n,o,!(P()&&!this.isStringTemplate&&0===r.indexOf("<div>Blazor"))||this.isStringTemplate);a<l.length;a++){var c=l[a];s.push(c)}Pe([].slice.call(s),t)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var t=wn.beforeSanitize();w(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!E(t.helper)?e=t.helper(e):t.cancel||(e=wn.serializeValue(t,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!E(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,Ce.isIE&&"auto"===this.height&&!E(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?ke([this.element],jl):Te([this.element],jl)),E(this.element.querySelector(".e-resize-handle"))||(Ml(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(E(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||t)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach((function(t){8!==t.nodeType&&e.innerContentElement.appendChild(t)})))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:_l}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),Re(this.element,{"aria-labelledby":this.element.id}),this.element.insertBefore(this.headerContent,this.element.children[0])},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:Vl}),""===this.footerTemplate||E(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){E(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:zl}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:Gl,attrs:{type:"button"}}),this.closeIconBtnObj=new Za({cssClass:"e-flat",iconCss:Ul+" e-icons"}),this.closeIconTitle(),E(this.headerContent)?(this.createHeaderContent(),Le([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Le([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){this.cssClass&&ke([this.element],this.cssClass.split(" ")),e&&Te([this.element],e.split(" "))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove($l),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),ke([this.element],ql),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var t,n=0;n<e.length;n++){if(((t=e[n]).clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;t=null}return t},t.prototype.focusableElements=function(e){if(!E(e)){var t=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(t)}return null},t.prototype.getAutoFocusNode=function(e){var t=e.querySelector(".e-dlg-closeicon-btn"),n=e.querySelectorAll("[autofocus]"),i=this.getValidFocusNode(n);if(P()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),E(i)){if(!E(i=this.focusableElements(this.contentEle)))return i;if(!E(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=i;return t},t.prototype.disableElement=function(e,t){var n=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,t))return e;return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),t=E(e)?this.element:e,n=Ce.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){we.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){we.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return P()&&this.isServerRendered},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,t){if(this.element.classList.contains(Fl))for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"content":E(this.content)||""===this.content?E(this.contentEle)||(Oe(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),E(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.isBlazorServerRender()&&!E(this.element.querySelector(".e-dlg-content"))||this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"===typeof this.content?(this.clearTemplate(["content"]),Oe(this.contentEle),this.contentEle=null,this.setContent()):"string"===typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||E(this.header)?this.headerEle&&(Oe(this.headerEle),this.headerEle=null):this.isBlazorServerRender()&&!E(this.element.querySelector(".e-dlg-header-content"))||this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||E(this.footerTemplate)){if(!this.ftrTemplateContent)return;Oe(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.isBlazorServerRender()&&!E(this.element.querySelector(".e-footer-content"))||this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(Ul).length>0?this.showCloseIcon||""!==this.header&&!E(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():Oe(this.closeIcon):(Oe(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":Fe(this.element,{height:L(e.height)});break;case"width":Fe(this.element,{width:L(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":var o=this.buttons.length;E(this.ftrTemplateContent)||this.isBlazorServerRender()||(Oe(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var r=0;r<o;r++)E(this.buttons[r].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!E(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var s=E(t.position.X)?this.position.X:t.position.X,a=E(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+s+"-"+a)&&this.dlgContainer.classList.remove("e-dlg-"+s+"-"+a)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"===typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)E(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",E(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(Te([this.element],ql),Te([document.body],[Wl,Xl]),Oe(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&we.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,t){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=bi(e),this.isProtectedOnChange=n,t&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){var e;e=this.targetEle.clientWidth,Ua=e,function(e){Va=e}(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){if(!this.isDestroyed){var t=[jl,ql,tc,nc,Kl,Yl],n=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(Te([this.targetEle],[Wl,Xl]),!E(this.element)&&this.element.classList.contains(Kl)&&Te([document.body],[Wl,Xl]),this.isModal&&Te([E(this.targetEle)?document.body:this.targetEle],Xl),this.unWireEvents(),!E(this.btnObj))for(var i=0;i<this.btnObj.length;i++)this.btnObj[i].destroy();if(E(this.dragObj)||this.dragObj.destroy(),!E(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),Te([this.element],t),E(this.cssClass)||""===this.cssClass||Te([this.element],this.cssClass.split(" ")),E(this.refElement)||E(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),Oe(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(Oe(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),Oe(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!E(this.element.children))for(i=0;i<=this.element.children.length;i++)i-=i,Oe(this.element.children[i]);for(i=0;i<n.length;i++)this.element.removeAttribute(n[i]);this.isBlazorServerRender()?this.isDestroyed=!0:e.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){window.addEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&we.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&we.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){if(this.showCloseIcon&&we.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&we.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!E(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"===typeof this.buttons[e].click&&we.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition()},t.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.show=function(e){var t=this;if(this.element.classList.contains(Fl)){if(!this.element.classList.contains($l)||!E(e)){E(e)||this.fullScreen(e);var n=P()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,(function(e){if(!e.cancel){t.element.style.maxHeight!==n.maxHeight&&(t.allowMaxHeight=!1,t.element.style.maxHeight=n.maxHeight),t.storeActiveElement=document.activeElement,t.element.tabIndex=-1,t.isModal&&!E(t.dlgOverlay)&&(t.dlgOverlay.style.display="block",t.dlgContainer.style.display="flex",Te([t.dlgOverlay],"e-fade"),E(t.targetEle)?ke([document.body],[Wl,Xl]):(t.targetEle===document.body?t.dlgContainer.style.position="fixed":t.dlgContainer.style.position="absolute",t.dlgOverlay.style.position="absolute",t.element.style.position="relative",ke([t.targetEle],[Wl,Xl])));var i={name:t.animationSettings.effect+"In",duration:t.animationSettings.duration,delay:t.animationSettings.delay},o=t.isModal?t.element.parentElement:t.element;t.calculatezIndex&&(t.setzIndex(o,!0),Fe(t.element,{zIndex:t.zIndex}),t.isModal&&t.setOverlayZindex(t.zIndex)),"None"===t.animationSettings.effect?t.popupObj.show():t.popupObj.show(i),t.dialogOpen=!0;var r=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!0,t.preventVisibility=!0,t.isProtectedOnChange=r}}))}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var t=this;if(this.element.classList.contains(Fl)&&this.preventVisibility){var n=P()?{cancel:!1,isInteracted:!!e,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:e}:{cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,(function(e){if(!e.cancel){t.isModal&&(E(t.targetEle)||Te([t.targetEle],[Wl,Xl])),document.body.classList.contains(Wl)&&document.body.classList.contains(Xl)&&Te([document.body],[Wl,Xl]);var n={name:t.animationSettings.effect+"Out",duration:t.animationSettings.duration,delay:t.animationSettings.delay};"None"===t.animationSettings.effect?t.popupObj.hide():t.popupObj.hide(n),t.dialogOpen=!1;var i=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!1,t.preventVisibility=!1,t.isProtectedOnChange=i}t.dlgClosedBy=oc}))}},t.prototype.fullScreen=function(e){this.element.offsetTop,this.element.offsetLeft;if(e){ke([this.element],Kl);var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=E(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=t,ke([document.body],[Wl,Xl]),this.allowDragging&&!E(this.dragObj)&&this.dragObj.destroy()}else Te([this.element],Kl),Te([document.body],[Wl,Xl]),this.allowDragging&&!E(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return E(e)?this.btnObj:this.btnObj[e]},Hl([et("")],t.prototype,"content",void 0),Hl([et(!0)],t.prototype,"enableHtmlSanitizer",void 0),Hl([et(!1)],t.prototype,"showCloseIcon",void 0),Hl([et(!1)],t.prototype,"isModal",void 0),Hl([et("")],t.prototype,"header",void 0),Hl([et(!0)],t.prototype,"visible",void 0),Hl([et(!1)],t.prototype,"enableResize",void 0),Hl([et(["South-East"])],t.prototype,"resizeHandles",void 0),Hl([et("auto")],t.prototype,"height",void 0),Hl([et("")],t.prototype,"minHeight",void 0),Hl([et("100%")],t.prototype,"width",void 0),Hl([et("")],t.prototype,"cssClass",void 0),Hl([et(1e3)],t.prototype,"zIndex",void 0),Hl([et(null)],t.prototype,"target",void 0),Hl([et("")],t.prototype,"footerTemplate",void 0),Hl([et(!1)],t.prototype,"allowDragging",void 0),Hl([nt([{}],Bl)],t.prototype,"buttons",void 0),Hl([et(!0)],t.prototype,"closeOnEscape",void 0),Hl([tt({},Il)],t.prototype,"animationSettings",void 0),Hl([tt({X:"center",Y:"center"},pi)],t.prototype,"position",void 0),Hl([it()],t.prototype,"created",void 0),Hl([it()],t.prototype,"open",void 0),Hl([it()],t.prototype,"beforeSanitizeHtml",void 0),Hl([it()],t.prototype,"beforeOpen",void 0),Hl([it()],t.prototype,"close",void 0),Hl([it()],t.prototype,"beforeClose",void 0),Hl([it()],t.prototype,"dragStart",void 0),Hl([it()],t.prototype,"dragStop",void 0),Hl([it()],t.prototype,"drag",void 0),Hl([it()],t.prototype,"overlayClick",void 0),Hl([it()],t.prototype,"resizeStart",void 0),Hl([it()],t.prototype,"resizing",void 0),Hl([it()],t.prototype,"resizeStop",void 0),Hl([it()],t.prototype,"destroyed",void 0),t=Hl([ot],t)}(kt);!function(e){function t(e,t){var n=new rc(e);return n.appendTo(t),n}function n(e,t){return e.header=E(t.title)?Ql:t.title,e.content=E(t.content)?"":t.content,e.isModal=!!E(t.isModal)||t.isModal,e.showCloseIcon=!E(t.showCloseIcon)&&t.showCloseIcon,e.allowDragging=!E(t.isDraggable)&&t.isDraggable,e.closeOnEscape=!E(t.closeOnEscape)&&t.closeOnEscape,e.position=E(t.position)?{X:"center",Y:"top"}:t.position,e.animationSettings=E(t.animationSettings)?{effect:"Fade",duration:400,delay:0}:t.animationSettings,e.cssClass=E(t.cssClass)?"":t.cssClass,e.zIndex=E(t.zIndex)?1e3:t.zIndex,e.open=E(t.open)?null:t.open,e}function i(e,t,n){var i=n;return E(t.text)||(i.buttonModel.content=t.text),E(t.icon)||(i.buttonModel.iconCss=t.icon),E(t.cssClass)||(i.buttonModel.cssClass=t.cssClass),E(t.click)||(i.click=t.click),i}e.alert=function(e){var o,r=Se("div",{className:Zl});return document.body.appendChild(r),(o=t("string"===typeof e?{content:e,position:{X:"center",Y:"top"},isModal:!0,header:Ql,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(e){var t={buttons:[]};return t=function(e,t){var n=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];E(t.okButton)?e.buttons=n:e.buttons[0]=i(e.buttons[0],t.okButton,n[0]);return e}(t=n(t,e),e),t}(e),r)).close=function(){e&&e.close&&e.close.apply(o),o.destroy(),o.element.classList.contains("e-dlg-modal")?(o.element.parentElement.remove(),o.target.classList.remove(Jl)):o.element.remove()},o},e.confirm=function(e){var o,r=Se("div",{className:ec});return document.body.appendChild(r),(o=t("string"===typeof e?{position:{X:"center",Y:"top"},content:e,isModal:!0,header:Ql,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(e){var t={buttons:[]};return t=function(e,t){var n={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},o={buttonModel:{content:"Cancel"},click:function(){this.hide()}};E(t.okButton)?e.buttons[0]=n:e.buttons[0]=i(e.buttons[0],t.okButton,n);E(t.cancelButton)?e.buttons[1]=o:e.buttons[1]=i(e.buttons[1],t.cancelButton,o);return e}(t=n(t,e),e),t}(e),r)).close=function(){e&&e.close&&e.close.apply(o),o.destroy(),o.element.classList.contains("e-dlg-modal")?(o.element.parentElement.remove(),o.target.classList.remove(Jl)):o.element.remove()},o}}(Rl||(Rl={}));var sc=function(){function e(e){this.parent=e}return e.prototype.render=function(e){var t;return e.beforeOpen=this.beforeOpen.bind(this),e.open=this.open.bind(this),E(e.close)&&(e.close=this.close.bind(this)),e.beforeClose=this.beforeClose.bind(this),(t=new rc(e)).isStringTemplate=!0,t},e.prototype.beforeOpen=function(e){this.parent.trigger("beforeDialogOpen",e,this.beforeOpenCallback.bind(this,e))},e.prototype.beforeOpenCallback=function(e){e.cancel&&this.parent.notify(bo,null)},e.prototype.open=function(e){this.parent.trigger("dialogOpen",e)},e.prototype.beforeClose=function(e){this.parent.trigger("beforeDialogClose",e,(function(e){e.cancel||e.container.classList.contains("e-popup-close")&&(e.cancel=!0)}))},e.prototype.close=function(e){this.parent.trigger("dialogClose",e)},e}(),ac=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lc=function(){return lc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lc.apply(this,arguments)},cc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hc=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.defaultResetValue=null,i.isResizeInitialized=!1,i.isFocusOut=!1,i.isRTE=!1,i.isBlur=!0,i.needsID=!0,i}return ac(t,e),t.prototype.requiredModules=function(){var e=[];return this.toolbarSettings.enable&&(e.push({member:"toolbar",args:[this,this.serviceLocator]}),e.push({member:"link",args:[this,this.serviceLocator]}),e.push({member:"table",args:[this,this.serviceLocator]}),e.push({member:"image",args:[this,this.serviceLocator]}),this.quickToolbarSettings.enable&&e.push({member:"quickToolbar",args:[this,this.serviceLocator]})),this.showCharCount&&e.push({member:"count",args:[this,this.serviceLocator]}),"Markdown"===this.editorMode&&e.push({member:"markdownEditor",args:[this,this.serviceLocator]}),"HTML"===this.editorMode&&(e.push({member:"htmlEditor",args:[this,this.serviceLocator]}),e.push({member:"pasteCleanup",args:[this,this.serviceLocator]})),this.fileManagerSettings.enable&&e.push({member:"fileManager",args:[this,this.serviceLocator]}),this.enableResize&&e.push({member:"resize",args:[this]}),e},t.prototype.updateEnable=function(){this.enabled?(Te([this.element],Po),this.element.setAttribute("aria-disabled","false"),E(this.htmlAttributes.tabindex)?this.inputElement.setAttribute("tabindex","0"):this.inputElement.setAttribute("tabindex",this.htmlAttributes.tabindex)):(this.getToolbar()&&(Te(this.getToolbar().querySelectorAll(".e-active"),Zo),Te([this.getToolbar()],[Ao,Ho])),ke([this.element],Po),this.element.tabIndex=-1,this.element.setAttribute("aria-disabled","true"),this.inputElement.setAttribute("tabindex","-1"))},t.prototype.setEnable=function(){this.updateEnable(),this.enabled?this.eventInitializer():this.unWireEvents()},t.prototype.preRender=function(){this.onBlurHandler=this.blurHandler.bind(this),this.onFocusHandler=this.focusHandler.bind(this),this.onResizeHandler=this.resizeHandler.bind(this),this.clickPoints={clientX:0,clientY:0},this.initialValue=this.value,this.serviceLocator=new jr,this.initializeServices(),this.setContainer(),this.persistData(),Fe(this.element,{width:L(this.width)}),Re(this.element,{role:"application"})},t.prototype.persistData=function(){if(this.enablePersistence&&"TEXTAREA"===this.originalElement.tagName){this.element.id=this.originalElement.id+"_wrapper";var e=window.localStorage.getItem(this.getModuleName()+this.element.id);E(e)||""===e||this.setProperties(JSON.parse(e),!0)}},t.prototype.setContainer=function(){this.originalElement=this.element.cloneNode(!0),null!==this.value&&null===this.valueTemplate||this.setValue(),this.element.hasAttribute("tabindex")&&(this.htmlAttributes={tabindex:this.element.getAttribute("tabindex")},this.element.removeAttribute("tabindex")),this.element.innerHTML="";for(var e=["class","style","id","ejs-for"],t={},n=0;n<this.element.attributes.length;n++)-1!==e.indexOf(this.element.attributes[n].name)||/^data-val/.test(this.element.attributes[n].name)||(t[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name));if(w(t,this.htmlAttributes,t),this.setProperties({htmlAttributes:t},!0),E(this.htmlAttributes.id)||(this.element.id=this.htmlAttributes.id),"TEXTAREA"===this.element.tagName){var i=this.createElement("div",{className:this.element.getAttribute("class")});this.element.innerHTML="",this.element.parentElement.insertBefore(i,this.element),this.valueContainer=this.element,Te([this.valueContainer],this.element.getAttribute("class").split(" ")),this.element=i}else this.valueContainer=this.createElement("textarea",{id:this.getID()+"-value"});this.valueContainer.name=this.getID(),ke([this.valueContainer],ur),this.element.appendChild(this.valueContainer)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.focusIn=function(){this.enabled&&(this.inputElement.focus(),this.focusHandler({}))},t.prototype.focusOut=function(){this.enabled&&(this.inputElement.blur(),this.blurHandler({}))},t.prototype.selectAll=function(){this.notify(lo,{})},t.prototype.selectRange=function(e){this.notify(co,{range:e})},t.prototype.getSelection=function(){var e="";return this.notify(ho,{callBack:function(t){e=t}}),e},t.prototype.executeCommand=function(e,t,n){if(t=this.htmlPurifier(e,t),"HTML"===this.editorMode){var i=this.getRange();this.iframeSettings.enable&&this.formatter.editorManager.nodeSelection.Clear(this.element.ownerDocument),(!(!this.iframeSettings.enable||i.startContainer!==this.inputElement)||!this.inputElement.contains(i.startContainer))&&this.focusIn()}var o=Fr[e];n&&n.undo&&n.undo&&0===this.formatter.getUndoRedoStack().length&&this.formatter.saveData(),this.formatter.editorManager.execCommand(o.command,o.subCommand?o.subCommand:t||o.value,null,null,t||o.value,t||o.value),n&&n.undo&&(this.formatter.saveData(),this.formatter.enableUndo(this)),this.setPlaceHolder(),this.notify(ki,{})},t.prototype.htmlPurifier=function(e,t){if("HTML"===this.editorMode)switch(e){case"insertHTML":this.enableHtmlSanitizer&&(t="string"===typeof t?this.htmlEditorModule.sanitizeHelper(t):this.htmlEditorModule.sanitizeHelper(t.outerHTML));break;case"insertTable":E(t.width)&&(t.width={minWidth:this.tableSettings.minWidth,maxWidth:this.tableSettings.maxWidth,width:this.tableSettings.width});break;case"insertImage":var n=this.createElement("img",{attrs:{src:t.url}}),i=n.outerHTML;this.enableHtmlSanitizer&&(i=this.htmlEditorModule.sanitizeHelper(n.outerHTML));var o=""!==i&&this.createElement("div",{innerHTML:i}).firstElementChild.getAttribute("src")||null;o=E(o)?"":o,t.url=o,E(t.width)&&(t.width={minWidth:this.insertImageSettings.minWidth,maxWidth:this.insertImageSettings.maxWidth,width:this.insertImageSettings.width}),E(t.height)&&(t.height={minHeight:this.insertImageSettings.minHeight,maxHeight:this.insertImageSettings.maxHeight,height:this.insertImageSettings.height});break;case"createLink":var r=this.createElement("a",{attrs:{href:t.url}}),s=r.outerHTML;this.enableHtmlSanitizer&&(s=this.htmlEditorModule.sanitizeHelper(r.outerHTML));var a=""!==s&&this.createElement("div",{innerHTML:s}).firstElementChild.getAttribute("href")||null;a=E(a)?"":a,t.url=a}return t},t.prototype.encode=function(e){var t=this.createElement("div");return t.innerText=e.trim(),t.innerHTML.replace(/<br\s*[\/]?>/gi,"\n")},t.prototype.render=function(){this.value&&!this.valueTemplate&&this.setProperties({value:this.serializeValue(this.value)},!0),this.renderModule=new Cr(this,this.serviceLocator),this.sourceCodeModule=new Ir(this,this.serviceLocator),this.notify(Si,{}),this.trigger("load"),this.RTERender();new _r(this);this.notify(Ti,{}),this.enableXhtml&&this.setProperties({value:this.getXhtml()},!0),this.toolbarSettings.enable&&"Expand"===this.toolbarSettings.type&&!E(this.getToolbar())&&this.toolbarSettings.items.indexOf("Undo")>-1&&this.toolbarSettings.items.indexOf("Redo")>-1&&this.disableToolbarItem(["Undo","Redo"]),this.setContentHeight(),null!==this.value&&(this.valueContainer.defaultValue=this.value),this.enabled?this.eventInitializer():this.unWireEvents(),this.notify(xo,{cssClass:this.cssClass}),this.renderComplete()},t.prototype.eventInitializer=function(){this.wireEvents()},t.prototype.cleanList=function(e){var t=this.getRange(),n=t.startContainer,i=t.endContainer,o=t.startOffset,r=n===i,s="#text"===t.endContainer.nodeName?t.endContainer.parentElement:t.endContainer,a=Ie(s,"LI");if(!E(a)&&s.textContent.length===t.endOffset&&!t.collapsed){a.textContent=a.textContent.trim(),a.textContent.length-1;for(var l=a;"#text"!==l.nodeName;)l=l.lastChild;this.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),r?l:n,l,o,l.textContent.length)}},t.prototype.keyDown=function(e){if(this.notify(Fi,{member:"keydown",args:e}),this.restrict(e),"HTML"===this.editorMode&&this.cleanList(e),"HTML"===this.editorMode&&(8===e.which&&"Backspace"===e.code||46===e.which&&"Delete"===e.code)){var t=this.getRange();if(Ie("#text"===t.startContainer.nodeName?t.startContainer.parentElement:t.startContainer,"pre")&&8===e.which&&8203===t.startContainer.textContent.charCodeAt(t.startOffset-1)||46===e.which&&8203===t.startContainer.textContent.charCodeAt(t.startOffset)){var n=new RegExp(String.fromCharCode(8203),"g"),i=8===e.which?t.startOffset-1:t.startOffset;t.startContainer.textContent=t.startContainer.textContent.replace(n,""),this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),t.startContainer,i)}else if("Backspace"===e.code&&8===e.which&&8203===t.startContainer.textContent.charCodeAt(0)&&t.collapsed){var o=t.startContainer.parentElement,r=void 0,s=void 0;for(s=0;s<o.childNodes.length;s++)o.childNodes[s]===t.startContainer&&(r=s);var a=!0,l=[];for(s=r;s>=0;s--)3===o.childNodes[s].nodeType&&8203===o.childNodes[s].textContent.charCodeAt(0)&&a?l.push(s):a=!1;if(l.length>0)for(s=l.length-1;s>0;s--)o.childNodes[l[s]].textContent="";this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),t.startContainer,t.startOffset)}}if(0===this.formatter.getUndoRedoStack().length&&this.formatter.saveData(),"insert-link"!==e.action&&(e.action&&"paste"!==e.action&&"space"!==e.action||9===e.which||"Backspace"===e.code&&8===e.which))switch(this.formatter.process(this,null,e),e.action){case"toolbar-focus":if(this.toolbarSettings.enable){this.toolbarModule.baseToolbar.toolbarObj.element.querySelector('.e-toolbar-item[aria-disabled="false"][title] [tabindex]').focus()}break;case"escape":this.contentModule.getEditPanel().focus()}E(this.placeholder)||(E(this.placeHolderWrapper)||1===this.inputElement.textContent.length?this.setPlaceHolder():this.placeHolderWrapper.style.display="none"),this.autoResize()},t.prototype.keyUp=function(e){this.notify(Ii,{member:"keyup",args:e}),"KeyX"!==e.code||88!==e.which||88!==e.keyCode||!e.ctrlKey||""!==this.inputElement.innerHTML&&"<br>"!==this.inputElement.innerHTML||(this.inputElement.innerHTML=Oa(Ra(this),this));var t=32===e.which||13===e.which||8===e.which||46===e.which;("shift"!==e.key&&!e.ctrlKey&&e.key&&1===e.key.length||t||"Markdown"===this.editorMode&&("shift"!==e.key&&!e.ctrlKey&&e.key&&1===e.key.length||t)&&!this.inlineMode.enable)&&this.formatter.onKeyHandler(this,e),(this.inputElement&&0!==this.inputElement.textContent.length||this.element.querySelectorAll(".e-toolbar-item.e-active").length>0)&&this.notify(Pi,{args:e}),E(this.placeholder)||"Enter"===e.key&&13===e.keyCode||"<p><br></p>"!==this.inputElement.innerHTML&&"<div><br></div>"!==this.inputElement.innerHTML&&"<br>"!==this.inputElement.innerHTML||this.setPlaceHolder()},t.prototype.serializeValue=function(e){return"HTML"!==this.editorMode||E(e)||(this.enableHtmlEncode?(e=this.htmlEditorModule.sanitizeHelper(Ha(e)),e=this.encode(e)):e=this.htmlEditorModule.sanitizeHelper(e)),e},t.prototype.sanitizeHtml=function(e){return this.serializeValue(e)},t.prototype.updateValue=function(e){if(E(e)){var t=this.inputElement.innerHTML;this.setProperties({value:Aa(t)?null:t})}else this.setProperties({value:e})},t.prototype.triggerEditArea=function(e){if(wa()){var t=e.touches?e.changedTouches[0]:e;this.clickPoints.clientX===t.clientX&&this.clickPoints.clientY===t.clientY&&this.notify(io,{member:"editAreaClick",args:e})}else this.notify(io,{member:"editAreaClick",args:e})},t.prototype.notifyMouseUp=function(e){var t=e.touches?e.changedTouches[0]:e;this.notify(ji,{member:"mouseUp",args:e,touchData:{prevClientX:this.clickPoints.clientX,prevClientY:this.clickPoints.clientY,clientX:t.clientX,clientY:t.clientY}}),this.inputElement&&("HTML"===this.editorMode&&0!==this.inputElement.textContent.length||"Markdown"===this.editorMode&&0!==this.inputElement.value.length)&&this.notify(Pi,{args:e}),this.triggerEditArea(e)},t.prototype.mouseUp=function(e){if(this.quickToolbarSettings.showOnRightClick&&Ce.isDevice){var t=e.target,n=Ie(t,"table");if(t&&"A"===t.nodeName||"IMG"===t.nodeName||"TD"===t.nodeName||"TH"===t.nodeName||"TABLE"===t.nodeName||n&&this.contentModule.getEditPanel().contains(n))return}if(this.notifyMouseUp(e),3===e.detail){var i=this.getRange(),o=this.formatter.editorManager.domNode.getSelection();/\s+$/.test(o.toString())&&((E(i.startContainer.parentElement)||(E(i.startContainer.parentElement.nextSibling)||3===i.startContainer.parentElement.nextSibling.nodeType&&!/\s+$/.test(i.startContainer.parentElement.nextSibling.textContent))&&i.startOffset!==i.endOffset)&&"li"!==i.startContainer.parentElement.tagName.toLocaleLowerCase()||(i.setStart(i.startContainer,i.startOffset),i.setEnd(i.startContainer,i.startContainer.textContent.length)))}},t.prototype.ensureModuleInjected=function(e){return this.getInjectedModules().indexOf(e)>=0},t.prototype.onCopy=function(){this.contentModule.getDocument().execCommand("copy",!1,null)},t.prototype.onCut=function(){this.contentModule.getDocument().execCommand("cut",!1,null)},t.prototype.onPaste=function(e){var t=this,n={originalEvent:e,cancel:!1,requestType:"Paste"};this.trigger(Xi,n,(function(n){var i=t.getText().trim().length-t.getSelection().length+(E(e)||E(e.clipboardData)?0:e.clipboardData.getData("text/plain").length);if("Markdown"===t.editorMode){var o={requestType:"Paste",editorMode:t.editorMode,event:e};return setTimeout((function(){t.formatter.onSuccess(t,o)}),0),void(-1===t.maxLength||i<=t.maxLength||e.preventDefault())}if(!n.cancel&&"true"===t.inputElement.contentEditable&&(-1===t.maxLength||i<=t.maxLength))if(E(t.pasteCleanupModule)){var r={requestType:"Paste",editorMode:t.editorMode,event:e},s=null,a=!1;e&&!E(e.clipboardData)&&(s=e.clipboardData.getData("text/plain"),a=e.clipboardData.getData("text/html").indexOf("MsoNormal")>0);var l=e&&e.clipboardData&&e.clipboardData.items.length>0?e.clipboardData.items[0].getAsFile():null;null!==s&&t.notify(po,{file:l,args:e,text:s,isWordPaste:a}),setTimeout((function(){t.formatter.onSuccess(t,r)}),0)}else t.notify("pasteClean",{args:e});else e.preventDefault()}))},t.prototype.clipboardAction=function(e,t){switch(e.toLowerCase()){case"cut":this.onCut(),this.formatter.onSuccess(this,{requestType:"Cut",editorMode:this.editorMode,event:t});break;case"copy":this.onCopy(),this.formatter.onSuccess(this,{requestType:"Copy",editorMode:this.editorMode,event:t});break;case"paste":this.onPaste(t)}},t.prototype.destroy=function(){if(!this.isDestroyed&&this.isRendered)if(null!==this.element.offsetParent||E(this.toolbarModule)){if(this.notify(Ni,{}),this.destroyDependentModules(),E(this.timeInterval)||(clearInterval(this.timeInterval),this.timeInterval=null),this.unWireEvents(),"TEXTAREA"===this.originalElement.tagName){this.element.parentElement.insertBefore(this.valueContainer,this.element),this.valueContainer.id=this.getID(),this.valueContainer.removeAttribute("name"),Oe(this.element),""!==this.originalElement.innerHTML.trim()?(this.valueContainer.value=this.originalElement.innerHTML.trim(),this.setProperties({value:E(this.initialValue)?null:this.initialValue},!0)):this.valueContainer.value=this.valueContainer.defaultValue,this.element=this.valueContainer;for(var t=0;t<this.originalElement.classList.length;t++)ke([this.element],this.originalElement.classList[t]);Te([this.element],ur)}else""!==this.originalElement.innerHTML.trim()?(this.element.innerHTML=this.originalElement.innerHTML.trim(),this.setProperties({value:E(this.initialValue)?null:this.initialValue},!0)):this.element.innerHTML="";if(this.placeholder&&this.placeHolderWrapper&&(this.placeHolderWrapper=null),!E(this.cssClass)){var n=this.cssClass.split(" ");for(t=0;t<n.length;t++)""!==n[t].trim()&&Te([this.element],n[t])}this.removeHtmlAttributes(),this.removeAttributes(),e.prototype.destroy.call(this),this.isRendered=!1,this.enablePersistence&&window.localStorage.removeItem(this.getModuleName()+this.element.id)}else this.toolbarModule.destroy()},t.prototype.removeHtmlAttributes=function(){if(this.htmlAttributes)for(var e=Object.keys(this.htmlAttributes),t=0;t<e.length&&this.element.hasAttribute(e[t]);t++)this.element.removeAttribute(e[t])},t.prototype.removeAttributes=function(){this.enabled||Te([this.element],Po),this.enableRtl&&Te([this.element],Lo),this.readonly&&Te([this.element],sr),""!==this.element.style.width&&""===this.originalElement.style.width&&this.element.style.removeProperty("width"),""!==this.element.style.height&&""===this.originalElement.style.height&&this.element.style.removeProperty("height"),this.element.removeAttribute("aria-disabled"),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex")},t.prototype.destroyDependentModules=function(){this.renderModule.destroy(),this.formatter.editorManager.undoRedoManager.destroy(),this.sourceCodeModule.destroy()},t.prototype.getContent=function(){return this.contentModule.getPanel()},t.prototype.getText=function(){return this.contentModule.getText()},t.prototype.getSelectedHtml=function(){var e=this.createElement("div"),t=this.contentModule.getDocument().getSelection();if(t.rangeCount>0){var n=t.getRangeAt(0).cloneContents();e.appendChild(n)}return e.innerHTML},t.prototype.showInlineToolbar=function(){if(this.inlineMode.enable){var e=this.getRange(),t="#text"===e.endContainer.nodeName?e.endContainer.parentElement:e.endContainer,n=e.getClientRects()[0].left,i=e.getClientRects()[0].top;this.quickToolbarModule.showInlineQTBar(n,i,t)}},t.prototype.hideInlineToolbar=function(){this.quickToolbarModule.hideInlineQTBar()},t.prototype.getModuleName=function(){return"richtexteditor"},t.prototype.onPropertyChanged=function(t,n){for(var i=0,o=Object.keys(t);i<o.length;i++){var r=o[i];switch(r){case"enterKey":case"value":var s=void 0;s="enterKey"===r?null===this.value||"<div><br></div>"===this.value||"<p><br></p>"===this.value||"<br>"===this.value?null:this.value:t[r];var a="HTML"===this.editorMode?Oa(s,this):s;(!E(s)&&""!==s||"enterKey"===r)&&(this.value=this.serializeValue(this.enableHtmlEncode?this.encode(Ha(a)):a)),this.updatePanelValue(),this.setPlaceHolder(),this.notify(Co,{module:"XhtmlValidation",newProp:t,oldProp:n}),this.enableXhtml&&this.setProperties({value:this.getXhtml()},!0),this.showCharCount&&this.countModule.refresh();break;case"valueTemplate":this.setValue(),this.showCharCount&&this.countModule.refresh();break;case"width":this.setWidth(t[r]),this.toolbarSettings.enable&&!this.inlineMode.enable&&(this.toolbarModule.refreshToolbarOverflow(),this.resizeHandler());break;case"height":this.setHeight(t[r]),this.setContentHeight(),this.autoResize();break;case"readonly":this.setReadOnly(!1);break;case"cssClass":this.element.classList.remove(n[r]),this.setCssClass(t[r]),this.notify(xo,{cssClass:t[r],oldCssClass:n[r]});break;case"enabled":this.setEnable();break;case"enableRtl":this.updateRTL();break;case"placeholder":this.placeholder=t[r],this.setPlaceHolder();break;case"htmlAttributes":ua(this.htmlAttributes,this,!1,!1);break;case"iframeSettings":var l=n[r];if(l.resources){var c=this.contentModule.getDocument().querySelector("head"),h=void 0;l.resources.scripts&&(h=c.querySelectorAll("."+Do),this.removeSheets(h)),l.resources.styles&&(h=c.querySelectorAll("."+Oo),this.removeSheets(h))}this.setIframeSettings();break;case"locale":e.prototype.refresh.call(this);break;case"inlineMode":this.notify(Bi,{module:"quickToolbar",newProp:t,oldProp:n}),this.setContentHeight();break;case"toolbarSettings":this.notify(Bi,{module:"toolbar",newProp:t,oldProp:n}),this.setContentHeight();break;case"maxLength":this.showCharCount&&this.countModule.refresh();break;case"showCharCount":t[r]&&this.countModule?this.countModule.renderCount():!1===t[r]&&this.countModule&&this.countModule.destroy();break;case"enableHtmlEncode":this.updateValueData(),this.updatePanelValue(),this.setPlaceHolder(),this.showCharCount&&this.countModule.refresh();break;case"undoRedoSteps":case"undoRedoTimer":this.formatter.editorManager.observer.notify(Pr,{newProp:t,oldProp:n});break;case"enableXhtml":this.notify(Co,{module:"XhtmlValidation",newProp:t,oldProp:n});break;case"quickToolbarSettings":t.quickToolbarSettings.showOnRightClick?this.wireContextEvent():this.unWireContextEvent(),this.notify(Bi,{newProp:t,oldProp:n});break;default:this.notify(Bi,{newProp:t,oldProp:n})}}},t.prototype.updateValueData=function(){this.enableHtmlEncode?this.setProperties({value:this.encode(Ha(this.inputElement.innerHTML))},!0):this.setProperties({value:/<[a-z][\s\S]*>/i.test(this.inputElement.innerHTML)?this.inputElement.innerHTML:Ha(this.inputElement.innerHTML)})},t.prototype.removeSheets=function(e){var t;for(t=0;t<e.length;t++)Oe(e[t])},t.prototype.updatePanelValue=function(){var e=this.value;e=this.enableHtmlEncode&&this.value?Ha(e):e;var t=this.element.querySelector(".e-rte-srctextarea");e?(t&&"block"===t.style.display&&(t.value=this.value),this.valueContainer&&(this.valueContainer.value=this.enableHtmlEncode?this.value:e),"HTML"===this.editorMode&&this.inputElement&&this.inputElement.innerHTML.trim()!==e.trim()?this.inputElement.innerHTML=e:"Markdown"===this.editorMode&&this.inputElement&&this.inputElement.value.trim()!==e.trim()&&(this.inputElement.value=e)):(t&&"block"===t.style.display&&(t.value=""),"HTML"===this.editorMode?"DIV"===this.enterKey?this.inputElement.innerHTML="<div><br/></div>":"BR"===this.enterKey?this.inputElement.innerHTML="<br/>":(this.inputElement.innerHTML="<p><br/></p>",""===e&&this.formatter&&this.inputElement&&this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),this.inputElement.firstElementChild,this.inputElement.firstElementChild.childElementCount)):this.inputElement.value="",this.valueContainer&&(this.valueContainer.value="")),this.showCharCount&&this.countModule.refresh()},t.prototype.setHeight=function(e){this.element.style.height="auto"!==e?L(e):"auto","Expand"===this.toolbarSettings.type&&("string"===typeof this.height&&this.height.indexOf("px")>-1||"number"===typeof this.height)?this.element.classList.add(yr):this.element.classList.remove(yr)},t.prototype.setPlaceHolder=function(){this.inputElement&&this.placeholder&&!0!==this.iframeSettings.enable&&("Markdown"!==this.editorMode?(this.placeHolderWrapper||(this.placeHolderWrapper=this.createElement("span",{className:"rte-placeholder e-rte-placeholder"}),this.inputElement&&this.inputElement.parentElement.insertBefore(this.placeHolderWrapper,this.inputElement),Re(this.placeHolderWrapper,{style:"font-size: 14px; margin-left: 0px; margin-right: 0px;"})),this.placeHolderWrapper.innerHTML=this.placeholder,0!==this.inputElement.textContent.length||E(this.inputElement.firstChild)||"BR"!==this.inputElement.firstChild.nodeName&&("P"!==this.inputElement.firstChild.nodeName&&"DIV"!==this.inputElement.firstChild.nodeName||E(this.inputElement.firstChild.firstChild)||"BR"!==this.inputElement.firstChild.firstChild.nodeName)?this.placeHolderWrapper.style.display="none":this.placeHolderWrapper.style.display="block"):this.inputElement.setAttribute("placeholder",this.placeholder))},t.prototype.setWidth=function(e){"auto"!==e?Fe(this.element,{width:L(this.width)}):this.element.style.width="auto"},t.prototype.setCssClass=function(e){if(!E(e))for(var t=e.split(" "),n=0;n<t.length;n++)""!==t[n].trim()&&this.element.classList.add(t[n])},t.prototype.updateRTL=function(){this.notify(uo,{enableRtl:this.enableRtl}),this.enableRtl?this.element.classList.add(Lo):this.element.classList.remove(Lo)},t.prototype.updateReadOnly=function(){this.notify(vo,{editPanel:this.inputElement,mode:this.readonly})},t.prototype.setReadOnly=function(e){this.updateReadOnly(),e||(this.readonly&&this.enabled?this.unbindEvents():this.enabled&&this.bindEvents())},t.prototype.print=function(){var e,t=this,n={element:this.inputElement,requestType:"print",cancel:!1};this.trigger(Xi,n,(function(n){if(e=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth),"msie"===Ce.info.name&&e.resizeTo(screen.availWidth,screen.availHeight),e=function(e,t){var n=document.createElement("div"),i=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),o=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(o.length)for(var r=0,s=o.length;r<s;r++)i.push(o[r]);var a="";E(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),n.appendChild(e.cloneNode(!0));var l=0;for(s=i.length;l<s;l++)a+=i[l].outerHTML;t.document.write("<!DOCTYPE html> <html><head>"+a+"</head><body>"+n.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),t.document.close(),t.focus();var c=setInterval((function(){t.ready&&(t.print(),t.close(),clearInterval(c))}),500);return t}(t.inputElement,e),!n.cancel){t.trigger(Yi,{requestType:"print"})}}))},t.prototype.refreshUI=function(){this.renderModule.refresh()},t.prototype.showFullScreen=function(){this.fullScreenModule.showFullScreen()},t.prototype.enableToolbarItem=function(e,t){this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(),e,!0,t)},t.prototype.disableToolbarItem=function(e,t){this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(),e,!1,t)},t.prototype.removeToolbarItem=function(e){this.toolbarModule.removeTBarItems(e)},t.prototype.getRange=function(){return this.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument())},t.prototype.initializeServices=function(){this.serviceLocator.register("rendererFactory",new zr),this.serviceLocator.register("rteLocale",this.localeObj=new It(this.getModuleName(),aa,this.locale)),this.serviceLocator.register("dialogRenderObject",new sc(this))},t.prototype.RTERender=function(){var e=this.serviceLocator.getService("rendererFactory");this.contentModule=e.getRenderer(Ci.Content),this.fullScreenModule=new ma(this),this.enterKeyModule=new fa(this),this.renderModule.render(),this.inputElement=this.contentModule.getEditPanel(),this.setHeight(this.height),ua(this.htmlAttributes,this,!1,!0),this.iframeSettings&&this.setIframeSettings(),this.setCssClass(this.cssClass),this.updateEnable(),this.setPlaceHolder(),this.updateRTL(),this.updateReadOnly(),this.updatePanelValue(),this.enableHtmlEncode&&!E(this.value)&&this.setProperties({value:this.encode(Ha(this.value))})},t.prototype.setIframeSettings=function(){if(this.iframeSettings.resources){var e=this.iframeSettings.resources.styles,t=this.iframeSettings.resources.scripts;this.iframeSettings.resources.scripts.length>0&&this.InjectSheet(!0,t),this.iframeSettings.resources.styles.length>0&&this.InjectSheet(!1,e)}this.iframeSettings.attributes&&ua(this.iframeSettings.attributes,this,!0,!1)},t.prototype.InjectSheet=function(e,t){try{if(t&&t.length>0)for(var n=this.contentModule.getDocument().querySelector("head"),i=0;i<t.length;i++)if(e){var o=this.createScriptElement();o.src=t[i],n.appendChild(o)}else{var r=this.createStyleElement();r.href=t[i],n.appendChild(r)}}catch(s){return}},t.prototype.createScriptElement=function(){var e=this.createElement("script",{className:Do});return e.type="text/javascript",e},t.prototype.createStyleElement=function(){var e=this.createElement("link",{className:Oo});return e.rel="stylesheet",e},t.prototype.setValue=function(){if(this.valueTemplate){if(new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i).test(this.valueTemplate))this.setProperties({value:this.valueTemplate});else{for(var e=gn(this.valueTemplate)("",this,"valueTemplate"),t=0;t<e.length;t++){Pe([e[t]],this.element)}this.setProperties({value:this.element.innerHTML.trim()})}}else{var n=!E(this.element.innerHTML)&&this.element.innerHTML.replace(/<(\/?|\!?)(!--!--)>/g,"").trim();""!==n&&("TEXTAREA"===this.element.tagName?this.setProperties({value:Ha(n)}):this.setProperties({value:n}))}},t.prototype.updateResizeFlag=function(){this.isResizeInitialized=!0},t.prototype.getInsertImgMaxWidth=function(){var e=this.insertImageSettings.maxWidth,t=this.contentModule.getEditPanel(),n=window.getComputedStyle(t),i=t.offsetWidth-(14+parseFloat(n.paddingLeft.split("px")[0])+parseFloat(n.paddingRight.split("px")[0])+parseFloat(n.marginLeft.split("px")[0])+parseFloat(n.marginRight.split("px")[0]));return E(e)?i:e},t.prototype.setContentHeight=function(e,t){var n,i,o=0,r="string"===typeof this.height&&this.height.indexOf("%")>-1,s=this.sourceCodeModule.getPanel()&&"block"===this.sourceCodeModule.getPanel().parentElement.style.display?this.sourceCodeModule.getPanel().parentElement:this.contentModule.getPanel(),a=this.element.offsetHeight;0!==a||"auto"===this.height||this.getToolbar()||(a=parseInt(this.height,10),r&&(i=this.height));var l=this.getToolbar()?this.toolbarModule.getToolbarHeight():0,c=this.element.querySelector(".e-resize-handle"),h=this.enableResize?E(c)?0:c.offsetHeight+8:0,d=this.getToolbar()?this.toolbarModule.getExpandTBarPopHeight():0;(this.toolbarSettings.type===wi.Expand&&t&&"preview"!==e?(n="auto"===this.height&&0===h?"auto":a-(l+d+h)+"px",o=this.toolbarSettings.enableFloating?0:d):n="auto"!==this.height||this.element.classList.contains("e-rte-full-screen")||this.isResizeInitialized?r&&i?i:a-(l+h)+"px":"auto","windowResize"!==e&&(this.iframeSettings.enable?"auto"!==n&&Fe(s,{height:n,marginTop:o+"px"}):Fe(s,{height:n,marginTop:o+"px"})),this.iframeSettings.enable&&"sourceCode"===e)&&Fe(Ae(".e-rte-content",this.element),{height:n,marginTop:o+"px"});if(this.toolbarSettings.enableFloating&&this.getToolbar()&&!this.inlineMode.enable){var p=(t?l+d:l)+"px";Fe(this.getToolbar().parentElement,{height:p})}0===h&&this.autoResize()},t.prototype.getHtml=function(){return this.serializeValue(this.contentModule.getEditPanel().innerHTML)},t.prototype.getXhtml=function(){var e=this.value;return!E(e)&&this.enableXhtml&&(e=this.htmlEditorModule.xhtmlValidation.selfEncloseValidation(e)),e},t.prototype.showSourceCode=function(){this.readonly||this.notify(Gi,{})},t.prototype.getCharCount=function(){var e="Markdown"===this.editorMode?this.inputElement.value.trim():this.inputElement.textContent.trim();return"Markdown"!==this.editorMode&&-1!==e.indexOf("\u200b")?e.replace(/\u200B/g,"").length:e.length},t.prototype.showDialog=function(e){e===Ei.InsertLink?this.notify("showLinkDialog",{}):e===Ei.InsertImage?this.notify("showImageDialog",{}):e===Ei.InsertTable&&this.notify(ko,{})},t.prototype.closeDialog=function(e){e===Ei.InsertLink?this.notify("closeLinkDialog",{}):e===Ei.InsertImage?this.notify("closeImageDialog",{}):e===Ei.InsertTable&&this.notify(To,{})},t.prototype.getBaseToolbarObject=function(){return!this.inlineMode.enable||Ce.isDevice&&!wa()?this.toolbarModule&&this.toolbarModule.getBaseToolbar():this.quickToolbarModule&&this.quickToolbarModule.getInlineBaseToolbar()},t.prototype.getToolbar=function(){return this.toolbarModule?this.toolbarModule.getToolbarElement():null},t.prototype.getToolbarElement=function(){return this.toolbarModule&&this.toolbarModule.getToolbarElement()},t.prototype.getID=function(){return"TEXTAREA"===this.originalElement.tagName?this.valueContainer.id:this.element.id},t.prototype.mouseDownHandler=function(e){var t=e.touches?e.changedTouches[0]:e;ke([this.element],[Go]),this.preventDefaultResize(e),this.notify(to,{args:e}),this.clickPoints={clientX:t.clientX,clientY:t.clientY}},t.prototype.preventImgResize=function(e){"img"===e.target.nodeName.toLocaleLowerCase()&&e.preventDefault()},t.prototype.preventDefaultResize=function(e){"msie"===Ce.info.name?this.contentModule.getEditPanel().addEventListener("mscontrolselect",this.preventImgResize):"mozilla"===Ce.info.name&&(this.contentModule.getDocument().execCommand("enableObjectResizing",!1,"false"),this.contentModule.getDocument().execCommand("enableInlineTableEditing",!1,"false"))},t.prototype.defaultResize=function(e){"msie"===Ce.info.name?this.contentModule.getEditPanel().removeEventListener("mscontrolselect",this.preventImgResize):"mozilla"===Ce.info.name&&(this.contentModule.getDocument().execCommand("enableObjectResizing",!0,"true"),this.contentModule.getDocument().execCommand("enableInlineTableEditing",!0,"true"))},t.prototype.resizeHandler=function(){var e=!1;document.body.contains(this.element)?(this.toolbarSettings.enable&&!this.inlineMode.enable&&(this.toolbarModule.refreshToolbarOverflow(),e=this.toolbarModule.baseToolbar.toolbarObj.element.classList.contains(er)),this.setContentHeight("windowResize",e),this.notify("resize",null)):document.defaultView.removeEventListener("resize",this.onResizeHandler,!0)},t.prototype.scrollHandler=function(e){this.notify(oo,{args:e})},t.prototype.contentScrollHandler=function(e){this.notify("contentscroll",{args:e})},t.prototype.focusHandler=function(e){if(!this.isRTE||this.isFocusOut){this.isRTE=!this.isFocusOut,this.isFocusOut=!1,ke([this.element],[Go]),"HTML"===this.editorMode?this.cloneValue="<p><br></p>"===this.inputElement.innerHTML||"<div><br></div>"===this.inputElement.innerHTML||"<br>"===this.inputElement.innerHTML?null:this.enableHtmlEncode?this.encode(Ha(this.inputElement.innerHTML)):this.inputElement.innerHTML:this.cloneValue=""===this.inputElement.value?null:this.inputElement.value;var t=document.activeElement;if((t===this.element||t===this.getToolbarElement()||t===this.contentModule.getEditPanel()||this.iframeSettings.enable&&t===this.contentModule.getPanel()&&e.target&&!e.target.classList.contains("e-img-inner")&&e.target&&e.target.parentElement&&!e.target.parentElement.classList.contains("e-img-wrap")||Ie(t,".e-rte-toolbar")===this.getToolbarElement())&&(this.contentModule.getEditPanel().focus(),!E(this.getToolbarElement()))){this.getToolbarElement().setAttribute("tabindex","-1");for(var n=this.getToolbarElement().querySelectorAll('[tabindex="0"]'),i=0;i<n.length;i++)n[i].setAttribute("tabindex","-1")}this.preventDefaultResize(e),this.trigger("focus",{event:e,isInteracted:0!==Object.keys(e).length}),!E(this.saveInterval)&&this.saveInterval>0&&!this.autoSaveOnIdle&&(this.timeInterval=setInterval(this.updateValueOnIdle.bind(this),this.saveInterval)),we.add(document,"mousedown",this.onDocumentClick,this)}if(!E(this.getToolbarElement())){var o=this.getToolbarElement().querySelectorAll("input,select,button,a,[tabindex]");for(i=0;i<o.length;i++)o[i].classList.contains("e-rte-dropdown-btn")||o[i].classList.contains("e-insert-table-btn")||o[i].hasAttribute("tabindex")&&"-1"===o[i].getAttribute("tabindex")||o[i].setAttribute("tabindex","-1")}},t.prototype.getUpdatedValue=function(){var e;E(this.tableModule)||this.tableModule.removeResizeElement();var t=this.element.querySelector(".e-rte-srctextarea");return"HTML"===this.editorMode?(e="<p><br></p>"===this.inputElement.innerHTML||"<div><br></div>"===this.inputElement.innerHTML||"<br>"===this.inputElement.innerHTML?null:this.enableHtmlEncode?this.encode(Ha(this.inputElement.innerHTML)):this.inputElement.innerHTML,t&&"block"===t.style.display&&(e=t.value)):e=""===this.inputElement.value?null:this.inputElement.value,e},t.prototype.updateValueOnIdle=function(){(E(this.tableModule)||E(this.inputElement.querySelector(".e-table-box.e-rbox-select")))&&(this.setProperties({value:this.getUpdatedValue()},!0),this.valueContainer.value=this.value,this.invokeChangeEvent())},t.prototype.updateIntervalValue=function(){clearTimeout(this.idleInterval),this.idleInterval=setTimeout(this.updateValueOnIdle.bind(this),0)},t.prototype.updateStatus=function(e){if(!E(e.html)||!E(e.markdown)){var t=this.formatter.editorManager.undoRedoManager.getUndoStatus(),n={undo:t.undo,redo:t.redo,html:e.html,markdown:e.markdown};this.trigger("updatedToolbarStatus",n)}},t.prototype.onDocumentClick=function(e){var t=e.target,n=Ie(t,"."+No);this.element.contains(e.target)||document===e.target||n===this.element||Ie(t,'[aria-owns="'+this.getID()+'"]')||(this.isBlur=!0,this.isRTE=!1),this.notify(fo,{args:e}),"msie"!==Ce.info.name&&e.detail>3&&e.preventDefault()},t.prototype.blurHandler=function(e){var t=e.relatedTarget;if(t){var n=Ie(t,"."+No);n&&n===this.element?(this.isBlur=!1,t===this.getToolbarElement()&&t.setAttribute("tabindex","-1")):Ie(t,'[aria-owns="'+this.getID()+'"]')?this.isBlur=!1:(this.isBlur=!0,t=null)}if(this.isBlur&&E(t)){Te([this.element],[Go]),this.notify(ao,{});var i=this.getUpdatedValue();this.setProperties({value:i}),this.notify(Pi,{args:e,documentNode:document}),this.invokeChangeEvent(),this.isFocusOut=!0,this.isBlur=!1,Na(this.valueContainer,"focusout"),this.defaultResize(e),this.trigger("blur",{event:e,isInteracted:0!==Object.keys(e).length}),E(this.timeInterval)||(clearInterval(this.timeInterval),this.timeInterval=null),we.remove(document,"mousedown",this.onDocumentClick)}else this.isRTE=!0},t.prototype.contentChanged=function(){this.autoSaveOnIdle&&(E(this.saveInterval)||(clearTimeout(this.timeInterval),this.timeInterval=setTimeout(this.updateIntervalValue.bind(this),this.saveInterval)))},t.prototype.invokeChangeEvent=function(){var e={value:this.enableXhtml?this.getXhtml():this.value};this.value!==this.cloneValue&&(this.trigger("change",e),this.cloneValue=this.value)},t.prototype.wireScrollElementsEvents=function(){this.scrollParentElements=yi(this.element);for(var e=0,t=this.scrollParentElements;e<t.length;e++){var n=t[e];we.add(n,"scroll",this.scrollHandler,this)}this.iframeSettings.enable||we.add(this.contentModule.getPanel(),"scroll",this.contentScrollHandler,this)},t.prototype.wireContextEvent=function(){this.quickToolbarSettings.showOnRightClick&&(we.add(this.inputElement,"contextmenu",this.contextHandler,this),Ce.isDevice&&(this.touchModule=new Vt(this.inputElement,{tapHold:this.touchHandler.bind(this),tapHoldThreshold:500})))},t.prototype.unWireContextEvent=function(){we.remove(this.inputElement,"contextmenu",this.contextHandler),Ce.isDevice&&this.touchModule&&this.touchModule.destroy()},t.prototype.unWireScrollElementsEvents=function(){this.scrollParentElements=yi(this.element);for(var e=0,t=this.scrollParentElements;e<t.length;e++){var n=t[e];we.remove(n,"scroll",this.scrollHandler)}this.iframeSettings.enable||we.remove(this.contentModule.getPanel(),"scroll",this.contentScrollHandler)},t.prototype.touchHandler=function(e){this.notifyMouseUp(e.originalEvent),this.triggerEditArea(e.originalEvent)},t.prototype.contextHandler=function(e){var t=Ie(e.target,"a, table, img");!1!==this.inlineMode.onSelection&&(E(t)||!this.inputElement.contains(t)||"IMG"!==t.tagName&&"TABLE"!==t.tagName&&"A"!==t.tagName)||e.preventDefault()},t.prototype.resetHandler=function(){var e=this.valueContainer.defaultValue.trim();this.setProperties({value:""===e?null:e})},t.prototype.autoResize=function(){var e=this;if("auto"===this.height){if("Markdown"===this.editorMode)setTimeout((function(){e.setAutoHeight(e.inputElement)}),0);else if(this.iframeSettings.enable){var t=this.element.querySelector("#"+this.getID()+"_rte-view");setTimeout((function(){e.setAutoHeight(t)}),100),this.inputElement.style.overflow="hidden"}}else this.inputElement.style.overflow=null},t.prototype.setAutoHeight=function(e){E(e)||(e.style.height="",e.style.height=this.inputElement.scrollHeight+"px",e.style.overflow="hidden")},t.prototype.wireEvents=function(){this.element.addEventListener("focusin",this.onFocusHandler,!0),this.element.addEventListener("focusout",this.onBlurHandler,!0),this.on(ki,this.contentChanged,this),this.on(wo,this.updateResizeFlag,this),this.on(So,this.updateStatus,this),this.readonly&&this.enabled||this.bindEvents()},t.prototype.restrict=function(e){if(this.maxLength>=0){for(var t="Markdown"===this.editorMode?this.contentModule.getText():e.currentTarget.textContent,n=[8,16,17,37,38,39,40,46,65],i=void 0,o=0;o<=n.length-1;o++)if(e.which===n[o]){if(e.ctrlKey&&65===e.which)return;if(65!==e.which)return void(i=n[o])}t.length>=this.maxLength&&-1!==this.maxLength&&e.which!==i&&e.preventDefault()}},t.prototype.bindEvents=function(){this.keyboardModule=new Br(this.inputElement,{keyAction:this.keyDown.bind(this),keyConfigs:lc({},this.formatter.keyConfig,this.keyConfig),eventName:"keydown"});var e=Ie(this.valueContainer,"form");e&&we.add(e,"reset",this.resetHandler,this),we.add(this.inputElement,"keyup",this.keyUp,this),we.add(this.inputElement,"paste",this.onPaste,this),we.add(this.inputElement,Ce.touchEndEvent,T(this.mouseUp,30),this),we.add(this.inputElement,Ce.touchStartEvent,this.mouseDownHandler,this),this.wireContextEvent(),this.formatter.editorManager.observer.on(kr,this.editorKeyDown,this),this.element.ownerDocument.defaultView.addEventListener("resize",this.onResizeHandler,!0),this.iframeSettings.enable&&(we.add(this.inputElement,"focusin",this.focusHandler,this),we.add(this.inputElement,"focusout",this.blurHandler,this),we.add(this.inputElement.ownerDocument,"scroll",this.contentScrollHandler,this),we.add(this.inputElement.ownerDocument,Ce.touchStartEvent,this.onIframeMouseDown,this)),this.wireScrollElementsEvents()},t.prototype.onIframeMouseDown=function(e){this.isBlur=!1,this.notify(xi,e)},t.prototype.editorKeyDown=function(e){switch(e.event.action){case"copy":this.onCopy();break;case"cut":this.onCut()}!e.callBack||"copy"!==e.event.action&&"cut"!==e.event.action&&"delete"!==e.event.action||e.callBack({requestType:e.event.action,editorMode:"HTML",event:e.event})},t.prototype.unWireEvents=function(){this.element.removeEventListener("focusin",this.onFocusHandler,!0),this.element.removeEventListener("focusout",this.onBlurHandler,!0),this.off(ki,this.contentChanged),this.off(wo,this.updateResizeFlag),this.off(So,this.updateStatus),this.readonly&&this.enabled||this.unbindEvents()},t.prototype.unbindEvents=function(){this.keyboardModule&&this.keyboardModule.destroy();var e=Ie(this.valueContainer,"form");e&&we.remove(e,"reset",this.resetHandler),we.remove(this.inputElement,"keyup",this.keyUp),we.remove(this.inputElement,"paste",this.onPaste),we.remove(this.inputElement,Ce.touchEndEvent,T(this.mouseUp,30)),we.remove(this.inputElement,Ce.touchStartEvent,this.mouseDownHandler),this.unWireContextEvent(),this.formatter&&this.formatter.editorManager.observer.off(kr,this.editorKeyDown),this.element.ownerDocument.defaultView.removeEventListener("resize",this.onResizeHandler,!0),this.iframeSettings.enable&&(we.remove(this.inputElement,"focusin",this.focusHandler),we.remove(this.inputElement,"focusout",this.blurHandler),we.remove(this.inputElement.ownerDocument,"scroll",this.contentScrollHandler),we.remove(this.inputElement.ownerDocument,Ce.touchStartEvent,this.onIframeMouseDown)),this.unWireScrollElementsEvents()},cc([tt({},_s)],t.prototype,"toolbarSettings",void 0),cc([tt({},Ws)],t.prototype,"quickToolbarSettings",void 0),cc([tt({},Xs)],t.prototype,"pasteCleanupSettings",void 0),cc([tt({},ia)],t.prototype,"iframeSettings",void 0),cc([tt({},Vs)],t.prototype,"insertImageSettings",void 0),cc([tt({},Us)],t.prototype,"tableSettings",void 0),cc([et(0)],t.prototype,"floatingToolbarOffset",void 0),cc([tt({},sa)],t.prototype,"inlineMode",void 0),cc([tt({},qs)],t.prototype,"fileManagerSettings",void 0),cc([et("100%")],t.prototype,"width",void 0),cc([et(!1)],t.prototype,"enablePersistence",void 0),cc([et(!1)],t.prototype,"enableResize",void 0),cc([et({})],t.prototype,"htmlAttributes",void 0),cc([et(null)],t.prototype,"placeholder",void 0),cc([et(!1)],t.prototype,"autoSaveOnIdle",void 0),cc([et(!1)],t.prototype,"readonly",void 0),cc([et(!0)],t.prototype,"enabled",void 0),cc([et(!0)],t.prototype,"enableHtmlSanitizer",void 0),cc([et(!1)],t.prototype,"enableHtmlEncode",void 0),cc([et(!1)],t.prototype,"enableXhtml",void 0),cc([et("auto")],t.prototype,"height",void 0),cc([et(null)],t.prototype,"cssClass",void 0),cc([et(null)],t.prototype,"value",void 0),cc([et("P")],t.prototype,"enterKey",void 0),cc([et("BR")],t.prototype,"shiftEnterKey",void 0),cc([et(30)],t.prototype,"undoRedoSteps",void 0),cc([et(300)],t.prototype,"undoRedoTimer",void 0),cc([et("HTML")],t.prototype,"editorMode",void 0),cc([et(null)],t.prototype,"keyConfig",void 0),cc([et(!1)],t.prototype,"showCharCount",void 0),cc([et(!1)],t.prototype,"enableTabKey",void 0),cc([et(!1)],t.prototype,"enableAutoUrl",void 0),cc([et(-1)],t.prototype,"maxLength",void 0),cc([tt({},Gs)],t.prototype,"format",void 0),cc([tt({},Js)],t.prototype,"numberFormatList",void 0),cc([tt({},Zs)],t.prototype,"bulletFormatList",void 0),cc([tt({},Ys)],t.prototype,"fontFamily",void 0),cc([tt({},Ks)],t.prototype,"fontSize",void 0),cc([tt({},$s)],t.prototype,"fontColor",void 0),cc([tt({},Qs)],t.prototype,"backgroundColor",void 0),cc([et(null)],t.prototype,"valueTemplate",void 0),cc([et(1e4)],t.prototype,"saveInterval",void 0),cc([it()],t.prototype,"actionBegin",void 0),cc([it()],t.prototype,"actionComplete",void 0),cc([it()],t.prototype,"beforeDialogOpen",void 0),cc([it()],t.prototype,"dialogOpen",void 0),cc([it()],t.prototype,"beforeDialogClose",void 0),cc([it()],t.prototype,"dialogClose",void 0),cc([it()],t.prototype,"beforeQuickToolbarOpen",void 0),cc([it()],t.prototype,"quickToolbarOpen",void 0),cc([it()],t.prototype,"quickToolbarClose",void 0),cc([it()],t.prototype,"toolbarStatusUpdate",void 0),cc([it()],t.prototype,"updatedToolbarStatus",void 0),cc([it()],t.prototype,"imageSelected",void 0),cc([it()],t.prototype,"beforeImageUpload",void 0),cc([it()],t.prototype,"imageUploading",void 0),cc([it()],t.prototype,"imageUploadSuccess",void 0),cc([it()],t.prototype,"imageUploadFailed",void 0),cc([it()],t.prototype,"imageRemoving",void 0),cc([it()],t.prototype,"afterImageDelete",void 0),cc([it()],t.prototype,"created",void 0),cc([it()],t.prototype,"destroyed",void 0),cc([it()],t.prototype,"beforeSanitizeHtml",void 0),cc([it()],t.prototype,"blur",void 0),cc([it()],t.prototype,"toolbarClick",void 0),cc([it()],t.prototype,"focus",void 0),cc([it()],t.prototype,"change",void 0),cc([it()],t.prototype,"resizing",void 0),cc([it()],t.prototype,"resizeStart",void 0),cc([it()],t.prototype,"resizeStop",void 0),cc([it()],t.prototype,"beforePasteCleanup",void 0),cc([it()],t.prototype,"afterPasteCleanup",void 0),cc([it()],t.prototype,"beforeImageDrop",void 0),cc([et(null)],t.prototype,"formatter",void 0),t=cc([ot],t)}(kt),dc=n(164),pc=n.t(dc,2),uc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mc=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],fc=["accordion","tab","splitter"],gc=new RegExp("]"),vc=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.mountingState=!1,e.attrKeys=[],e.cachedTimeOut=0,e.isAppendCalled=!1,e.initRenderCalled=!1,e.isReactForeceUpdate=!1,e.isReact=!0,e.isshouldComponentUpdateCalled=!1,e.isCreated=!1,e}return uc(n,t),n.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==fc.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},n.prototype.componentDidUpdate=function(e){this.isshouldComponentUpdateCalled||!this.initRenderCalled||this.isReactForeceUpdate||(this.isshouldComponentUpdateCalled=!0,e!==this.props&&this.refreshProperties(this.props,!0))},n.prototype.renderReactComponent=function(){var e=this.reactElement;e&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(e))},n.prototype.shouldComponentUpdate=function(e){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(e),!0):(this.updateProperties(e,!0),!0)},n.prototype.updateProperties=function(e,t){for(var n=this,i=w({},e),o=0,r=Object.keys(e);o<r.length;o++){var s=r[o],a="className"===s;if("children"!==s)if(a||E(this.htmlattributes[s])||this.htmlattributes[s]===i[s]||(this.htmlattributes[s]=i[s]),this.compareValues(this.props[s],e[s]))delete i[s];else if(-1!==this.attrKeys.indexOf(s))if(a){this.clsName=!0;for(var l=this.props[s].split(" "),c=0;c<l.length;c++)this.element.classList.remove(l[c]);for(var h=i[s].split(" "),d=0;d<h.length;d++)this.element.classList.add(h[d])}else"disabled"!==s&&delete i[s];else"value"===s&&e[s]===this[s]?delete i[s]:"valueTemplate"!==s&&"itemTemplate"!==s&&"headerTemplate"!==s||e[s].toString()!==this[s].toString()?"content"===s&&"function"===typeof i[s]&&delete i[s]:delete i[s]}i.children&&delete i.children,this.initRenderCalled&&(this.canDelayUpdate||this.props.delayUpdate)?setTimeout((function(){n.refreshProperties(i,e,t)})):this.refreshProperties(i,e,t)},n.prototype.refreshProperties=function(e,t,n){Object.keys(e).length&&(n||this.processComplexTemplate(e,this),this.setProperties(e,n)),this.refreshChild(n,t)},n.prototype.processComplexTemplate=function(e,t){var n=t.complexTemplate;if(n)for(var i in n){var o=n[i];e[i]&&f(o,m(i,e),e)}},n.prototype.getDefaultAttributes=function(){var e=this;this.isReact=!0;var t=Object.keys(this.props);this.htmlattributes||(this.htmlattributes={}),this.attrKeys=mc.concat(this.controlAttributes||[]);for(var i=0,o=t;i<o.length;i++){var r=o[i];-1===r.indexOf("data-")&&-1===r.indexOf("aria-")&&-1===this.attrKeys.indexOf(r)||this.htmlattributes[r]!==this.props[r]&&(this.htmlattributes[r]=this.props[r])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(t){e.reactElement=t};-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+n.reactUid,n.reactUid++)}if(this.clsName){for(var s=this.element.classList,a=this.htmlattributes.className,l=0;l<s.length;l++)-1==a.indexOf(s[l])&&(this.htmlattributes.className=this.htmlattributes.className+" "+s[l]);this.clsName=!1}return this.htmlattributes},n.prototype.trigger=function(e,t,n){var i=this;if(!0!==this.isDestroyed&&this.modelObserver){if(gc.test(e)){var o=m(e,this);o?(o.call(this,t),n&&n.call(this,t)):n&&n.call(this,t)}"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var r=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===e?setTimeout((function(){i.isCreated=!0,i.isDestroyed||i.modelObserver.notify(e,t,n)})):this.modelObserver.notify(e,t,n),this.isProtectedOnChange=r}},n.prototype.compareValues=function(e,t){if(typeof e===typeof t){if(e===t)return!0;if((!E(e)&&e.constructor)!==(!E(t)&&t.constructor))return!1;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number)return e.toString()===t.toString();if(y(e)||Array.isArray(e)){var n=e,i=t;return y(n)&&(n=[e],i=[t]),this.compareObjects(n,i).status}}return!1},n.prototype.compareObjects=function(e,t,n){var i=!0,o=[];if(e.length===t.length)for(var r=0,s=t.length;r<s;r++){var a={},l=e[r],c=t[r],h=Object.keys(c);if(0!==h.length)for(var d=0,p=h;d<p.length;d++){var u=p[d],m=l[u],f=c[u];if("items"===u)for(var g=0;g<f.length;g++)if("richtexteditor"===this.getModuleName()&&"object"===typeof f[g])return{status:!0};if("grid"===this.getModuleName()&&"field"===u&&(a[u]=f),!l.hasOwnProperty(u)||!this.compareValues(m,f)){if(!n)return{status:!1};i=!1,a[u]=f}}else{if(!n)return{status:!1};i=!1}Object.keys(a).length&&o.push({index:r,value:a,key:n})}else i=!1;return{status:i,changedProperties:o}},n.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var n=this.getInjectedModules()||[],i=0,o=this.getInjectedServices()||[];i<o.length;i++){var r=o[i];-1===n.indexOf(r)&&n.push(r)}this.injectedModules=n}if(this.directivekeys){var s=[],a=this.validateChildren({},this.directivekeys,t||this.props);if(a&&Object.keys(a).length){if(!e&&this.skipRefresh)for(var l=0,c=this.skipRefresh;l<c.length;l++){delete a[c[l]]}if(this.prevProperties)for(var h=Object.keys(this.prevProperties),d=0;d<h.length;d++){var p=h[d];if(a.hasOwnProperty(p)){var u=this.compareObjects(this.prevProperties[p],a[p],p);if(u.status)delete a[p];else{u.changedProperties.length&&(s=s.concat(u.changedProperties));var f={};f[p]=a[p],this.prevProperties=w(this.prevProperties,f)}}}else this.prevProperties=w({},a,{},!0);if(s.length)if("grid"===this.getModuleName()&&"columns"===p)for(var g=0,v=this.columns;g<v.length;g++){if(m("field",v[g])===m(g+".value.field",s)){var y=m(s[g].key+"."+s[g].index,this);y&&y.setProperties?y.setProperties(s[g].value):w(y,s[g].value)}}else for(var b=0,C=s;b<C.length;b++){var E=C[b],S=m(E.key+"."+E.index,this);S&&S.setProperties?S.setProperties(E.value):w(S,E.value)}else this.setProperties(a,e)}}},n.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);this.initRenderCalled&&this.isAppendCalled&&this.element&&(["dropdowntree","checkbox"].indexOf(this.getModuleName())||document.body.contains(this.element))&&!this.isDestroyed&&this.isCreated&&this.destroy()},n.prototype.appendReactElement=function(e,t){var n=dc.createPortal(e,t);this.portals?this.portals.push(n):this.portals=[n]},n.prototype.intForceUpdate=function(t){var n=this,i=m("flushSync",pc),o=e.version.split(".")[0];parseInt(o)>=18&&this.initRenderCalled&&i&&!this.mountingState?i((function(){n.forceUpdate(t)})):this.forceUpdate(t)},n.prototype.renderReactTemplates=function(e){this.isReactForeceUpdate=!0,this.intForceUpdate(e),this.isReactForeceUpdate=!1},n.prototype.clearTemplate=function(e,t,n){var i=this,o=[];e&&e.length?Array.prototype.forEach.call(e,(function(e){var n=0,r=0;if(i.portals.forEach((function(t){t.propName===e&&(o.push(r),r++)})),t&&i.portals[o[t[n]]].propName==e)i.portals.splice(t,1),n++;else for(var s=0;s<i.portals.length;s++)i.portals[s].propName==e&&(i.portals.splice(s,1),s--)})):this.portals=[],this.renderReactTemplates(n)},n.prototype.validateChildren=function(t,n,i){for(var o=!1,r=0,s=e.Children.toArray(i.children);r<s.length;r++){var a=s[r],l=this.getChildType(a),c=n[l];if(l&&n){var h=this.getChildProps(e.Children.toArray(a.props.children),c);h.length&&(o=!0,t[a.type.propertyName||l]=h)}}return o?t:null},n.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},n.prototype.getChildProps=function(e,t){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i],s=!1,a=void 0;"string"===typeof t?(s=!0,a=t):a=Object.keys(t)[0];var l=r.props;if(this.getChildType(r)===a)if(s||!l.children){var c=w({},l,{},!0);this.processComplexTemplate(c,r.type),n.push(c)}else{var h=this.validateChildren(w({},l),t[a],l)||l;h.children&&delete h.children,this.processComplexTemplate(h,r.type),n.push(h)}}return n},n.prototype.getInjectedServices=function(){for(var t=0,n=e.Children.toArray(this.props.children);t<n.length;t++){var i=n[t];if(i.type.isService)return i.props.services}return[]},n.reactUid=1,n}(e.Component);var yc,bc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cc=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}bc(t,e),t.prototype.render=function(){return null},t.isDirective=!0}(e.PureComponent),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),wc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cc(t,e),t.prototype.render=function(){return null},t.isService=!0,t}(e.PureComponent),Ec=vn.compile;yc={compile:function(t,n){return"string"===typeof t?Ec(t,n):function(n,i,o,r){var s,a=t,l=n;"object"===typeof a&&(a=t.template,l=w({},n,t.data||{})),s=r||document.createElement("div");var c=e.createElement(a,l),h=dc.createPortal(c,s);if(h.propName=o,i.portals?i.portals.push(h):i.portals=[h],!r)return[s]}}},vn.compile=yc.compile;var Sc,kc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tc=function(t){function n(e){var n=t.call(this,e)||this;return n.initRenderCalled=!1,n.checkInjectedModules=!0,n.immediateRender=!1,n.portals=[],n}return kc(n,t),n.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing)||this.isReactForeceUpdate)return e.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));t.prototype.render.call(this),this.initRenderCalled=!0},n}(hc);Sc=Tc,[vc,e.Component].forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(t){"isMounted"!==t&&"replaceState"!==t&&(Sc.prototype[t]=e.prototype[t])}))}));var xc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Lc="e-rtl",Pc="e-overlay",Dc="e-nav-right-arrow",Oc="e-nav-left-arrow",Mc="e-scroll-nav",Rc="e-scroll-device",Ac="e-scroll-overlay",Hc="e-scroll-right-overlay",Bc="e-scroll-left-overlay",Ic=function(e){function t(t,n){return e.call(this,t,n)||this}return xc(t,e),t.prototype.preRender=function(){this.browser=Ce.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=Ce.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=k("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(Lc)},t.prototype.render=function(){this.touchModule=new Vt(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),we.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(Rc),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){E(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,i=0,o=[].slice.call(n.children);i<o.length;i++){var r=o[i];e.appendChild(r)}t.appendChild(e),n.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(Rc);var n=He(".e-"+t.id+"_nav."+Mc,t),i=He("."+Ac,t);[].slice.call(i).forEach((function(e){Oe(e)}));for(var o=0,r=[].slice.call(this.scrollItems.children);o<r.length;o++){var s=r[o];t.appendChild(s)}this.uniqueId&&this.element.removeAttribute("id"),Oe(this.scrollEle),n.length>0&&(Oe(n[0]),E(n[1])||Oe(n[1])),we.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=He(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add(Pc):this.element.classList.remove(Pc),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),n=this.createElement("div",{className:Ac+" "+Hc}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),o=this.createElement("div",{id:t.concat("_right"),className:i}),r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});o.appendChild(r);var s=this.createElement("div",{className:Ac+" "+Bc});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(o),e.insertBefore(s,e.firstChild),this.eventBinding([o])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),i={role:"button",id:t.concat("_right"),"aria-label":"Scroll right"},o=this.createElement("div",{className:n,attrs:i});o.setAttribute("aria-disabled","false");var r=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),a={role:"button",id:t.concat("_left"),"aria-label":"Scroll left"},l=this.createElement("div",{className:s+" "+Pc,attrs:a});l.setAttribute("aria-disabled","true");var c=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});l.appendChild(c),o.appendChild(r),e.appendChild(o),e.insertBefore(l,e.firstChild),this.ieCheck&&(o.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([o,l])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new Vt(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),we.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,Mc)?n.firstElementChild:n;this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,n){var i=this.element,o=t.classList;o.contains(Mc)&&(o=t.querySelector(".e-nav-arrow").classList),this.contains(i,Lc)&&this.browserCheck&&(e=-e),!this.contains(i,Lc)||this.browserCheck||this.ieCheck?o.contains(Dc)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):o.contains(Oc)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var i=.5;!function o(){var r=Math.sin(i);r<=0?window.cancelAnimationFrame(r):("Left"===e.swipeDirection?n.scrollLeft+=t*r:"Right"===e.swipeDirection&&(n.scrollLeft-=t*r),i-=.5,window.requestAnimationFrame(o))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e},t.prototype.frameScrollRequest=function(e,t,n){var i=this;if(n)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(He("."+Ac,this.element)).forEach((function(t){e-=t.offsetWidth}));!function n(){var o,r;i.contains(i.element,Lc)&&i.browserCheck?(o=-e,r=-10):(o=e,r=10),o<10?window.cancelAnimationFrame(r):(i.scrollUpdating(r,t),e-=r,window.requestAnimationFrame(n))}()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,n=e.distanceX;this.ieCheck&&this.contains(this.element,Lc)&&(n=-n),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+n:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-n)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=(E(e)?t:e).querySelector(".e-nav-arrow");E(e)?je(n,[Dc],[Oc]):je(n,[Oc],[Dc])}else e&&t&&(e.classList.add(Pc),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(Pc),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,n=t.offsetWidth,i=(this.element,this.element.querySelector(".e-scroll-left-nav")),o=this.element.querySelector(".e-scroll-right-nav"),r=this.element.querySelector("."+Bc),s=this.element.querySelector("."+Hc),a=t.scrollLeft;if(a<=0&&(a=-a),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(r=this.element.querySelector("."+Hc),s=this.element.querySelector("."+Bc)),r.style.width=a<40?a+"px":"40px",t.scrollWidth-Math.ceil(n+a)<40?s.style.width=t.scrollWidth-Math.ceil(n+a)+"px":s.style.width="40px"),0===a)this.arrowDisabling(i,o);else if(Math.ceil(n+a+.1)>=t.scrollWidth)this.arrowDisabling(o,i);else{var l=this.element.querySelector(".e-scroll-nav.e-overlay");l&&(l.classList.remove(Pc),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(Lc):this.element.classList.remove(Lc)}}},Nc([et(null)],t.prototype,"scrollStep",void 0),t=Nc([ot],t)}(kt),Fc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jc=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zc="e-rtl",_c="e-overlay",Vc="e-nav-up-arrow",qc="e-nav-down-arrow",Uc="e-scroll-nav",Wc="e-scroll-device",Xc="e-scroll-up-overlay",Yc="e-scroll-down-overlay",Kc=function(e){function t(t,n){return e.call(this,t,n)||this}return Fc(t,e),t.prototype.preRender=function(){this.browser=Ce.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=Ce.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=k("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(zc)},t.prototype.render=function(){this.touchModule=new Vt(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),we.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(Wc),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),we.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){E(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=Se("div",{className:"e-vscroll-content"}),t=Se("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var n=this.element,i=0,o=[].slice.call(n.children);i<o.length;i++){var r=o[i];e.appendChild(r)}t.appendChild(e),n.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",Te([this.element],["e-vscroll",Wc]);var n=He(".e-"+t.id+"_nav."+Uc,t),i=He(".e-scroll-overlay",t);[].slice.call(i).forEach((function(e){Oe(e)}));for(var o=0,r=[].slice.call(this.scrollItems.children);o<r.length;o++){var s=r[o];t.appendChild(s)}this.uniqueId&&this.element.removeAttribute("id"),Oe(this.scrollEle),n.length>0&&(Oe(n[0]),E(n[1])||Oe(n[1])),we.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=He(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add(_c):this.element.classList.remove(_c),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),n=Se("div",{className:"e-scroll-overlay "+Yc}),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),o=Se("div",{id:t.concat("down"),className:i}),r=Se("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});o.appendChild(r);var s=Se("div",{className:"e-scroll-overlay "+Xc});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(o),e.insertBefore(s,e.firstChild),this.eventBinding([o])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),i=Se("div",{id:t.concat("_down"),className:n});i.setAttribute("aria-disabled","false");var o=Se("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),s=Se("div",{id:t.concat("_up"),className:r+" "+_c});s.setAttribute("aria-disabled","true");var a=Se("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});s.appendChild(a),i.appendChild(o),i.setAttribute("tabindex","0"),e.appendChild(i),e.insertBefore(s,e.firstChild),this.ieCheck&&(i.classList.add("e-ie-align"),s.classList.add("e-ie-align")),this.eventBinding([i,s])},t.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100)}},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new Vt(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),we.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,n=e.originalEvent.target;n=this.contains(n,Uc)?n.firstElementChild:n;this.timeout=window.setInterval((function(){t.eleScrolling(10,n,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,n){var i=t.classList;i.contains(Uc)&&(i=t.querySelector(".e-nav-arrow").classList),i.contains(qc)?this.frameScrollRequest(e,"add",n):i.contains(Vc)&&this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,n=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var i=.5;!function o(){var r=Math.sin(i);r<=0?window.cancelAnimationFrame(r):("Up"===e.swipeDirection?n.scrollTop+=t*r:"Down"===e.swipeDirection&&(n.scrollTop-=t*r),i-=.02,window.requestAnimationFrame(o))}()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,n){var i=this;if(n)this.scrollUpdating(e,t);else{this.customStep||[].slice.call(He(".e-scroll-overlay",this.element)).forEach((function(t){e-=t.offsetHeight}));!function n(){e<10?window.cancelAnimationFrame(10):(i.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(n))}()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,n=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+n:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-n)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var n=(E(e)?t:e).querySelector(".e-nav-arrow");E(e)?je(n,[qc],[Vc]):je(n,[Vc],[qc])}else e.classList.add(_c),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(_c),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,n=t.offsetHeight,i=this.element.querySelector(".e-scroll-up-nav"),o=this.element.querySelector(".e-scroll-down-nav"),r=this.element.querySelector("."+Xc),s=this.element.querySelector("."+Yc),a=t.scrollTop;if(a<=0&&(a=-a),this.isDevice&&(r.style.height=a<40?a+"px":"40px",t.scrollHeight-Math.ceil(n+a)<40?s.style.height=t.scrollHeight-Math.ceil(n+a)+"px":s.style.height="40px"),0===a)this.arrowDisabling(i,o);else if(Math.ceil(n+a+.1)>=t.scrollHeight)this.arrowDisabling(o,i);else{var l=this.element.querySelector(".e-scroll-nav.e-overlay");l&&(l.classList.remove(_c),l.setAttribute("aria-disabled","false"),l.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){switch(i[n]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(zc):this.element.classList.remove(zc)}}},jc([et(null)],t.prototype,"scrollStep",void 0),t=jc([ot],t)}(kt),Gc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Qc="e-vertical",Jc="e-toolbar-items",Zc="e-toolbar-item",eh="e-rtl",th="e-separator",nh="e-popup-up-icon",ih="e-popup-down-icon",oh="e-popup-open",rh="e-template",sh="e-overlay",ah="e-toolbar-text",lh="e-popup-text",ch="e-overflow-show",hh="e-overflow-hide",dh="e-hor-nav",ph="e-scroll-nav",uh="e-toolbar-center",mh="e-tbar-pos",fh="e-toolbar-pop",gh="e-toolbar-popup",vh="e-nav-active",yh="e-ignore",bh="e-popup-alone",Ch="e-hidden",wh="e-toolbar-multirow",Eh="e-multirow-pos",Sh="e-multirow-separator",kh="e-extended-separator",Th="e-extended-toolbar",xh="e-tbar-extended",Nh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gc(t,e),$c([et("")],t.prototype,"id",void 0),$c([et("")],t.prototype,"text",void 0),$c([et("auto")],t.prototype,"width",void 0),$c([et("")],t.prototype,"cssClass",void 0),$c([et(!1)],t.prototype,"showAlwaysInPopup",void 0),$c([et(!1)],t.prototype,"disabled",void 0),$c([et("")],t.prototype,"prefixIcon",void 0),$c([et("")],t.prototype,"suffixIcon",void 0),$c([et(!0)],t.prototype,"visible",void 0),$c([et("None")],t.prototype,"overflow",void 0),$c([et("")],t.prototype,"template",void 0),$c([et("Button")],t.prototype,"type",void 0),$c([et("Both")],t.prototype,"showTextOn",void 0),$c([et(null)],t.prototype,"htmlAttributes",void 0),$c([et("")],t.prototype,"tooltipText",void 0),$c([et("Left")],t.prototype,"align",void 0),$c([it()],t.prototype,"click",void 0),t}(yt),Lh=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.resizeContext=i.resize.bind(i),i.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},i}return Gc(t,e),t.prototype.destroy=function(){var t=this;(this.isReact||this.isAngular)&&this.clearTemplate();var n=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(n).forEach((function(e){E(e)||E(e.ej2_instances)||E(e.ej2_instances[0])||e.ej2_instances[0].isDestroyed||e.ej2_instances[0].destroy()})),this.unwireEvents(),this.tempId.forEach((function(e){E(t.element.querySelector(e))||(document.body.appendChild(t.element.querySelector(e)).style.display="none")})),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),Oe(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&Te([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach((function(e){return t.element.removeAttribute(e)})),e.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(Qc),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,eh)},t.prototype.wireEvents=function(){we.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new Bt(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),we.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(we.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!E(this.popObj)&&Ne(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){we.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),we.remove(document,"scroll",this.docEvent),we.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var t=Ie(e.target,".e-popup");this.popObj&&Ne(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,mh),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+Zc)).forEach((function(e){Oe(e)})),this.tbarAlign){var e=this.element.querySelector("."+Jc);[].slice.call(e.children).forEach((function(e){Oe(e)})),this.tbarAlign=!1,this.remove(e,mh)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,eh),this.destroyScroll()),this.remove(this.element,xh),this.remove(this.element,Th);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,wh),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,t){return e&&this.popObj&&Ne(this.popObj.element)?this.popObj.element.querySelector("."+Zc):this.element===t||e?this.element.querySelector(".e-toolbar-item:not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):Ie(t,"."+Zc)},t.prototype.keyHandling=function(e,t,n,i,o){var r,s,a=this.popObj,l=this.element,c={name:"FadeOut",duration:100},h="moveUp"===t.action?"previous":"next";switch(t.action){case"moveRight":if(this.isVertical)return;l===n?this.elementFocus(e):i||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;i||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var d=Ie(e,".e-popup"),p=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&p&&p.classList.contains("e-popup-open")&&(d="end"===t.action?p:null),d?Ne(this.popObj.element)&&(s=[].slice.call(d.children),r="home"===t.action?s[0]:s[s.length-1]):(s=this.element.querySelectorAll(".e-toolbar-items .e-toolbar-item:not(.e-separator)"),r="home"===t.action?s[0]:s[s.length-1]),r&&this.elementFocus(r)}break;case"moveUp":case"moveDown":if(this.isVertical)"moveUp"===t.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(a&&Ie(n,".e-popup")){var u=a.element,m=u.firstElementChild;if("previous"===h&&m===e||"next"===h&&u.lastElementChild===e)return;this.eleFocus(e,h)}else"moveDown"===t.action&&a&&Ne(a.element)&&this.elementFocus(e);break;case"tab":if(!o&&!i){var f=e.firstElementChild;l===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(f),f.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(c);break;case"popupOpen":if(!i)return;a&&!Ne(a.element)?(a.element.style.top=l.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(c)}},t.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains(sh)){e.preventDefault();var n=t.classList.contains(dh),i=t.classList.contains(ph),o=this.clstElement(n,t);(o||i)&&this.keyHandling(o,e,t,n,i)}},t.prototype.disable=function(e){var t=this.element;e?t.classList.add(sh):t.classList.remove(sh),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(Ne(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(th)||e.classList.contains(sh)||e.getAttribute("disabled")||e.classList.contains(Ch)||!Ne(e)},t.prototype.eleFocus=function(e,t){var n=Object(e)[t+"ElementSibling"];if(n){if(this.eleContains(n))return void this.eleFocus(n,t);this.elementFocus(n)}else if(this.tbarAlign){var i=Object(e.parentElement)[t+"ElementSibling"];if(E(i)||0!==i.children.length||(i=Object(i)[t+"ElementSibling"]),!E(i)&&i.children.length>0)if("next"===t){var o=i.querySelector("."+Zc);this.eleContains(o)?this.eleFocus(o,t):(o.firstElementChild.focus(),this.activeEleSwitch(o))}else{o=i.lastElementChild;this.eleContains(o)?this.eleFocus(o,t):this.elementFocus(o)}}},t.prototype.clickHandler=function(e){var t,n=this,i=e.target,o=this.element,r=!E(Ie(i,".e-toolbar-pop")),s=i.classList,a=Ie(i,".e-hor-nav");a||(a=i),o.children[0].classList.contains("e-hscroll")||o.children[0].classList.contains("e-vscroll")||!s.contains(dh)||(s=i.querySelector(".e-icons").classList),(s.contains(nh)||s.contains(ih))&&this.popupClickHandler(o,a,eh);var l=Ie(e.target,"."+Zc);if(!E(l)&&!l.classList.contains(sh)||a.classList.contains(dh)){if(l)t=this.items[this.tbarEle.indexOf(l)];var c={originalEvent:e,item:t};t&&!E(t.click)&&this.trigger("items["+this.tbarEle.indexOf(l)+"].click",c),c.cancel||this.trigger("clicked",c,(function(e){!E(n.popObj)&&r&&!e.cancel&&"Popup"===n.overflowMode&&e.item&&"Input"!==e.item.type&&n.popObj.hide({name:"FadeOut",duration:100})}))}},t.prototype.popupClickHandler=function(e,t,n){var i=this.popObj;Ne(i.element)?(t.classList.remove(vh),i.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(i.enableRtl=!0,i.position={X:"left",Y:"top"}),0!==i.offsetX||e.classList.contains(n)||(i.enableRtl=!1,i.position={X:"right",Y:"top"}),i.dataBind(),i.refreshPosition(),i.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="0px"),t.classList.add(vh),i.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=L(this.width),t=L(this.height);"msie"===Ce.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||Fe(this.element,{height:t}),Fe(this.element,{width:e});var n={role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};Re(this.element,n),this.cssClass&&ke([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,t){var n,i;this.tbarEle||(this.tbarEle=[]);for(var o=0;o<e.length;o++)n=this.renderSubComponent(e[o],o),-1===this.tbarEle.indexOf(n)&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(e[o],t,o),(i=t.querySelector(".e-toolbar-"+e[o].align.toLowerCase()))?(e[o].showAlwaysInPopup&&"Show"!==e[o].overflow||this.tbarAlgEle[(e[o].align+"s").toLowerCase()].push(n),i.appendChild(n)):t.appendChild(n);if(this.isReact){this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates()}},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(Qc),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(Qc),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),Fe(this.element,{height:L(this.height),width:L(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+Jc+" ."+uh).removeAttribute("style"),this.isVertical?this.scrollModule=new Kc({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):this.scrollModule=new Ic({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,mh),Fe(this.element,{overflow:"hidden"}))},t.prototype.itemWidthCal=function(e){var t,n=this,i=0;return[].slice.call(He("."+Zc,e)).forEach((function(e){Ne(e)&&(t=window.getComputedStyle(e),i+=n.isVertical?e.offsetHeight:e.offsetWidth,i+=parseFloat(n.isVertical?t.marginTop:t.marginRight),i+=parseFloat(n.isVertical?t.marginBottom:t.marginLeft))})),i},t.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},t.prototype.checkOverflow=function(e,t){if(E(e)||E(t)||!Ne(e))return!1;var n=this.isVertical?e.offsetHeight:e.offsetWidth,i=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||n===i)&&(i=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var o=e.querySelector(".e-hor-nav"),r=e.querySelector(".e-scroll-nav"),s=0;return o?s=this.isVertical?o.offsetHeight:o.offsetWidth:r&&(s=this.isVertical?2*r.offsetHeight:2*r.offsetWidth),i>n-s},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,mh),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+Jc),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===Ce.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":E(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(Jc)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,wh),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,Eh)),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==Ce.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,Th),(this.checkOverflow(e,t)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(He("."+Jc+" ."+Zc,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"),this.element.querySelector(".e-hor-nav").setAttribute("role","list")},t.prototype.separator=function(){var e=this.element,t=[].slice.call(e.querySelectorAll(".e-separator")),n=e.querySelector(".e-multirow-separator"),i=e.querySelector(".e-extended-separator"),o="MultiRow"===this.overflowMode?n:i;null!==o&&("MultiRow"===this.overflowMode?o.classList.remove(Sh):"Extended"===this.overflowMode&&o.classList.remove(kh));for(var r=0;r<=t.length-1;r++)t[r].offsetLeft<30&&0!==t[r].offsetLeft&&("MultiRow"===this.overflowMode?t[r].classList.add(Sh):"Extended"===this.overflowMode&&t[r].classList.add(kh))},t.prototype.createPopupEle=function(e,t){var n=e.querySelector(".e-hor-nav"),i=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector(".e-hor-nav");var o=i?n.offsetHeight:n.offsetWidth,r=(i?e.offsetHeight:e.offsetWidth)-o;this.element.classList.remove("e-rtl"),Fe(this.element,{direction:"initial"}),this.checkPriority(e,t,r,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,t,n,i,o){var r=e.element,s=[].slice.call(He(".e-toolbar-popup",r.querySelector("."+Jc))),a=He(".e-overflow-show",n),l=0,c=0;s.forEach((function(r,s){a=He(".e-overflow-show",n),r.classList.contains(ch)&&a.length>0?e.tbResize&&a.length>s?(n.insertBefore(r,a[s]),++c):(n.insertBefore(r,n.children[a.length]),++c):r.classList.contains(ch)||e.tbResize&&r.classList.contains(hh)&&n.children.length>0&&0===a.length?(n.insertBefore(r,n.firstChild),++c):r.classList.contains(hh)?t.push(r):e.tbResize?(n.insertBefore(r,n.childNodes[l+c]),++l):n.appendChild(r),r.classList.contains(th)?Fe(r,{display:"",height:o+"px"}):Fe(r,{display:"",height:i+"px"})})),t.forEach((function(e){n.appendChild(e)}));for(var h=He("."+Zc,r.querySelector("."+Jc)),d=h.length-1;d>=0;d--){var p=h[d];if(!p.classList.contains(th)||"Extended"===this.overflowMode)break;Fe(p,{display:"none"})}},t.prototype.createPopup=function(){var e,t,n=this.element;"Extended"===this.overflowMode&&(t=n.querySelector(".e-separator:not(.e-toolbar-popup)"),e="auto"===n.style.height||""===n.style.height?null:t.offsetHeight);var i,o=n.querySelector(".e-toolbar-item:not(.e-separator):not(.e-toolbar-popup)"),r="auto"===n.style.height||""===n.style.height?null:o&&o.offsetHeight;if(Ae("#"+n.id+"_popup."+fh,n))i=Ae("#"+n.id+"_popup."+fh,n);else{var s=this.createElement("div",{id:n.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),a=this.createElement("div",{id:n.id+"_popup",className:fh});i="Extended"===this.overflowMode?s:a}this.pushingPoppedEle(this,[],i,r,e),this.popupInit(n,i)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,t){if(this.popObj){var n=this.popObj.element;Fe(n,{maxHeight:"",display:"block"}),Fe(n,{maxHeight:n.offsetHeight+"px",display:""})}else{e.appendChild(t),Fe(this.element,{overflow:""});var i=window.getComputedStyle(this.element),o=new vi(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(o.appendTo(t),"Extended"===this.overflowMode&&(o.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),o.offsetX=0),we.add(document,"scroll",this.docEvent.bind(this)),we.add(document,"click ",this.docEvent.bind(this)),o.element.style.maxHeight=o.element.offsetHeight+"px",this.isVertical&&(o.element.style.visibility="hidden"),this.isExtendedOpen){var r=this.element.querySelector(".e-hor-nav");r.classList.add(vh),je(r.firstElementChild,[nh],[ih]),this.element.querySelector(".e-toolbar-extended").classList.add(oh)}else o.hide();this.popObj=o,this.element.setAttribute("aria-haspopup","true")}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,xh):this.remove(this.element,xh))},t.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var n=this.popObj.element,i=this.popObj.element.parentElement,o=i.querySelector(".e-hor-nav");Fe(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var r=n.offsetTop+n.offsetHeight+Rn(i).top,s=o.firstElementChild;o.classList.add(vh),je(s,[nh],[ih]),this.tbarPopupHandler(!0);var a=E(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+a<r&&this.element.offsetTop<n.offsetHeight){var l=n.offsetHeight-(r-window.innerHeight-a+5);t.height=l+"px";for(var c=0;c<=n.childElementCount;c++){var h=n.children[c];if(h.offsetTop+h.offsetHeight>l){l=h.offsetTop;break}}Fe(t.element,{maxHeight:l+"px"})}else if(this.isVertical){var d=this.element.getBoundingClientRect();Fe(t.element,{maxHeight:d.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){var p=n.getBoundingClientRect();p.right>document.documentElement.clientWidth&&p.width>i.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}},t.prototype.popupClose=function(e){var t=this.element.querySelector(".e-hor-nav"),n=t.firstElementChild;t.classList.remove(vh),je(n,[ih],[nh]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,t,n,i){for(var o,r=this.popupPriCount>0,s=n,a=0,l=0,c=0,h=function(e,t){var n=!1;return t.forEach((function(t){e.classList.contains(t)&&(n=!0)})),n},d=t.length-1;d>=0;d--){var p=void 0,u=window.getComputedStyle(t[d]);this.isVertical?(p=parseFloat(u.marginTop),p+=parseFloat(u.marginBottom)):(p=parseFloat(u.marginRight),p+=parseFloat(u.marginLeft));var m=t[d]===this.tbarEle[0];m&&(this.tbarEleMrgn=p),o=this.isVertical?t[d].offsetHeight:t[d].offsetWidth;var f=m?o+p:o;if(h(t[d],[bh])&&r&&(t[d].classList.add(gh),this.isVertical?Fe(t[d],{display:"none",minHeight:f+"px"}):Fe(t[d],{display:"none",minWidth:f+"px"}),c++),this.isVertical?t[d].offsetTop+t[d].offsetHeight+p>n:t[d].offsetLeft+t[d].offsetWidth+p>n){if(t[d].classList.contains(th)){if("Extended"===this.overflowMode){if(l===c)h(g=t[d],[th,yh])&&(t[d].classList.add(gh),c++);l++}else if("Popup"===this.overflowMode){var g;if(a>0&&l===c)h(g=t[d+l+(a-1)],[th,yh])&&Fe(g,{display:"none"});a++,l=0,c=0}}else l++;t[d].classList.contains(ch)&&i||h(t[d],[th,yh])?n-=(this.isVertical?t[d].offsetHeight:t[d].offsetWidth)+p:(t[d].classList.add(gh),this.isVertical?Fe(t[d],{display:"none",minHeight:f+"px"}):Fe(t[d],{display:"none",minWidth:f+"px"}),c++)}}if(i){var v=He(".e-toolbar-item:not(.e-toolbar-popup)",this.element);this.checkPriority(e,v,s,!1)}},t.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),n="e-"+e.id.concat("_nav e-hor-nav");n="Extended"===this.overflowMode?n+" e-expended-nav":n;var i=this.createElement("div",{id:t,className:n});"msie"!==Ce.info.name&&"edge"!==Ce.info.name||i.classList.add("e-ie-align");var o=this.createElement("div",{className:ih+" e-icons"});i.appendChild(o),i.setAttribute("tabindex","0"),i.setAttribute("role","list"),e.appendChild(i)},t.prototype.tbarPriRef=function(e,t,n,i,o,r,s,a){var l=a,c=He(".e-toolbar-popup:not(.e-overflow-show)",this.popObj.element).length,h=function(e,t){return e.classList.contains(t)};if(0===He(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var d=e.children[t-(t-n)-1],p=!E(d)&&h(d,yh);if(!E(d)&&h(d,th)&&!Ne(d)||p){d.style.display="inherit";var u=d.offsetWidth+2*parseFloat(window.getComputedStyle(d).marginRight),m=d.previousElementSibling;r+u<s||o?(e.insertBefore(i,e.children[t+l-(t-n)]),E(m)||(m.style.display="")):m.classList.contains(th)&&(m.style.display="none"),d.style.display=""}else e.insertBefore(i,e.children[t+l-(t-n)])}else e.insertBefore(i,e.children[t+l-c])},t.prototype.popupRefresh=function(e,t){var n=this,i=this.element,o=this.isVertical,r=i.querySelector("."+Jc),s=i.querySelector(".e-hor-nav");if(!E(s)){var a;r.removeAttribute("style"),e.style.display="block",a=o?i.offsetHeight-(s.offsetHeight+r.offsetHeight):i.offsetWidth-(s.offsetWidth+r.offsetWidth);var l=0;[].slice.call(e.children).forEach((function(e){l+=n.popupEleWidth(e),Fe(e,{position:""})})),a+(o?s.offsetHeight:s.offsetWidth)>l&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(a,e,t),e.style.display="",0===e.children.length&&s&&this.popObj&&(Oe(s),s=null,this.popObj.destroy(),Oe(this.popObj.element),this.popObj=null,i.setAttribute("aria-haspopup","false"))}},t.prototype.ignoreEleFetch=function(e,t){var n=[].slice.call(t.querySelectorAll(".e-ignore")),i=[],o=0;return n.length>0?(n.forEach((function(e){i.push([].slice.call(t.children).indexOf(e))})),i.forEach((function(t){t<=e&&o++})),o):0},t.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var n=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var i=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,o=e.querySelector("."+Jc).offsetWidth;return t.style.removeProperty("display"),i>n+o},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,n=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(lh)){var i=e.children[0];!E(n)&&e.classList.contains(lh)?n.style.display="none":!E(n)&&e.classList.contains(ah)&&(n.style.display="block"),i.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),i.style.minWidth="",i.style.minHeight="",E(n)||(n.style.display="")}return t},t.prototype.popupEleRefresh=function(e,t,n){for(var i,o,r=this.popupPriCount>0,s=this.tbarEle,a=this.element.querySelector("."+Jc),l=0,c=function(t){if(t.classList.contains(bh)&&r&&!n)return"continue";var c=h.popupEleWidth(t);if(t===h.tbarEle[0]&&(c+=h.tbarEleMrgn),t.style.position="",!(c<e||n))return"break";if(Fe(t,{minWidth:"",height:"",minHeight:""}),t.classList.contains(hh)||t.classList.remove(gh),o=h.tbarEle.indexOf(t),h.tbarAlign){var d=h.items[o].align;o=h.tbarAlgEle[(d+"s").toLowerCase()].indexOf(t),s=h.tbarAlgEle[(d+"s").toLowerCase()],a=h.element.querySelector("."+Jc+" .e-toolbar-"+d.toLowerCase())}var p=0;"Extended"!==h.overflowMode&&s.slice(0,o).forEach((function(t){(t.classList.contains(ch)||t.classList.contains(th))&&(t.classList.contains(th)&&(t.style.display="",e-=t.offsetWidth),p++)})),l=h.ignoreEleFetch(o,a),t.classList.contains(ch)?(h.tbarPriRef(a,o,p,t,n,c,e,l),e-=t.offsetWidth):0===o?(a.insertBefore(t,a.firstChild),e-=t.offsetWidth):(i=He(".e-overflow-show",h.popObj.element).length,a.insertBefore(t,a.children[o+l-i]),e-=t.offsetWidth),t.style.height=""},h=this,d=0,p=[].slice.call(t.children);d<p.length;d++){if("break"===c(p[d]))break}this.checkOverflow(this.element,this.element.getElementsByClassName(Jc)[0])&&!n&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+Jc);if(!E(e)&&e.classList.contains(mh)){this.remove(e,mh);var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+Jc);this.add(e,mh),this.itemPositioning()},t.prototype.itemPositioning=function(){var e,t=this.element.querySelector("."+Jc);if(!E(t)&&t.classList.contains(mh)){var n,i=this.element.querySelector(".e-hor-nav");if(this.scrollModule){var o=this.isVertical?"e-vscroll-content":"e-hscroll-content";n=[].slice.call(t.querySelector("."+o).children)}else n=[].slice.call(t.childNodes);e=this.isVertical?n[0].offsetHeight+n[2].offsetHeight:n[0].offsetWidth+n[2].offsetWidth;var r=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){r-=this.isVertical?i.offsetHeight:i.offsetWidth;var s=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";n[2].removeAttribute("style"),this.isVertical?this.enableRtl?n[2].style.top=s:n[2].style.bottom=s:this.enableRtl?n[2].style.left=s:n[2].style.right=s}if(!(r<=e)){var a=(r-e-(this.isVertical?n[1].offsetHeight:n[1].offsetWidth))/2;n[1].removeAttribute("style");var l=(this.isVertical?n[0].offsetHeight:n[0].offsetWidth)+a+"px";this.isVertical?this.enableRtl?n[1].style.marginBottom=l:n[1].style.marginTop=l:this.enableRtl?n[1].style.marginRight=l:n[1].style.marginLeft=l}}},t.prototype.tbarItemAlign=function(e,t,n){var i=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var o=[];if(o.push(this.createElement("div",{className:"e-toolbar-left"})),o.push(this.createElement("div",{className:uh})),o.push(this.createElement("div",{className:"e-toolbar-right"})),0===n&&"Left"!==e.align)o.forEach((function(e){t.appendChild(e)})),this.tbarAlign=!0,this.add(t,mh);else if("Left"!==e.align){var r=t.childNodes,s=o[0];[].slice.call(r).forEach((function(e){i.tbarAlgEle.lefts.push(e),s.appendChild(e)})),t.appendChild(s),t.appendChild(o[1]),t.appendChild(o[2]),this.tbarAlign=!0,this.add(t,mh)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,Jc),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach((function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),t.setAttribute("aria-disabled","false"),e.add(t,Zc))}))},t.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var n=void 0;e&&e.children.length>0&&(n=e.querySelector("."+Jc)),n||(n=this.createElement("div",{className:Jc})),this.itemsAlign(t,n),e.appendChild(n)}},t.prototype.setAttr=function(e,t){for(var n,i=Object.keys(e),o=0;o<i.length;o++)"class"===(n=i[o])?this.add(t,e[n]):t.setAttribute(n,e[n])},t.prototype.enableItems=function(e,t){var n,i=e,o=i.length;E(t)&&(t=!0);var r=function(e,t){e?(t.classList.remove(sh),t.setAttribute("aria-disabled","false")):(t.classList.add(sh),t.setAttribute("aria-disabled","true"))};if(!E(o)&&o>=1){for(var s=0,a=[].slice.call(i);s<o;s++){var l=a[s];if("number"===typeof l){if(E(n=this.getElementByIndex(l)))return;i[s]=n}else n=l;r(t,n)}t?Te(i,sh):ke(i,sh)}else{if("number"===typeof i){if(E(n=this.getElementByIndex(i)))return}else n=e;r(t,n)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[e]?this.tbarEle[e]:null},t.prototype.addItems=function(e,t){var n;this.extendedOpen();var i=this.element.querySelector("."+Jc);if(E(i))this.itemsRerender(e);else{var o,r="Left";E(t)&&(t=0),e.forEach((function(e){E(e.align)||"Left"===e.align||"Left"!==r||(r=e.align)}));for(var s=0,a=e;s<a.length;s++){var l=a[s];if(E(l.type)&&(l.type="Button"),n=He("."+Zc,this.element),l.align=r,o=this.renderSubComponent(l,t),this.tbarEle.length>=t&&n.length>=0){E(this.scrollModule)&&this.destroyMode();var c="L"===l.align[0]?0:"C"===l.align[0]?1:2,h=void 0;this.tbarAlign||"Left"===r?this.tbarAlign?((h=Ie(n[0],"."+Jc).children[c]).insertBefore(o,h.children[t]),this.tbarAlgEle[(l.align+"s").toLowerCase()].splice(t,0,o),this.refreshPositioning()):0===n.length?(n=He("."+Jc,this.element))[0].appendChild(o):n[0].parentNode.insertBefore(o,n[t]):(this.tbarItemAlign(l,i,1),this.tbarAlign=!0,(h=Ie(n[0],"."+Jc).children[c]).appendChild(o),this.tbarAlgEle[(l.align+"s").toLowerCase()].push(o),this.refreshPositioning()),this.items.splice(t,0,l),l.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,o),t++,this.offsetWid=i.offsetWidth}}i.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}},t.prototype.removeItems=function(e){var t,n=e,i=[].slice.call(He("."+Zc,this.element));if("number"===typeof n)t=parseInt(e.toString(),10),this.removeItemByIndex(t,i);else if(n&&n.length>1)for(var o=0,r=[].slice.call(n);o<r.length;o++){var s=r[o];t=this.tbarEle.indexOf(s),this.removeItemByIndex(t,i),i=He("."+Zc,this.element)}else{s=n&&n.length&&1===n.length?n[0]:e;t=i.indexOf(s),this.removeItemByIndex(t,i)}this.resize()},t.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[e]&&t[e]){var n=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){var i=this.tbarAlgEle[(this.items[n].align+"s").toLowerCase()].indexOf(this.tbarEle[n]);this.tbarAlgEle[(this.items[n].align+"s").toLowerCase()].splice(i,1)}this.isReact&&this.clearTemplate();var o=t[e].querySelector(".e-control.e-btn");E(o)||E(o.ej2_instances[0])||o.ej2_instances[0].isDestroyed||o.ej2_instances[0].destroy(),Oe(t[e]),this.items.splice(n,1),this.tbarEle.splice(n,1)}},t.prototype.templateRender=function(e,t,n,i){var o,r=n.type,s=e;if("object"===typeof e&&(o="function"===typeof s.appendTo),"string"!==typeof e&&o){if("Input"===r){h=this.createElement("input");n.id?h.id=n.id:h.id=k("tbr-ipt"),t.appendChild(h),s.appendTo(h)}}else{var a,l=void 0,c=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);a="string"===typeof e?e.trim():e;try{if("object"!==typeof e||E(e.tagName))if("string"===typeof e&&c.test(a))t.innerHTML=a;else if(document.querySelectorAll(a).length){var h,d=(h=document.querySelector(a)).outerHTML.trim();t.appendChild(h),h.style.display="",E(d)||this.tempId.push(a)}else l=gn(a);else t.appendChild(e)}catch(u){l=gn(a)}var p=void 0;if(!E(l))p=l({},this,"template",this.element.id+i+"_template",this.isStringTemplate);!E(p)&&p.length>0&&[].slice.call(p).forEach((function(e){E(e.tagName)||(e.style.display=""),t.appendChild(e)}))}this.add(t,rh),this.tbarEle.push(t)},t.prototype.buttonRendering=function(e,t){var n=this.createElement("button",{className:"e-tbar-btn"});n.setAttribute("type","button");var i,o,r=e.text;e.id?n.id=e.id:n.id=k("e-tbr-btn");var s=this.createElement("span",{className:"e-tbar-btn-text"});r?(s.innerHTML=this.enableHtmlSanitizer?wn.sanitize(r):r,n.appendChild(s),n.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(i=e.prefixIcon+" e-icons",o="Left"):(i=e.suffixIcon+" e-icons",o="Right"));var a=new Za({iconCss:i,iconPosition:o});return a.createElement=this.createElement,a.appendTo(n),e.width&&Fe(n,{width:L(e.width)}),n},t.prototype.renderSubComponent=function(e,t){var n,i=this.createElement("div",{className:Zc});i.setAttribute("aria-disabled","false");var o=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?wn.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,i),e.tooltipText&&i.setAttribute("title",o.textContent),e.cssClass&&(i.className=i.className+" "+e.cssClass),e.template)this.templateRender(e.template,i,e,t);else switch(e.type){case"Button":(n=this.buttonRendering(e,i)).setAttribute("tabindex","-1"),n.setAttribute("aria-label",e.text||e.tooltipText),i.appendChild(n),i.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(i,th)}if(e.showTextOn){var r=e.showTextOn;"Toolbar"===r?(this.add(i,ah),this.add(i,"e-tbtn-align")):"Overflow"===r&&this.add(i,lh)}if(e.overflow){var s=e.overflow;"Show"===s?this.add(i,ch):"Hide"===s&&(i.classList.contains(th)||this.add(i,hh))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!i.classList.contains(th)&&(this.add(i,bh),this.popupPriCount++),e.disabled&&this.add(i,sh),!1===e.visible&&this.add(i,Ch),i},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){E(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,E(this.trgtEle)&&!e.parentElement.classList.contains(rh)?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(Jc)[0]);if(!t){this.destroyScroll();var n=e.querySelector("."+Jc);E(n)||(this.remove(n,Eh),this.tbarAlign&&this.add(n,mh))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var i=window.getComputedStyle(this.element);this.popObj.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector(".e-hscroll-bar")&&(this.scrollStep=this.element.querySelector(".e-hscroll-bar").offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.extendedOpen=function(){var e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(oh))},t.prototype.onPropertyChanged=function(e,t){var n=this.element,i=n.offsetWidth;this.extendedOpen();for(var o=0,r=Object.keys(e);o<r.length;o++){switch(r[o]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else for(var s=Object.keys(e.items),a=0;a<s.length;a++){var l=parseInt(Object.keys(e.items)[a],10),c=Object.keys(e.items[l])[0],h=Object(e.items[l])[c];if("function"!==typeof h){if(this.tbarAlign||"align"===c){this.refresh(),this.trigger("created");break}var d="showAlwaysInPopup"===c&&!h,p="overflow"===c&&0!==this.popupPriCount;(d||this.items[l].showAlwaysInPopup&&p)&&--this.popupPriCount,E(this.scrollModule)&&this.destroyMode();var u=[].slice.call(He("."+Jc+" ."+Zc,n));this.isReact&&this.clearTemplate(),Oe(u[l]),this.tbarEle.splice(l,1),this.addItems([this.items[l]],l),this.items.splice(l,1),this.items[l].template&&this.tbarEle.splice(this.items.length,1)}}break;case"width":Fe(n,{width:L(e.width)}),this.renderOverflowMode(),this.popObj&&i<n.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":Fe(this.element,{height:L(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,eh),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,eh):this.remove(n,eh),E(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,eh):this.remove(this.scrollModule.element,eh)),E(this.popObj)||(e.enableRtl?this.add(this.popObj.element,eh):this.remove(this.popObj.element,eh)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&Te([this.element],t.cssClass.split(" ")),e.cssClass&&ke([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}},t.prototype.hideItem=function(e,t){var n,i,o="object"===typeof e,r=e,s=[].slice.call(He("."+Zc,this.element));if(o)i=e;else if(this.tbarEle[r]){i=[].slice.call(He("."+Zc,this.element))[r]}if(i){if(t?i.classList.add(Ch):i.classList.remove(Ch),t&&E(this.element.getAttribute("tabindex"))&&!i.classList.contains(th)){if(E(i.firstElementChild.getAttribute("tabindex"))){i.firstElementChild.setAttribute("tabindex","-1");var a=[].slice.call(He("."+Zc,this.element));o&&(r=a.indexOf(i));for(var l=a[++r];l;){if(!this.eleContains(l)){l.firstElementChild.removeAttribute("tabindex");break}l=a[++r]}}}else if(E(this.element.getAttribute("tabindex"))&&!i.classList.contains(th))for(var c=!1,h=!1,d=s[n=0];d;)if(d.classList.contains(th))d=s[++n];else if(E(d.firstElementChild.getAttribute("tabindex")))d.firstElementChild.setAttribute("tabindex","-1"),c=!0;else{if(c&&h)break;this.eleContains(d)||(d.firstElementChild.removeAttribute("tabindex"),h=!0),d=s[++n]}this.refreshOverflow()}},$c([nt([],Nh)],t.prototype,"items",void 0),$c([et("auto")],t.prototype,"width",void 0),$c([et("auto")],t.prototype,"height",void 0),$c([et("")],t.prototype,"cssClass",void 0),$c([et("Scrollable")],t.prototype,"overflowMode",void 0),$c([et()],t.prototype,"scrollStep",void 0),$c([et(!0)],t.prototype,"enableCollision",void 0),$c([et(!0)],t.prototype,"enableHtmlSanitizer",void 0),$c([et(!0)],t.prototype,"allowKeyboard",void 0),$c([it()],t.prototype,"clicked",void 0),$c([it()],t.prototype,"created",void 0),$c([it()],t.prototype,"destroyed",void 0),$c([it()],t.prototype,"beforeCreate",void 0),t=$c([ot],t)}(kt),Ph=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};function Oh(e,t){for(var n=w({},e),i=0,o=Object.keys(n);i<o.length;i++){var r=o[i];t.indexOf(r)<0&&g(n,r)}return n}function Mh(e,t){var n=40===t?0:e.childElementCount-1,i=n,o=e.querySelector(".e-selected");o&&o.classList.remove("e-selected");for(var r=0,s=e.children.length;r<s;r++)e.children[r].classList.contains("e-focused")&&(i=r,e.children[r].classList.remove("e-focused"),40===t?i++:i--,i===(40===t?e.childElementCount:-1)&&(i=n));-1!==(i=Rh(e,e.children[i],i,t))&&(ke([e.children[i]],"e-focused"),e.children[i].focus())}function Rh(e,t,n,i,o){if(void 0===o&&(o=0),(t.classList.contains("e-separator")||t.classList.contains("e-disabled"))&&(n===(40===i?e.childElementCount-1:0)?n=40===i?0:e.childElementCount-1:40===i?n++:n--),(t=e.children[n]).classList.contains("e-separator")||t.classList.contains("e-disabled")){if(++o===e.childElementCount)return-1;n=Rh(e,t,n,i,o)}return n}var Ah,Hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),Dh([et("")],t.prototype,"iconCss",void 0),Dh([et("")],t.prototype,"id",void 0),Dh([et(!1)],t.prototype,"separator",void 0),Dh([et("")],t.prototype,"text",void 0),Dh([et("")],t.prototype,"url",void 0),Dh([et(!1)],t.prototype,"disabled",void 0),t}(yt),Bh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ih=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Fh="e-menu-icon",jh="e-item",zh="e-dropdown-popup",_h="e-separator",Vh="e-vertical",qh=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isPopupCreated=!0,i}return Bh(t,e),t.prototype.preRender=function(){},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.closePopup()},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(e,t){for(var n,i=this.items.length,o=0,r=this.items.length;o<r;o++)if(t===this.items[o].text){i=o;break}for(var s=e.length-1;s>=0;s--)n=new Hh(this,"items",e[s],!0),this.items.splice(i,0,n);this.canOpen()||this.createItems()},t.prototype.removeItems=function(e,t){for(var n=!1,i=0,o=e.length;i<o;i++)for(var r=0,s=this.items.length;r<s;r++)if(e[i]===(t?this.items[r].id:this.items[r].text)){this.items.splice(r,1),n=!0;break}n&&this.getULElement()&&this.createItems()},t.prototype.createPopup=function(){var e,t=this.createElement("div",{className:zh,id:this.element.id+"-popup"});document.body.appendChild(t),this.dropDown=new vi(t,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),Re(this.element,((e={})["aria-haspopup"]=this.items.length||this.target?"true":"false",e["aria-expanded"]="false",e["aria-owns"]=this.getPopUpElement().id,e.type="button",e["aria-label"]=this.element.textContent+" dropdownbutton",e)),this.cssClass&&ke([t],this.cssClass.split(" ")),this.isPopupCreated=!0},t.prototype.getTargetElement=function(){return"string"===typeof this.target?Ae(this.target):this.target},t.prototype.createItems=function(e){var t,n,i,o,r=this.items,s=this.hasIcon(this.items,"iconCss"),a=this.getULElement();a?a.innerHTML="":a=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var l=0;l<r.length;l++){var c=(n=r[l]).text;i=this.createElement("li",{className:n.separator?jh+" "+_h:jh,attrs:{role:"menuItem",tabindex:"-1"},id:n.id?n.id:k("e-"+this.getModuleName()+"-item")}),this.enableHtmlSanitizer?i.textContent=n.url?"":c:i.innerHTML=n.url?"":c,n.url&&(i.appendChild(this.createAnchor(n)),i.classList.add("e-url")),n.iconCss?(t=this.createElement("span",{className:Fh+" "+n.iconCss}),n.url?i.childNodes[0].appendChild(t):i.insertBefore(t,i.childNodes[0])):s&&!n.separator&&i.classList.add("e-blank-icon"),n.disabled&&i.classList.add("e-disabled"),o={item:n,element:i},this.trigger("beforeItemRender",o),a.appendChild(i)}e&&this.getPopUpElement().appendChild(a),s&&function(e){var t=[].slice.call(e.getElementsByClassName("e-blank-icon"));if(t.length){var n=e.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(!E(n)){n.classList.contains("e-url")&&(n=n.querySelector(".e-menu-url"));var i,o=n.querySelector(".e-menu-icon"),r=e.classList.contains("e-rtl");i=r?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};var s=parseInt(getComputedStyle(o).fontSize,10)+parseInt(getComputedStyle(o)[i.margin],10)+parseInt(getComputedStyle(n).paddingLeft,10)+"px";t.forEach((function(e){e.classList.contains("e-url")?e.querySelector(".e-menu-url").style[i.padding]=s:e.style[i.padding]=s}))}}}(this.getPopUpElement())},t.prototype.hasIcon=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n][t])return!0;return!1},t.prototype.createAnchor=function(e){var t=this.enableHtmlSanitizer?wn.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})},t.prototype.initialize=function(){this.button=new Za({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=k("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.target&&!this.isColorPicker()||!this.createPopupOnClick?this.createPopup():this.isPopupCreated=!1},t.prototype.isColorPicker=function(){if(!this.element)return!1;var e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))},t.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(Vh)>-1?"bottom":"right")+" e-caret"}))},t.prototype.setActiveElem=function(e){this.activeElem=e},t.prototype.getModuleName=function(){return"dropdown-btn"},t.prototype.canOpen=function(){var e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e},t.prototype.destroy=function(){var t,n=this;(e.prototype.destroy.call(this),"dropdown-btn"===this.getModuleName())&&(this.element.querySelector("span.e-caret")&&Oe(this.element.querySelector("span.e-caret")),this.cssClass&&(t=this.cssClass.split(" ")),this.button.destroy(),t&&Te([this.element],t),Te(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach((function(e){n.element.removeAttribute(e)})),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents())},t.prototype.destroyPopup=function(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){var e=document.getElementById(this.getPopUpElement().id);e&&(Te([e],["e-popup-open","e-popup-close"]),Oe(e))}we.remove(this.getPopUpElement(),"click",this.clickHandler),we.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&(this.dropDown=void 0)}this.isPopupCreated=!1},t.prototype.getPopUpElement=function(){var e=null;return this.dropDown&&(e=this.dropDown.element),e},t.prototype.getULElement=function(){var e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e},t.prototype.wireEvents=function(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||we.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),we.add(this.element,"click",this.clickHandler,this),we.add(this.element,"keydown",this.keyBoardHandler,this)},t.prototype.popupWireEvents=function(){var e=this.getPopUpElement();this.createPopupOnClick&&we.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&(we.add(e,"click",this.clickHandler,this),we.add(e,"keydown",this.keyBoardHandler,this)),this.rippleFn=ht(e,{selector:"."+jh})},t.prototype.popupUnWireEvents=function(){var e=this.getPopUpElement();this.createPopupOnClick&&we.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&(we.remove(e,"click",this.clickHandler),we.remove(e,"keydown",this.keyBoardHandler))},t.prototype.keyBoardHandler=function(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}},t.prototype.upDownKeyHandler=function(e){(!this.target||38!==e.keyCode&&40!==e.keyCode)&&(e.preventDefault(),Mh(this.getULElement(),e.keyCode))},t.prototype.keyEventHandler=function(e){(!this.target||13!==e.keyCode&&9!==e.keyCode)&&(e.target&&e.target.className.indexOf("e-edit-template")>-1&&32===e.keyCode||(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e)))},t.prototype.getLI=function(e){return"LI"===e.tagName?e:Ie(e,"li")},t.prototype.mousedownHandler=function(e){var t=e.target;!this.dropDown||this.canOpen()||Ie(t,'[id="'+this.getPopUpElement().id+'"]')||Ie(t,'[id="'+this.element.id+'"]')||this.closePopup(e)},t.prototype.clickHandler=function(e){var t=e.target;if(Ie(t,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&!this.isColorPicker()?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e));else if(Ie(t,'[id="'+this.getPopUpElement().id+'"]')){var n=void 0,i=void 0,o=void 0,r=this.getLI(t);r&&(i=Array.prototype.indexOf.call(this.getULElement().children,r),(o=this.items[i])&&(n={element:r,item:o},this.trigger("select",n)),this.closePopup(e,this.activeElem[0]))}},t.prototype.openPopUp=function(e){var t=this;void 0===e&&(e=null);var n=this.getPopUpElement();if(this.target)if(this.activeElem.length>1){var i=qe(this.activeElem[0],"split-btn");i.isReact&&n.childNodes.length<1&&(!0,i.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates())}else this.isReact&&n.childNodes.length<1&&(!0,this.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates());else this.createItems(!0);var o=this.getULElement();this.popupWireEvents();var r={element:o,items:this.items,event:e,cancel:!1};this.trigger("beforeOpen",r,(function(e){if(!e.cancel){var n=t.getULElement();t.dropDown.show(null,t.element),ke([t.element],"e-active"),t.element.setAttribute("aria-expanded","true"),n.focus();var i={element:n,items:t.items};t.trigger("open",i)}}))},t.prototype.closePopup=function(e,t){var n=this;void 0===e&&(e=null);var i={element:this.getULElement(),items:this.items,event:e,cancel:!1},o=this.getPopUpElement();o&&we.remove(o,"keydown",this.keyBoardHandler),this.trigger("beforeClose",i,(function(e){if(!e.cancel){n.popupUnWireEvents();var i=n.getULElement(),o=i.querySelector(".e-selected");o&&o.classList.remove("e-selected"),n.dropDown.hide(),Te(n.activeElem,"e-active"),n.element.setAttribute("aria-expanded","false"),t&&t.focus();var r={element:i,items:n.items};n.trigger("close",r),!n.target&&i&&Oe(i),n.target&&!n.isColorPicker()||n.createPopupOnClick&&n.destroyPopup(),n.target&&(n.isPopupCreated=!n.createPopupOnClick)}}))},t.prototype.unWireEvents=function(){this.createPopupOnClick||we.remove(document,"mousedown touchstart",this.delegateMousedownHandler),we.remove(this.element,"click",this.clickHandler),we.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(we.remove(this.getPopUpElement(),"click",this.clickHandler),we.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler))},t.prototype.onPropertyChanged=function(e,t){var n;this.button.setProperties(Oh(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(n=this.getPopUpElement(),this.dropDown.setProperties(Oh(e,["enableRtl"])));for(var i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":if(e.cssClass.indexOf(Vh)>-1)je(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"]);this.isPopupCreated&&(t.cssClass&&Te([n],t.cssClass.split(" ")),e.cssClass&&ke([n],e.cssClass.split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup()}}},t.prototype.focusIn=function(){this.element.focus()},Ih([et("")],t.prototype,"content",void 0),Ih([et("")],t.prototype,"cssClass",void 0),Ih([et(!1)],t.prototype,"disabled",void 0),Ih([et("")],t.prototype,"iconCss",void 0),Ih([et("Left")],t.prototype,"iconPosition",void 0),Ih([et(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ih([nt([],Hh)],t.prototype,"items",void 0),Ih([et(!1)],t.prototype,"createPopupOnClick",void 0),Ih([et("")],t.prototype,"target",void 0),Ih([it()],t.prototype,"beforeItemRender",void 0),Ih([it()],t.prototype,"beforeOpen",void 0),Ih([it()],t.prototype,"beforeClose",void 0),Ih([it()],t.prototype,"close",void 0),Ih([it()],t.prototype,"open",void 0),Ih([it()],t.prototype,"select",void 0),Ih([it()],t.prototype,"created",void 0),t=Ih([ot],t)}(kt),Uh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Xh="e-rtl",Yh="EJS-SPLITBUTTON",Kh=function(e){function t(t,n){return e.call(this,t,n)||this}return Uh(t,e),t.prototype.preRender=function(){var e=this.element;if(e.tagName===Yh){for(var t=m("ej2_instances",e),n=this.createElement("button",{attrs:{type:"button"}}),i=this.createElement(Yh,{className:"e-"+this.getModuleName()+"-wrapper"}),o=0,r=e.attributes.length;o<r;o++)n.setAttribute(e.attributes[o].nodeName,e.attributes[o].nodeValue);e.parentNode.insertBefore(i,e),Oe(e),e=n,i.appendChild(e),f("ej2_instances",t,e),this.wrapper=i,this.element=e}this.element.id||(this.element.id=k("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()},t.prototype.renderControl=function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(t,n){e.prototype.addItems.call(this,t,n),this.secondaryBtnObj.items=this.items},t.prototype.removeItems=function(t,n){e.prototype.removeItems.call(this,t,n),this.secondaryBtnObj.items=this.items},t.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(Xh),this.cssClass&&ke([this.wrapper],this.cssClass.split(" "))},t.prototype.createPrimaryButton=function(){var e={cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled};this.primaryBtnObj=new Za(e),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},t.prototype.createSecondaryButton=function(){var e=this,t=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(t);var n={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick,beforeItemRender:function(t){e.createPopupOnClick&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown),e.trigger("beforeItemRender",t)},open:function(t){e.trigger("open",t)},close:function(t){e.trigger("close",t)},select:function(t){e.trigger("select",t)},beforeOpen:function(t){var n=new Gh;return e.trigger("beforeOpen",t,(function(e){n.resolve(e)})),n},beforeClose:function(t){var n=new Gh;return e.trigger("beforeClose",t,(function(e){n.resolve(e)})),n}};this.secondaryBtnObj=new qh(n),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(t),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")},t.prototype.setAria=function(){Re(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})},t.prototype.getModuleName=function(){return"split-btn"},t.prototype.toggle=function(){this.secondaryBtnObj.toggle()},t.prototype.destroy=function(){var t=this,n=[Xh];if(this.cssClass&&(n=n.concat(this.cssClass.split(" "))),this.element){var i=document.getElementById(this.element.id);i&&i.parentElement===this.wrapper&&(this.wrapper.tagName===Yh?(this.wrapper.innerHTML="",Te([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),Te([this.wrapper],this.cssClass.split(" "))):(Te([this.element],n),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach((function(e){t.element.removeAttribute(e)})),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),Me(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),e.prototype.destroy.call(this),this.element.getAttribute("class")||this.element.removeAttribute("class")},t.prototype.wireEvents=function(){we.add(this.element,"click",this.primaryBtnClickHandler,this),new Bt(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})},t.prototype.unWireEvents=function(){we.remove(this.element,"click",this.primaryBtnClickHandler),D(this.element,Bt).destroy()},t.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},t.prototype.btnKeyBoardHandler=function(e){if("altdownarrow"===e.action)this.clickHandler(e)},t.prototype.onPropertyChanged=function(e,t){var n=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(Oh(e,n)),n=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(Oh(e,n));for(var i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"cssClass":t.cssClass&&Te([this.wrapper],t.cssClass.split(" ")),ke([this.wrapper],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?ke([this.wrapper],Xh):Te([this.wrapper],Xh)}}},t.prototype.focusIn=function(){this.element.focus()},Wh([et("")],t.prototype,"content",void 0),Wh([et("")],t.prototype,"cssClass",void 0),Wh([et(!1)],t.prototype,"disabled",void 0),Wh([et("")],t.prototype,"iconCss",void 0),Wh([et("Left")],t.prototype,"iconPosition",void 0),Wh([et(!1)],t.prototype,"createPopupOnClick",void 0),Wh([nt([],Hh)],t.prototype,"items",void 0),Wh([et("")],t.prototype,"target",void 0),Wh([it()],t.prototype,"beforeItemRender",void 0),Wh([it()],t.prototype,"beforeOpen",void 0),Wh([it()],t.prototype,"beforeClose",void 0),Wh([it()],t.prototype,"click",void 0),Wh([it()],t.prototype,"close",void 0),Wh([it()],t.prototype,"open",void 0),Wh([it()],t.prototype,"select",void 0),Wh([it()],t.prototype,"created",void 0),t=Wh([ot],t)}(qh),Gh=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)},$h=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Jh="e-tooltip",Zh="e-rtl",ed="e-tip-content",td="e-arrow-tip",nd="e-arrow-tip-outer",id="e-arrow-tip-inner",od="e-tip-bottom",rd="e-tip-top",sd="e-tip-left",ad="e-tip-right",ld="e-popup-open",cd="e-popup-close",hd="e-lib",dd="e-tooltip-popup-container",pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $h(t,e),Qh([et({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Qh([et({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(yt),ud=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.mouseMoveEvent=null,i.mouseMoveTarget=null,i.containerElement=null,i.isBodyContainer=!0,i}return $h(t,e),t.prototype.initialize=function(){this.formatPosition(),ke([this.element],Jh)},t.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:td+" "+this.tipClass});e.appendChild(this.createElement("div",{className:nd+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:id+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass=sd:0===e.indexOf("Bottom")?this.tipClass=rd:0===e.indexOf("Left")?this.tipClass=ad:this.tipClass=od},t.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(hd),this.popupObj=new vi(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=Rn(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),n=this.calculateTooltipOffset(this.position),i=this.calculateElementPosition(t,n),o=i[0],r=i[1],s=this.collisionFlipFit(e,o,r);return this.tooltipEle.style.display="",s},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)},t.prototype.closePopupHandler=function(){this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)},t.prototype.calculateTooltipOffset=function(e){var t={top:0,left:0},n=this.tooltipEle.offsetWidth,i=this.tooltipEle.offsetHeight,o=Ae("."+td,this.tooltipEle),r=o?o.offsetWidth:0,s=o?o.offsetHeight:0,a=this.showTipPointer?0:8,l=s/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=r/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(a+=2),e){case"RightTop":t.left+=r+a,t.top-=i-l;break;case"RightCenter":t.left+=r+a,t.top-=i/2;break;case"RightBottom":t.left+=r+a,t.top-=l;break;case"BottomRight":t.top+=s+a,t.left-=c;break;case"BottomCenter":t.top+=s+a,t.left-=n/2;break;case"BottomLeft":t.top+=s+a,t.left-=n-c;break;case"LeftBottom":t.left-=r+n+a,t.top-=l;break;case"LeftCenter":t.left-=r+n+a,t.top-=i/2;break;case"LeftTop":t.left-=r+n+a,t.top-=i-l;break;case"TopLeft":t.top-=i+s+a,t.left-=n-c;break;case"TopRight":t.top-=i+s+a,t.left-=c;break;default:t.top-=i+s+a,t.left-=n/2}return t.left+=this.offsetX,t.top+=this.offsetY,t},t.prototype.updateTipPosition=function(e){var t=He(".e-arrow-tip,.e-arrow-tip-outer,."+id,this.tooltipEle);Te(t,[od,rd,sd,ad]),this.setTipClass(e),ke(t,this.tipClass)},t.prototype.adjustArrow=function(e,t,n,i){if(!1!==this.showTipPointer){var o,r;this.updateTipPosition(t),this.tooltipEle.style.display="block";var s,a=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,c=Ae("."+td,this.tooltipEle),h=Ae("."+id,this.tooltipEle),d=c.offsetWidth,p=c.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===od||this.tipClass===rd){if(this.tipClass===od?(r="99.9%",h.style.top="-"+(p-2)+"px"):(r=-(p-1)+"px",h.style.top="-"+(p-6)+"px"),e)o=(s="Center"!==n||a>e.offsetWidth||this.mouseTrail)&&"Left"===n||!s&&"End"===this.tipPointerPosition?a-d-2+"px":s&&"Right"===n||!s&&"Start"===this.tipPointerPosition?"2px":a/2-d/2+"px"}else this.tipClass===ad?(o="99.9%",h.style.left="-"+(d-2)+"px"):(o=-(d-1)+"px",h.style.left=d-2-d+"px"),r=(s="Center"!==i||l>e.offsetHeight||this.mouseTrail)&&"Top"===i||!s&&"End"===this.tipPointerPosition?l-p-2+"px":s&&"Bottom"===i||!s&&"Start"===this.tipPointerPosition?"2px":l/2-p/2+"px";c.style.top=r,c.style.left=o}},t.prototype.renderContent=function(e){var t=Ae("."+ed,this.tooltipEle);if(this.cssClass&&ke([this.tooltipEle],this.cssClass.split(" ")),e&&!E(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),E(this.content))e&&!E(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"===typeof this.content){if(this.enableHtmlSanitizer&&this.setProperties({content:wn.sanitize(this.content)},!0),o=gn(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t)){if(this.enableHtmlParse)for(var n=o.length,i=0;i<n;i++)Pe(o,t);else t.textContent=this.content;this.enableHtmlParse?Pe(o,t):t.textContent=this.content}}else{var o;(o=gn(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t))&&Pe(o,t),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),we.add(e,Ce.touchStartEvent,this.onStickyClose,this)}},t.prototype.addDescribedBy=function(e,t){var n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(t)<0&&n.push(t),Re(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":t})},t.prototype.removeDescribedBy=function(e){var t=e.getAttribute("data-tooltip-id"),n=(e.getAttribute("aria-describedby")||"").split(/\s+/),i=n.indexOf(t);-1!==i&&n.splice(i,1),e.removeAttribute("data-tooltip-id");var o=n.join(" ").trim();o?e.setAttribute("aria-describedby",o):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var t=this;if(!this.isSticky){this.autoCloseTimer=setTimeout((function(){t.close()}),1500)}},t.prototype.targetClick=function(e){var t;E(t=this.target?Ie(e.target,this.target):this.element)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},t.prototype.targetHover=function(e){var t;if(!(E(t=this.target?Ie(e.target,this.target):this.element)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)){for(var n=0,i=[].slice.call(He('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));n<i.length;n++){var o=i[n];this.restoreElement(o)}this.showTooltip(t,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&we.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,t,n){var i=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,we.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!E(n)};this.trigger("beforeRender",this.tooltipEventArgs,function(o){i.beforeRenderCallback(o,e,n,t)}.bind(this))},t.prototype.beforeRenderCallback=function(e,t,n,i){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,E(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?k(this.element.getAttribute("id")):k("tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+L(this.width)+";height:"+L(this.height)+";position:absolute;"}),this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,n,i,this)):t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),ct.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,n,i,this)))},t.prototype.appendContainer=function(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=Ae(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||ke([this.containerElement],dd),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,t){e&&(Ce.isDevice&&ke([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=L(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:ed})),this.appendContainer(t),Te([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),ke([t.tooltipEle],ld),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),ct.stop(t.tooltipEle),t.reposition(e))},t.prototype.tooltipAfterRender=function(e,t,n,i){if(e){Te([i.tooltipEle],ld),ke([i.tooltipEle],cd),i.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:i.tooltipEle,isInteracted:!E(t)},i.needTemplateReposition()&&!i.mouseTrail&&(i.tooltipEle.style.display="none");i.trigger("beforeOpen",i.tooltipEventArgs,function(o){i.beforeOpenCallback(o,e,n,t)}.bind(i))}},t.prototype.beforeOpenCallback=function(e,t,n,i){var o=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{var r={name:n.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};if("None"===n.effect&&(r=void 0),this.openDelay>0){this.showTimer=setTimeout((function(){o.mouseTrail&&we.add(t,"mousemove touchstart mouseenter",o.onMouseMove,o),o.popupObj&&(o.popupObj.show(r,t),o.mouseMoveEvent&&o.mouseTrail&&o.onMouseMove(o.mouseMoveEvent))}),this.openDelay)}else this.popupObj&&this.popupObj.show(r,t)}i&&this.wireMouseEvents(i,t)},t.prototype.needTemplateReposition=function(){return!E(this.viewContainerRef)&&"string"!==typeof this.viewContainerRef},t.prototype.checkCollision=function(e,t,n){var i={left:t,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},o=Wn(this.tooltipEle,this.checkCollideTarget(),t,n);return o.length>0&&(i.horizontal=o.indexOf("left")>=0?"Right":o.indexOf("right")>=0?"Left":this.tooltipPositionX,i.vertical=o.indexOf("top")>=0?"Bottom":o.indexOf("bottom")>=0?"Top":this.tooltipPositionY),i},t.prototype.calculateElementPosition=function(e,t){return[this.isBodyContainer?e.left+t.left:e.left-this.containerElement.offsetLeft+t.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+t.top:e.top-this.containerElement.offsetTop+t.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,t,n){var i=this.checkCollision(e,t,n),o=i.position;this.tooltipPositionY!==i.vertical&&(o=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?i.vertical+this.tooltipPositionX:this.tooltipPositionX+i.vertical),this.tooltipPositionX!==i.horizontal&&(0===o.indexOf("Left")&&(i.vertical="LeftTop"===o||"LeftCenter"===o?"Top":"Bottom",o=i.vertical+"Left"),0===o.indexOf("Right")&&(i.vertical="RightTop"===o||"RightCenter"===o?"Top":"Bottom",o=i.vertical+"Right"),i.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:o},this.trigger("beforeCollision",this.tooltipEventArgs);var r=i.vertical,s=i.horizontal;if(i.position!==o){var a=Rn(e,s,r,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,o,s,r);var l=this.calculateTooltipOffset(o);l.top-=this.getOffSetPosition("TopBottom",o,this.offsetY),l.left-=this.getOffSetPosition("RightLeft",o,this.offsetX),i.position=o;var c=this.calculateElementPosition(a,l);i.left=c[0],i.top=c[1]}else this.adjustArrow(e,o,s,r);var h={left:i.left,top:i.top},d=this.isBodyContainer?Un(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:!1},h).left:h.left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===o.indexOf("Bottom")||0===o.indexOf("Top"))){var p=Ae("."+td,this.tooltipEle),u=parseInt(p.style.left,10)-(d-i.left);u<0?u=0:u+p.offsetWidth>this.tooltipEle.clientWidth&&(u=this.tooltipEle.clientWidth-p.offsetWidth),p.style.left=u.toString()+"px"}return this.tooltipEle.style.display="",h.left=d,h},t.prototype.getOffSetPosition=function(e,t,n){return-1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(t.split(/(?=[A-Z])/)[0])?2*n:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,t,n){var i=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);this.hideTimer=setTimeout((function(){i.closeDelay&&i.tooltipEle&&i.isTooltipOpen||i.tooltipHide(e,t,n)}),this.closeDelay)}else this.tooltipHide(e,t,n)},t.prototype.tooltipHide=function(e,t,n){var i,o=this;i=t?this.target?n||t.target:this.element:Ae('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:i,event:t||null,element:this.tooltipEle,isInteracted:!E(t)},this.trigger("beforeClose",this.tooltipEventArgs,(function(t){t.cancel?o.isHidden=!1:(o.mouseMoveBeforeRemove(),o.popupHide(e,i))}))},t.prototype.popupHide=function(e,t){t&&this.restoreElement(t),this.isHidden=!0;var n={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(n=void 0),this.popupObj&&this.popupObj.hide(n)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),E(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){this.tooltipEle&&(Te([this.tooltipEle],cd),ke([this.tooltipEle],ld)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&Me(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(e){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var n=Ie(t,".e-tooltip-wrap.e-lib.e-popup");n?we.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),we.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var t=0,n=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),ct.stop(this.tooltipEle),Te([this.tooltipEle],cd),ke([this.tooltipEle],ld),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var i=this.calculateTooltipOffset(this.position),o=t+i.left+this.offsetX,r=n+i.top+this.offsetY,s=this.checkCollision(e.target,o,r);if(this.tooltipPositionX!==s.horizontal||this.tooltipPositionY!==s.vertical){var a=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+s.horizontal:s.horizontal+s.vertical;s.position=a,this.adjustArrow(e.target,s.position,s.horizontal,s.vertical);var l=this.calculateTooltipOffset(s.position);s.left=t+l.left-this.offsetX,s.top=n+l.top-this.offsetY}this.tooltipEle.style.left=s.left+"px",this.tooltipEle.style.top=s.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===Ie(e.target,".e-tooltip")&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&(Ie(e.target,".e-tooltip-wrap.e-lib.e-popup")||this.close())},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=od,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var t=0,n=this.getTriggerList(e);t<n.length;t++){var i=n[t];if("Custom"===i)return;"Focus"===i&&this.wireFocusEvents(),"Click"===i&&we.add(this.element,Ce.touchStartEvent,this.targetClick,this),"Hover"===i&&(Ce.isDevice?(this.touchModule=new Vt(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),we.add(this.element,Ce.touchEndEvent,this.touchEndHandler,this)):we.add(this.element,"mouseover",this.targetHover,this))}we.add(document,"touchend",this.touchEnd,this),we.add(document,"scroll wheel",this.scrollHandler,this),we.add(window,"resize",this.windowResize,this),we.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=Ce.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(E(this.target))we.add(this.element,"focus",this.targetHover,this);else for(var e=0,t=[].slice.call(He(this.target,this.element));e<t.length;e++){var n=t[e];we.add(n,"focus",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&we.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&we.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(we.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),we.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&we.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var t=0,n=this.getTriggerList(e);t<n.length;t++){var i=n[t];if("Custom"===i)return;"Focus"===i&&this.unwireFocusEvents(),"Click"===i&&we.remove(this.element,Ce.touchStartEvent,this.targetClick),"Hover"===i&&(Ce.isDevice?(this.touchModule&&this.touchModule.destroy(),we.remove(this.element,Ce.touchEndEvent,this.touchEndHandler)):we.remove(this.element,"mouseover",this.targetHover))}we.remove(document,"touchend",this.touchEnd),we.remove(document,"scroll wheel",this.scrollHandler),we.remove(window,"resize",this.windowResize),we.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(E(this.target))we.remove(this.element,"focus",this.targetHover);else for(var e=0,t=[].slice.call(He(this.target,this.element));e<t.length;e++){var n=t[e];we.remove(n,"focus",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var t=0,n=this.getTriggerList(this.opensOn);t<n.length;t++){var i=n[t];"Focus"===i&&we.remove(e,"blur",this.onMouseOut),"Hover"!==i||Ce.isDevice||we.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(we.remove(e,"mouseenter",this.tooltipHover),we.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&we.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return Ae('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,t){for(var n=this.findTarget(),i=0,o=Object.keys(e);i<o.length;i++){switch(o[i]){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=L(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=L(e.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var r=Ae("."+id,this.tooltipEle);r.style.top=r.style.left=null,this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var s=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var a=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+a).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&Te([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&ke([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?ke([this.tooltipEle],Zh):Te([this.tooltipEle],Zh));break;case"container":E(this.containerElement)||Te([this.containerElement],dd),this.container=e.container,this.tooltipEle&&n&&(this.appendContainer(this),this.reposition(n))}}},t.prototype.open=function(e,t){E(t)&&(t=this.animation.open),E(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltipEle&&Me(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),Te([this.element],Jh),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null},Qh([et("auto")],t.prototype,"width",void 0),Qh([et("auto")],t.prototype,"height",void 0),Qh([et()],t.prototype,"content",void 0),Qh([et("body")],t.prototype,"container",void 0),Qh([et()],t.prototype,"target",void 0),Qh([et("TopCenter")],t.prototype,"position",void 0),Qh([et(0)],t.prototype,"offsetX",void 0),Qh([et(0)],t.prototype,"offsetY",void 0),Qh([et(!0)],t.prototype,"showTipPointer",void 0),Qh([et(!0)],t.prototype,"enableHtmlParse",void 0),Qh([et(!1)],t.prototype,"windowCollision",void 0),Qh([et("Auto")],t.prototype,"tipPointerPosition",void 0),Qh([et("Auto")],t.prototype,"opensOn",void 0),Qh([et(!1)],t.prototype,"mouseTrail",void 0),Qh([et(!1)],t.prototype,"isSticky",void 0),Qh([tt({},pd)],t.prototype,"animation",void 0),Qh([et(0)],t.prototype,"openDelay",void 0),Qh([et(0)],t.prototype,"closeDelay",void 0),Qh([et()],t.prototype,"cssClass",void 0),Qh([et(!1)],t.prototype,"enableHtmlSanitizer",void 0),Qh([it()],t.prototype,"beforeRender",void 0),Qh([it()],t.prototype,"beforeOpen",void 0),Qh([it()],t.prototype,"afterOpen",void 0),Qh([it()],t.prototype,"beforeClose",void 0),Qh([it()],t.prototype,"afterClose",void 0),Qh([it()],t.prototype,"beforeCollision",void 0),Qh([it()],t.prototype,"created",void 0),Qh([it()],t.prototype,"destroyed",void 0),t=Qh([ot],t)}(kt),md="e-rtl",fd="e-disabled",gd="e-input",vd="e-multi-line-input",yd="e-input-group",bd="e-float-input",Cd="e-float-line",wd="e-float-text",Ed="e-clear-icon",Sd="e-clear-icon-hide",kd="e-label-top",Td="e-label-bottom",xd="e-no-float-label",Nd="e-input-custom-tag",Ld="e-float-custom-tag";!function(e){var t,n=!0;function i(e){o(e.floatLabelType,e.element),e.element.addEventListener("focus",(function(){var e=p(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.add("e-input-focus")})),e.element.addEventListener("blur",(function(){var e=p(this);(e.classList.contains("e-input-group")||e.classList.contains("e-outline")||e.classList.contains("e-filled"))&&e.classList.remove("e-input-focus")})),e.element.addEventListener("input",(function(){o(t,e.element)}))}function o(e,t){var n=t.value;""!==n&&!E(n)&&t.parentElement?t.parentElement.classList.add("e-valid-input"):"Always"!==e&&t.parentElement&&t.parentElement.classList.remove("e-valid-input")}function r(){var e=p(this).getElementsByClassName("e-float-text")[0];E(e)||(ke([e],kd),e.classList.contains(Td)&&Te([e],Td))}function s(){var e=p(this);if(e.getElementsByTagName("textarea")[0]?""===e.getElementsByTagName("textarea")[0].value:""===e.getElementsByTagName("input")[0].value){var t=e.getElementsByClassName("e-float-text")[0];E(t)||(t.classList.contains(kd)&&Te([t],kd),ke([t],Td))}}function a(e){e.addEventListener("focus",r),e.addEventListener("blur",s)}function l(e,t,n){var i=E(n)?Se:n;"Auto"===e.floatLabelType&&a(e.element),E(t.container)?(t.container=f(e,bd,Ld,"div",i),e.element.parentNode&&e.element.parentNode.insertBefore(t.container,e.element)):(E(e.customTag)||t.container.classList.add(Ld),t.container.classList.add(bd));var o=i("span",{className:Cd}),r=i("label",{className:wd});if(E(e.element.id)||""===e.element.id||(r.id="label_"+e.element.id.replace(/ /g,"_"),Re(e.element,{"aria-labelledby":r.id})),E(e.element.placeholder)||""===e.element.placeholder||(r.innerText=g(e.element.placeholder),e.element.removeAttribute("placeholder")),E(e.properties)||E(e.properties.placeholder)||""===e.properties.placeholder||(r.innerText=g(e.properties.placeholder)),r.innerText||t.container.classList.add(xd),t.container.classList.contains("e-float-icon-left")){var s=t.container.querySelector(".e-input-in-wrap");s.appendChild(e.element),s.appendChild(o),s.appendChild(r)}else t.container.appendChild(e.element),t.container.appendChild(o),t.container.appendChild(r);d(e.element.value,r),"Always"===e.floatLabelType&&(r.classList.contains(Td)&&Te([r],Td),ke([r],kd)),"Auto"===e.floatLabelType&&(e.element.addEventListener("input",(function(t){d(e.element.value,r,e.element)})),e.element.addEventListener("blur",(function(t){d(e.element.value,r)}))),E(e.element.getAttribute("id"))||r.setAttribute("for",e.element.getAttribute("id"))}function c(e,t){"Always"===e&&t.classList.contains("e-outline")&&t.classList.add("e-valid-input")}function h(e,t){e?Te([t],Sd):ke([t],Sd)}function d(e,t,n){(void 0===n&&(n=null),e)?(ke([t],kd),t.classList.contains(Td)&&Te([t],Td)):(null==n||n!==document.activeElement)&&(t.classList.contains(kd)&&Te([t],kd),ke([t],Td))}function p(e){var t=E(e.parentNode)?e:e.parentNode;return t&&t.classList.contains("e-input-in-wrap")&&(t=t.parentNode),t}function u(e,t,i){(void 0==n||n)&&t.addEventListener("click",(function(n){e.classList.contains(fd)||e.readOnly||(n.preventDefault(),e!==document.activeElement&&e.focus(),e.value="",ke([t],Sd))})),e.addEventListener("input",(function(n){h(e.value,t)})),e.addEventListener("focus",(function(n){h(e.value,t)})),e.addEventListener("blur",(function(e){setTimeout((function(){ke([t],Sd)}),200)}))}function m(e,t){if(p(e).classList.contains(bd)&&"Auto"===t){var n=p(e).getElementsByClassName("e-float-text")[0];d(e.value,n,e)}}function f(e,t,n,i,o){var r,s=E(o)?Se:o;return E(e.customTag)?r=s(i,{className:t}):(r=s(e.customTag,{className:t})).classList.add(n),r.classList.add("e-control-wrapper"),r}function g(e){var t="";if(!E(e)&&""!==e){var n=document.createElement("span");n.innerHTML='<input  placeholder="'+e+'"/>',t=n.children[0].placeholder}return t}function v(e,t,n){E(n)||""===n||Te(t,n.split(" ")),E(e)||""===e||ke(t,e.split(" "))}function y(e,t){e=g(e);var n=p(t);n.classList.contains(bd)?E(e)||""===e?(n.classList.add(xd),n.getElementsByClassName(wd)[0].textContent=""):(n.getElementsByClassName(wd)[0].textContent=e,n.classList.remove(xd),t.removeAttribute("placeholder")):E(e)||""===e?(t.removeAttribute("placeholder"),t.removeAttribute("aria-placeholder")):Re(t,{placeholder:e,"aria-placeholder":e})}function b(e,t,n){e?Re(t,{readonly:""}):t.removeAttribute("readonly"),E(n)||m(t,n)}function C(e,t){e?ke(t,md):Te(t,md)}function w(e,t,n,i){var o={disabled:"disabled","aria-disabled":"true"},r=!E(i);e?(t.classList.remove(fd),k(o,t),r&&Te([i],fd)):(t.classList.add(fd),T(o,t),r&&ke([i],fd)),E(n)||m(t,n)}function S(e,t,n,i,o){var r=E(o)?Se:o;e?n.clearButton=function(e,t,n,i){var o=(E(i)?Se:i)("span",{className:Ed}),r=t.container;return E(n)?(t.container.classList.contains(bd)?t.container.querySelector("."+wd):e).insertAdjacentElement("afterend",o):r.appendChild(o),!E(r)&&r.classList.contains(bd)&&ke([r],yd),ke([o],Sd),u(e,o),o.setAttribute("aria-label","close"),o}(t,n,i,r):(Me(n.clearButton),n.clearButton=null)}function k(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],r=p(t);"disabled"===o&&t.classList.remove(fd),"disabled"===o&&r.classList.contains(yd)&&r.classList.remove(fd),"placeholder"===o&&r.classList.contains(bd)?r.getElementsByClassName(wd)[0].textContent="":t.removeAttribute(o)}}function T(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],r=p(t);"disabled"===o&&t.classList.add(fd),"disabled"===o&&r.classList.contains(yd)&&r.classList.add(fd),"placeholder"===o&&r.classList.contains(bd)?r.getElementsByClassName(wd)[0].textContent=e[o]:t.setAttribute(o,e[o])}}function x(e,t,n){var i=[];i.push(n);var o=E(n)?t.querySelectorAll(".e-input-group-icon"):i;if(e&&o.length>0)for(var r=0;r<o.length;r++)o[r].addEventListener("mousedown",N,!1),o[r].addEventListener("mouseup",P,!1);else if(o.length>0)for(r=0;r<o.length;r++)o[r].removeEventListener("mousedown",N,this),o[r].removeEventListener("mouseup",P,this)}function N(){for(var e,t,n=this.parentElement;!n.classList.contains("e-input-group");)n=n.parentElement;t=this,(e=n).classList.contains("e-disabled")||e.querySelector("input").readOnly||t.classList.add("e-input-btn-ripple")}function P(){var e=this;setTimeout((function(){e.classList.remove("e-input-btn-ripple")}),500)}function D(e,t){var n=t("span",{className:e});return n.classList.add("e-input-group-icon"),n}function O(e,t,n,i){var o=E(i)?Se:i,r=D(e,o);t.classList.add("e-float-icon-left");var s=t.querySelector(".e-input-in-wrap");if(E(s)){s=o("span",{className:"e-input-in-wrap"}),n.parentNode.insertBefore(s,n);var a=t.querySelectorAll(n.tagName+" ~ *");s.appendChild(n);for(var l=0;l<a.length;l++)s.appendChild(a[l])}return s.parentNode.insertBefore(r,s),t.classList.contains(yd)||t.classList.add(yd),x(!0,t,r),r}function M(e,t,n){var i=D(e,E(n)?Se:n);return t.classList.contains(yd)||t.classList.add(yd),(t.classList.contains("e-float-icon-left")?t.querySelector(".e-input-in-wrap"):t).appendChild(i),x(!0,t,i),i}function R(e,t){"hidden"===t.type?e.classList.add("e-hidden"):e.classList.contains("e-hidden")&&e.classList.remove("e-hidden")}e.createInput=function(e,o){var r=E(o)?Se:o,s={container:null,buttons:[],clearButton:null};if(t=e.floatLabelType,n=e.bindClearAction,E(e.floatLabelType)||"Never"===e.floatLabelType?(s.container=f(e,yd,Nd,"span",r),e.element.parentNode.insertBefore(s.container,e.element),ke([e.element],gd),s.container.appendChild(e.element)):l(e,s,r),i(e),E(e.properties)||E(e.properties.showClearButton)||!e.properties.showClearButton||"TEXTAREA"===e.element.tagName||(S(e.properties.showClearButton,e.element,s,!0,r),s.clearButton.setAttribute("role","button"),s.container.classList.contains(bd)&&ke([s.container],yd)),!E(e.buttons)&&"TEXTAREA"!==e.element.tagName)for(var a=0;a<e.buttons.length;a++)s.buttons.push(M(e.buttons[a],s.container,r));return E(e.element)||"TEXTAREA"!==e.element.tagName||ke([s.container],vd),R(s.container,e.element),s=function(e,t){if(!E(e.properties))for(var n=0,i=Object.keys(e.properties);n<i.length;n++){switch(i[n]){case"cssClass":v(e.properties.cssClass,[t.container]),c(e.floatLabelType,t.container);break;case"enabled":w(e.properties.enabled,e.element,e.floatLabelType,t.container);break;case"enableRtl":C(e.properties.enableRtl,[t.container]);break;case"placeholder":y(e.properties.placeholder,e.element);break;case"readonly":b(e.properties.readonly,e.element)}}return t}(e,s),s,s},e.bindInitialEvent=i,e.wireFloatingEvents=a,e.wireClearBtnEvents=u,e.setValue=function(e,t,n,i){if(t.value=e,E(n)||"Auto"!==n||m(t,n),!E(i)&&i){var r=p(t);if(!E(r)){var s=r.getElementsByClassName(Ed)[0];E(s)||(t.value&&r.classList.contains("e-input-focus")?Te([s],Sd):ke([s],Sd))}}o(n,t)},e.setCssClass=v,e.setWidth=function(e,t){"number"===typeof e?t.style.width=L(e):"string"===typeof e&&(t.style.width=e.match(/px|%|em/)?e:L(e))},e.setPlaceholder=y,e.setReadonly=b,e.setEnableRtl=C,e.setEnabled=w,e.setClearButton=S,e.removeAttributes=k,e.addAttributes=T,e.removeFloating=function(e){var t,n=e.container;if(!E(n)&&n.classList.contains(bd)){var i=n.querySelector("textarea")?n.querySelector("textarea"):n.querySelector("input"),o=n.querySelector("."+wd).textContent,a=null!==n.querySelector(".e-clear-icon");Oe(n.querySelector("."+Cd)),Oe(n.querySelector("."+wd)),je(n,[yd],[bd]),(t=i).removeEventListener("focus",r),t.removeEventListener("blur",s),Re(i,{placeholder:o}),i.classList.add(gd),a||"INPUT"!==i.tagName||i.removeAttribute("required")}},e.addFloating=function(e,n,i,o){var r=E(o)?Se:o,s=Ie(e,"."+yd);if(t=n,"Never"!==n){var a=s.tagName,h={element:e,floatLabelType:n,customTag:a="DIV"!==a&&"SPAN"!==a?a:null,properties:{placeholder:i}},d=s.querySelector(".e-clear-icon"),p={container:s};e.classList.remove(gd),l(h,p,r);var u=s.classList.contains("e-float-icon-left");if(E(d))if(u)d=s.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon");else d=s.querySelector(".e-input-group-icon");if(E(d))u&&(d=s.querySelector(".e-input-group-icon")),E(d)&&s.classList.remove(yd);else{var m=s.querySelector("."+Cd),f=s.querySelector("."+wd),g=u?s.querySelector(".e-input-in-wrap"):s;g.insertBefore(e,d),g.insertBefore(m,d),g.insertBefore(f,d)}}c(n,e.parentElement)},e.setRipple=function(e,t){for(var n=0;n<t.length;n++)x(e,t[n].container)},e.addIcon=function(e,t,n,i,o){var r="string"===typeof t?t.split(","):t;if("append"===e.toLowerCase())for(var s=0,a=r;s<a.length;s++){M(a[s],n,o)}else for(var l=0,c=r;l<c.length;l++){O(c[l],n,i,o)}},e.prependSpan=O,e.appendSpan=M,e.validateInputType=R}(Ah||(Ah={}));var Pd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dd=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Od="e-input-group-icon",Md="e-spin-up",Rd="e-error",Ad="increment",Hd="decrement",Bd=new RegExp("^(-)?(\\d*)$"),Id="e-input-focus",Fd=["title","style","class"],jd=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isVue=!1,i.preventChange=!1,i.isAngular=!1,i.isDynamicChange=!1,i.numericOptions=t,i}return Pd(t,e),t.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=m("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),Te([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=Ie(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var t=this.createElement("input"),n=0;n<this.element.attributes.length;n++){"id"!==this.element.attributes[n].nodeName&&(t.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),t.innerHTML=this.element.innerHTML)}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(t),this.element=t,f("ej2_instances",e,this.element)}Re(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"});var i={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder};this.l10n=new It("numerictextbox",i,this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()},t.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null===this.value||isNaN(this.value)||this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete())},t.prototype.checkAttributes=function(e){for(var t=0,n=e?E(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];t<n.length;t++){var i=n[t];if(!E(this.element.getAttribute(i)))switch(i){case"disabled":if(E(this.numericOptions)||void 0===this.numericOptions.enabled||e){var o="disabled"!==this.element.getAttribute(i)&&""!==this.element.getAttribute(i)&&"true"!==this.element.getAttribute(i);this.setProperties({enabled:o},!e)}break;case"readonly":if(E(this.numericOptions)||void 0===this.numericOptions.readonly||e){var r="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:r},!e)}break;case"placeholder":(E(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(E(this.numericOptions)||void 0===this.numericOptions.value||e){var s=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));this.setProperties(f(i,s,{}),!e)}break;case"min":if(E(this.numericOptions)||void 0===this.numericOptions.min||e){var a=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));null===a||isNaN(a)||this.setProperties(f(i,a,{}),!e)}break;case"max":if(E(this.numericOptions)||void 0===this.numericOptions.max||e){var l=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));null===l||isNaN(l)||this.setProperties(f(i,l,{}),!e)}break;case"step":if(E(this.numericOptions)||void 0===this.numericOptions.step||e){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));null===c||isNaN(c)||this.setProperties(f(i,c,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(i);break;case"name":this.inputName=this.element.getAttribute(i);break;default:var h=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(i));(null!==h&&!isNaN(h)||"value"===i)&&this.setProperties(f(i,h,{}),!0)}}},t.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},t.prototype.initCultureFunc=function(){this.instance=new se(this.locale)},t.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,null!==m("currency",this)&&(f("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},t.prototype.createWrapper=function(){var e=this.cssClass;E(this.cssClass)||""===this.cssClass||(e=this.getNumericValidClassList(this.cssClass));var t=Ah.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=t,this.container=t.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&Re(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),Re(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&Re(this.container,{style:this.inputStyle})},t.prototype.updateDataAttribute=function(e){var t={};if(e)t=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)t[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var i=0,o=Object.keys(t);i<o.length;i++){var r=o[i];0===r.indexOf("data")&&this.hiddenInput.setAttribute(r,t[r])}},t.prototype.updateHTMLAttrToElement=function(){if(!E(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];Fd.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[n])}},t.prototype.updateCssClass=function(e,t){Ah.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(t))},t.prototype.getNumericValidClassList=function(e){var t=e;return E(e)||""===e||(t=e.replace(/\s+/g," ").trim()),t},t.prototype.updateHTMLAttrToWrapper=function(){if(!E(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var n=t[e];if(Fd.indexOf(n)>-1)if("class"===n){var i=this.getNumericValidClassList(this.htmlAttributes[n]);""!==i&&ke([this.container],i.split(" "))}else if("style"===n){var o=this.container.getAttribute(n);o=E(o)?this.htmlAttributes[n]:o+this.htmlAttributes[n],this.container.setAttribute(n,o)}else this.container.setAttribute(n,this.htmlAttributes[n])}},t.prototype.setElementWidth=function(e){E(e)||("number"===typeof e?this.container.style.width=L(e):"string"===typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:L(e)))},t.prototype.spinBtnCreation=function(){this.spinDown=Ah.appendSpan(Od+" e-spin-down",this.container,this.createElement),Re(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=Ah.appendSpan(Od+" "+Md,this.container,this.createElement),Re(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},t.prototype.validateMinMax=function(){("number"!==typeof this.min||isNaN(this.min))&&this.setProperties({min:-Number.MAX_VALUE},!0),("number"!==typeof this.max||isNaN(this.max))&&this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),Re(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})},t.prototype.formattedValue=function(e,t){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)},t.prototype.validateStep=function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},t.prototype.action=function(e,t){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,e)),this.raiseChangeEvent(t)},t.prototype.checkErrorClass=function(){this.isValidState?Te([this.container],Rd):ke([this.container],Rd),Re(this.element,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.bindClearEvent=function(){this.showClearButton&&we.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")&&!this.inputWrapper.container.classList.contains("e-static-clear")||this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",Ie(this.element,"form")){var t=this.element.nextElementSibling,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),t.dispatchEvent(n)}},t.prototype.resetFormHandler=function(){"EJS-NUMERICTEXTBOX"===this.element.tagName?this.updateValue(null):this.updateValue(this.inputEleValue)},t.prototype.setSpinButton=function(){E(this.spinDown)||Re(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),E(this.spinUp)||Re(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},t.prototype.wireEvents=function(){we.add(this.element,"focus",this.focusHandler,this),we.add(this.element,"blur",this.focusOutHandler,this),we.add(this.element,"keydown",this.keyDownHandler,this),we.add(this.element,"keyup",this.keyUpHandler,this),we.add(this.element,"input",this.inputHandler,this),we.add(this.element,"keypress",this.keyPressHandler,this),we.add(this.element,"change",this.changeHandler,this),we.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&we.add(this.formEle,"reset",this.resetFormHandler,this))},t.prototype.wireSpinBtnEvents=function(){we.add(this.spinUp,Ce.touchStartEvent,this.mouseDownOnSpinner,this),we.add(this.spinDown,Ce.touchStartEvent,this.mouseDownOnSpinner,this),we.add(this.spinUp,Ce.touchEndEvent,this.mouseUpOnSpinner,this),we.add(this.spinDown,Ce.touchEndEvent,this.mouseUpOnSpinner,this),we.add(this.spinUp,Ce.touchMoveEvent,this.touchMoveOnSpinner,this),we.add(this.spinDown,Ce.touchMoveEvent,this.touchMoveOnSpinner,this)},t.prototype.unwireEvents=function(){we.remove(this.element,"focus",this.focusHandler),we.remove(this.element,"blur",this.focusOutHandler),we.remove(this.element,"keyup",this.keyUpHandler),we.remove(this.element,"input",this.inputHandler),we.remove(this.element,"keydown",this.keyDownHandler),we.remove(this.element,"keypress",this.keyPressHandler),we.remove(this.element,"change",this.changeHandler),we.remove(this.element,"paste",this.pasteHandler),this.formEle&&we.remove(this.formEle,"reset",this.resetFormHandler)},t.prototype.unwireSpinBtnEvents=function(){we.remove(this.spinUp,Ce.touchStartEvent,this.mouseDownOnSpinner),we.remove(this.spinDown,Ce.touchStartEvent,this.mouseDownOnSpinner),we.remove(this.spinUp,Ce.touchEndEvent,this.mouseUpOnSpinner),we.remove(this.spinDown,Ce.touchEndEvent,this.mouseUpOnSpinner),we.remove(this.spinUp,Ce.touchMoveEvent,this.touchMoveOnSpinner),we.remove(this.spinDown,Ce.touchMoveEvent,this.touchMoveOnSpinner)},t.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var t=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(t,e)},t.prototype.raiseChangeEvent=function(e){if(this.prevValue!==this.value){var t={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),C(t,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",t)}},t.prototype.pasteHandler=function(){var e=this;if(this.enabled&&!this.readonly){var t=this.element.value;setTimeout((function(){e.numericRegex().test(e.element.value)||e.setElementValue(t)}))}},t.prototype.preventHandler=function(){var e=this,t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout((function(){if(e.element.selectionStart>0){var n=e.element.selectionStart,i=e.element.selectionStart-1,o=e.element.value.split(""),r=m("decimal",ae(e.locale)),s=r.charCodeAt(0);" "===e.element.value[i]&&e.element.selectionStart>0&&!t?(E(e.prevVal)?e.element.value=e.element.value.trim():0!==i?e.element.value=e.prevVal:0===i&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(i,i)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&45!==e.element.value[e.element.selectionStart-1].charCodeAt(0)?(o.indexOf(e.element.value[e.element.selectionStart-1])!==o.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===s||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==s)&&(e.element.value=e.element.value.substring(0,i)+e.element.value.substring(n,e.element.value.length),e.element.setSelectionRange(i,i),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&45!==e.element.value[e.element.selectionStart-2].charCodeAt(0)&&(o.indexOf(e.element.value[e.element.selectionStart-2])!==o.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===s||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==s)&&(e.element.setSelectionRange(i,i),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),!0===e.cursorPosChanged&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),""===e.element.value.trim()&&e.element.setSelectionRange(0,0),e.element.selectionStart>0&&(45===e.element.value[e.element.selectionStart-1].charCodeAt(0)&&e.element.selectionStart>1&&(E(e.prevVal)?e.element.value=e.element.value:e.element.value=e.prevVal,e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===r&&0===e.decimals&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,i)+e.element.value.substring(n,e.element.value.length))),e.prevVal=e.element.value}}))},t.prototype.keyUpHandler=function(){if(this.enabled&&!this.readonly){!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&Ce.isDevice&&this.preventHandler();var e=this.instance.getNumberParser({format:"n"})(this.element.value);if(e=null===e||isNaN(e)?null:e,this.hiddenInput.value=e||0===e?e.toString():null,Ie(this.element,"form")){var t=this.element.nextElementSibling,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),t.dispatchEvent(n)}}},t.prototype.inputHandler=function(e){if(this.enabled&&!this.readonly){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||t)&&Ce.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==m("decimal",ae(this.locale))&&this.element.value!==m("minusSign",ae(this.locale))){var n=this.instance.getNumberParser({format:"n"})(this.element.value);n=isNaN(n)?null:n,this.localChange({value:n}),this.preventChange=!0}if(this.isVue){var i=this.instance.getNumberParser({format:"n"})(this.element.value),o=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);new RegExp("[^1-9]+$").test(this.element.value)&&(i=this.value);var r={event:e,value:null===i||isNaN(i)?null:i,previousValue:null===o||isNaN(o)?null:o};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",r)}}},t.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(Ad,e);break;case 40:e.preventDefault(),this.action(Hd,e)}},t.prototype.performAction=function(e,t,n){(null===e||isNaN(e))&&(e=0);var i=n===Ad?e+t:e-t;return i=this.correctRounding(e,t,i),this.strictMode?this.trimValue(i):i},t.prototype.correctRounding=function(e,t,n){var i=new RegExp("[,.](.*)"),o=i.test(e.toString()),r=i.test(t.toString());if(o||r){var s=o?i.exec(e.toString())[0].length:0,a=r?i.exec(t.toString())[0].length:0,l=Math.max(s,a);return this.roundValue(n,l)}return n},t.prototype.roundValue=function(e,t){t=t||0;var n=Math.pow(10,t);return e*=n,Math.round(e)/n},t.prototype.updateValue=function(e,t){t&&(this.isInteract=!0),null===e||isNaN(e)||this.decimals&&(e=this.roundNumber(e,this.decimals)),this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(t)},t.prototype.updateCurrency=function(e,t){f(e,t,this.cultureInfo),this.updateValue(this.value)},t.prototype.changeValue=function(e){if(e||0===e){var t=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,t)},!0)}else e=null,this.setProperties({value:e},!0);this.modifyText(),this.strictMode||this.validateState()},t.prototype.modifyText=function(){if(this.value||0===this.value){var e=this.formatNumber(),t=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(t),Re(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},t.prototype.setElementValue=function(e,t){Ah.setValue(e,t||this.element,this.floatLabelType,this.showClearButton)},t.prototype.validateState=function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},t.prototype.getNumberOfDecimals=function(e){var t,n=new RegExp("[eE][-+]?([0-9]+)"),i=e.toString();if(n.test(i)){var o=n.exec(i);E(o)||(i=e.toFixed(Math.min(parseInt(o[1],10),20)))}var r=i.split(".")[1];return t=r&&r.length?r.length:0,null!==this.decimals&&(t=t<this.decimals?t:this.decimals),t},t.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},t.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},t.prototype.roundNumber=function(e,t){var n=e,i=t||0,o=n.toString().split("e"),r=(n=Math.round(Number(o[0]+"e"+(o[1]?Number(o[1])+i:i)))).toString().split("e");return n=Number(r[0]+"e"+(r[1]?Number(r[1])-i:-i)),Number(n.toFixed(i))},t.prototype.cancelEvent=function(e){return e.preventDefault(),!1},t.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!Ce.isDevice&&"11.0"===Ce.info.version&&13===e.keyCode){var t=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(t,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;var n=String.fromCharCode(e.which),i=this.element.value;return i=i.substring(0,this.element.selectionStart)+n+i.substring(this.element.selectionEnd),!!this.numericRegex().test(i)||(e.preventDefault(),e.stopPropagation(),!1)},t.prototype.numericRegex=function(){var e=m("decimal",ae(this.locale)),t="*";return"."===e&&(e="\\"+e),0===this.decimals&&this.validateDecimalOnType?Bd:(this.decimals&&this.validateDecimalOnType&&(t="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+e+"\\d"+t+")?)|("+e+"\\d"+t+")))?$"))},t.prototype.mouseWheel=function(e){var t;e.preventDefault();var n=e;n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3),t>0?this.action(Ad,e):t<0&&this.action(Hd,e),this.cancelEvent(e)},t.prototype.focusHandler=function(e){var t=this;if(this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,Te([this.container],Rd),this.prevValue=this.value,this.value||0===this.value){var n=this.formatNumber();if(this.setElementValue(n),!this.isPrevFocused)if(Ce.isDevice||"11.0"!==Ce.info.version){var i=Ce.isDevice&&Ce.isIos?600:0;setTimeout((function(){t.element.setSelectionRange(0,n.length)}),i)}else this.element.setSelectionRange(0,n.length)}Ce.isDevice||we.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},t.prototype.focusOutHandler=function(e){var t=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),Ce.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var i=this.element;setTimeout((function(){t.setElementValue(n,i)}),200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var o=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(o),Ce.isDevice||we.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(Ie(this.element,"form")){var r=this.element.nextElementSibling,s=document.createEvent("FocusEvent");s.initEvent("focusout",!1,!0),r.dispatchEvent(s)}}},t.prototype.mouseDownOnSpinner=function(e){var t=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),this.getElementData(e)){this.getElementData(e);var n=e.currentTarget,i=n.classList.contains(Md)?Ad:Hd;we.add(n,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval((function(){t.isCalled=!0,t.action(i,e)}),150),we.add(document,"mouseup",this.mouseUpClick,this)}},t.prototype.touchMoveOnSpinner=function(e){var t;if("touchmove"===e.type){var n=e.touches;t=n.length&&document.elementFromPoint(n[0].pageX,n[0].pageY)}else t=document.elementFromPoint(e.clientX,e.clientY);t.classList.contains(Od)||clearInterval(this.timeOut)},t.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),Ce.isDevice||(this.isPrevFocused=!1)),Ce.isDevice||e.preventDefault(),this.getElementData(e)){var t=e.currentTarget,n=t.classList.contains(Md)?Ad:Hd;if(we.remove(t,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,e),this.isCalled=!1,we.remove(document,"mouseup",this.mouseUpClick),Ie(this.element,"form")){var i=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),i.dispatchEvent(o)}}},t.prototype.getElementData=function(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly)&&(clearInterval(this.timeOut),!0)},t.prototype.floatLabelTypeUpdate=function(){Ah.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),Ah.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},t.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,we.remove(this.spinUp,"mouseleave",this.mouseUpClick),we.remove(this.spinDown,"mouseleave",this.mouseUpClick)},t.prototype.increment=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,Ad)),this.raiseChangeEvent()},t.prototype.decrement=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,Hd)),this.raiseChangeEvent()},t.prototype.destroy=function(){this.unwireEvents(),Oe(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),Oe(this.spinUp),Oe(this.spinDown));for(var t=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-live","aria-valuenow","aria-invalid"],n=0;n<t.length;n++)this.element.removeAttribute(t[n]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),Oe(this.container),e.prototype.destroy.call(this)},t.prototype.getText=function(){return this.element.value},t.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),ke([this.container],[Id]))},t.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),Te([this.container],[Id]))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];switch(o){case"width":this.setElementWidth(e.width);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":Ah.setEnabled(e.enabled,this.element);break;case"enableRtl":Ah.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":Ah.setReadonly(e.readonly,this.element),this.readonly?Re(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),Ah.validateInputType(this.container,this.element);break;case"placeholder":Ah.setPlaceholder(e.placeholder,this.element);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":f(o,m(o,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),Ah.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var r=m(o,e);this.setProperties({currencyCode:r},!0),this.updateCurrency(o,r);break;case"currencyCode":var s=m(o,e);this.setProperties({currency:s},!0),this.updateCurrency("currency",s);break;case"format":f(o,m(o,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},t.prototype.updateClearButton=function(e){Ah.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},t.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():(Oe(this.spinUp),Oe(this.spinDown))},t.prototype.getModuleName=function(){return"numerictextbox"},Dd([et("")],t.prototype,"cssClass",void 0),Dd([et(null)],t.prototype,"value",void 0),Dd([et(-Number.MAX_VALUE)],t.prototype,"min",void 0),Dd([et(Number.MAX_VALUE)],t.prototype,"max",void 0),Dd([et(1)],t.prototype,"step",void 0),Dd([et(null)],t.prototype,"width",void 0),Dd([et(null)],t.prototype,"placeholder",void 0),Dd([et({})],t.prototype,"htmlAttributes",void 0),Dd([et(!0)],t.prototype,"showSpinButton",void 0),Dd([et(!1)],t.prototype,"readonly",void 0),Dd([et(!0)],t.prototype,"enabled",void 0),Dd([et(!1)],t.prototype,"showClearButton",void 0),Dd([et(!1)],t.prototype,"enablePersistence",void 0),Dd([et("n2")],t.prototype,"format",void 0),Dd([et(null)],t.prototype,"decimals",void 0),Dd([et(null)],t.prototype,"currency",void 0),Dd([et(null)],t.prototype,"currencyCode",void 0),Dd([et(!0)],t.prototype,"strictMode",void 0),Dd([et(!1)],t.prototype,"validateDecimalOnType",void 0),Dd([et("Never")],t.prototype,"floatLabelType",void 0),Dd([it()],t.prototype,"created",void 0),Dd([it()],t.prototype,"destroyed",void 0),Dd([it()],t.prototype,"change",void 0),Dd([it()],t.prototype,"focus",void 0),Dd([it()],t.prototype,"blur",void 0),t=Dd([ot],t)}(kt),zd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zd(t,e),_d([et("None")],t.prototype,"placement",void 0),_d([et(10)],t.prototype,"largeStep",void 0),_d([et(1)],t.prototype,"smallStep",void 0),_d([et(!1)],t.prototype,"showSmallTicks",void 0),_d([et(null)],t.prototype,"format",void 0),t}(yt),qd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zd(t,e),_d([et(null)],t.prototype,"color",void 0),_d([et(null)],t.prototype,"start",void 0),_d([et(null)],t.prototype,"end",void 0),t}(yt),Ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zd(t,e),_d([et(!1)],t.prototype,"enabled",void 0),_d([et(null)],t.prototype,"minStart",void 0),_d([et(null)],t.prototype,"minEnd",void 0),_d([et(null)],t.prototype,"maxStart",void 0),_d([et(null)],t.prototype,"maxEnd",void 0),_d([et(!1)],t.prototype,"startHandleFixed",void 0),_d([et(!1)],t.prototype,"endHandleFixed",void 0),t}(yt),Wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zd(t,e),_d([et("")],t.prototype,"cssClass",void 0),_d([et("Before")],t.prototype,"placement",void 0),_d([et("Focus")],t.prototype,"showOn",void 0),_d([et(!1)],t.prototype,"isVisible",void 0),_d([et(null)],t.prototype,"format",void 0),t}(yt),Xd="e-slider",Yd="e-rtl",Kd="e-slider-input",Gd="e-control-wrapper",$d="e-handle",Qd="e-range",Jd="e-slider-button",Zd="e-first-button",ep="e-second-button",tp="e-scale",np="e-tick",ip="e-large",op="e-tick-value",rp="e-slider-tooltip",sp="e-slider-hover",ap="e-handle-first",lp="e-handle-second",cp="e-disabled",hp="e-slider-container",dp="e-slider-horizontal-before",pp="e-slider-horizontal-after",up="e-slider-vertical-before",mp="e-slider-vertical-after",fp="e-material-tooltip-open",gp="e-tooltip-active",vp="e-material-slider",yp="e-slider-track",bp="e-slider-horizantal-color",Cp="e-slider-vertical-color",wp="e-handle-focused",Ep="e-vertical",Sp="e-horizontal",kp="e-handle-start",Tp="e-material-tooltip-start",xp="e-tab-handle",Np="e-button-icon",Lp="e-small-size",Pp="e-tick-pos",Dp="e-first-tick",Op="e-last-tick",Mp="e-slider-btn",Rp="e-tab-track",Ap="e-tab-range",Hp="e-handle-active",Bp="e-material-handle",Ip="e-material-range",Fp="e-material-default",jp="e-material-tooltip-show",zp="e-material-tooltip-hide",_p="e-read-only",Vp="e-limits",qp="e-limit-bar",Up="e-limit-first",Wp="e-limit-second",Xp="e-drag-horizontal",Yp="e-drag-vertical",Kp=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.horDir="left",i.verDir="bottom",i.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},i.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},i.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",i.customAriaText=null,i.drag=!0,i.isDragComplete=!1,i.initialTooltip=!0,i}return zd(t,e),t.prototype.preRender=function(){this.l10n=new It("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},t.prototype.formChecker=function(){var e=Ie(this.element,"form");e?(this.isForm=!0,E(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!E(this.formResetValue)&&"object"===typeof this.formResetValue?E(this.formResetValue)&&(this.formResetValue=parseFloat(L(this.min))):this.formResetValue=[parseFloat(L(this.min)),parseFloat(L(this.max))],this.formElement=e):this.isForm=!1},t.prototype.initCultureFunc=function(){this.internationalization=new se(this.locale)},t.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=E(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=E(this.ticks.format)?null:this.ticks.format},t.prototype.formatString=function(e,t){var n=null,i=null;if(e||0===e){n=this.formatNumber(e);var o=this.numberOfDecimals(e);i=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,o))}return{elementVal:n,formatString:i}},t.prototype.formatNumber=function(e){var t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)},t.prototype.numberOfDecimals=function(e){var t=e.toString().split(".")[1];return t&&t.length?t.length:0},t.prototype.makeRoundNumber=function(e,t){var n=t||0;return Number(e.toFixed(n))},t.prototype.fractionalToInteger=function(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;for(var t=1,n=0;n<this.noOfDecimals;n++)t*=10;return e=Number((e*t).toFixed(0))},t.prototype.render=function(){var e=this;this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout((function(){e.refresh()}),0)},t.prototype.initialize=function(){ke([this.element],Xd),this.setCSSClass()},t.prototype.setElementWidth=function(e){E(e)||("number"===typeof e?this.sliderContainer.style.width=L(e):"string"===typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:L(e)))},t.prototype.setCSSClass=function(e){e&&Te([this.element],e.split(" ")),this.cssClass&&ke([this.element],this.cssClass.split(" "))},t.prototype.setEnabled=function(){this.enabled?(Te([this.sliderContainer],[cp]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove(cp),this.wireEvents()):(ke([this.sliderContainer],[cp]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add(cp),this.unwireEvents())},t.prototype.getTheme=function(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")},t.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:hp+" "+Gd}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:yp}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:E(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:Kd}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=E(this.value)?parseFloat(L(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(L(this.value.toString()))):[this.checkHandleValue(parseFloat(L(this.value[0].toString()))),this.checkHandleValue(parseFloat(L(this.value[1].toString())))],this.previousChanged=this.previousVal,E(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?Te([this.sliderContainer],[cp]):ke([this.sliderContainer],[cp]),this.readonly?ke([this.sliderContainer],[_p]):Te([this.sliderContainer],[_p])},t.prototype.getThemeInitialization=function(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isFluent="FluentUI"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible},t.prototype.createRangeBar=function(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:Qd}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&("Horizontal"===this.orientation?this.rangeBar.classList.add(Xp):this.rangeBar.classList.add(Yp)))},t.prototype.createLimitBar=function(){var e="Range"!==this.type?qp:Up;e+=" "+Vp,this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:Wp+" "+Vp}}),this.element.appendChild(this.limitBarSecond))},t.prototype.setOrientClass=function(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove(Ep),this.sliderContainer.classList.add(Sp),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove(Sp),this.sliderContainer.classList.add(Ep),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))},t.prototype.setAriaAttributes=function(e){var t=this,n=this.min,i=this.max;(!E(this.customValues)&&this.customValues.length>0&&(n=this.customValues[0],i=this.customValues[this.customValues.length-1]),"Range"!==this.type)?Re(e,{"aria-valuemin":n.toString(),"aria-valuemax":i.toString()}):(!E(this.customValues)&&this.customValues.length>0?[[n.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),i.toString()]]:[[n.toString(),this.value[1].toString()],[this.value[0].toString(),i.toString()]]).forEach((function(e,n){var i=0===n?t.firstHandle:t.secondHandle;i&&Re(i,{"aria-valuemin":e[0],"aria-valuemax":e[1]})}))},t.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:$d,role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add(lp),this.element.appendChild(this.secondHandle)},t.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:$d,role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add(ap),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:$d+" "+Bp}}),this.element.appendChild(this.materialHandle))},t.prototype.wireFirstHandleEvt=function(e){e?(we.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),we.remove(this.firstHandle,"transitionend",this.transitionEnd),we.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),we.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(we.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),we.add(this.firstHandle,"transitionend",this.transitionEnd,this),we.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),we.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},t.prototype.wireSecondHandleEvt=function(e){e?(we.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),we.remove(this.secondHandle,"transitionend",this.transitionEnd),we.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),we.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(we.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),we.add(this.secondHandle,"transitionend",this.transitionEnd,this),we.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),we.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},t.prototype.handleStart=function(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"](kp),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"](kp),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"](Tp)))},t.prototype.transitionEnd=function(e){"transform"!==e.propertyName&&(this.handleStart(),this.enableAnimation||(this.getHandle().style.transition="none"),"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},t.prototype.handleFocusOut=function(){this.firstHandle.classList.contains(wp)&&this.firstHandle.classList.remove(wp),"Range"===this.type&&this.secondHandle.classList.contains(wp)&&this.secondHandle.classList.remove(wp)},t.prototype.handleFocus=function(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?(this.firstHandle.classList.add(wp),this.firstHandle.classList.add(xp)):(this.secondHandle.classList.add(wp),this.secondHandle.classList.add(xp)),we.add(document,"mousemove touchmove",this.sliderBarMove,this),we.add(document,"mouseup touchend",this.sliderBarUp,this)},t.prototype.handleOver=function(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())},t.prototype.handleLeave=function(e){!this.tooltip.isVisible||"Hover"!==this.tooltip.showOn||e.currentTarget.classList.contains(wp)||e.currentTarget.classList.contains(xp)||this.closeTooltip()},t.prototype.setHandler=function(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()},t.prototype.setEnableRTL=function(){this.enableRtl&&"Vertical"!==this.orientation?ke([this.sliderContainer],Yd):Te([this.sliderContainer],Yd);var e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(Fe(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&Fe(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()},t.prototype.tooltipValue=function(){var e,t=this,n={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),n.text=e=this.tooltipObj.content,this.trigger("tooltipChange",n,(function(n){t.addTooltipClass(n.text),e!==n.text&&(t.customAriaText=n.text,t.tooltipObj.content=n.text,t.setAriaAttrValue(t.firstHandle),"Range"===t.type&&t.setAriaAttrValue(t.secondHandle))})),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))},t.prototype.setTooltipContent=function(){var e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=e},t.prototype.formatContent=function(e,t){var n="",i=this.handleVal1,o=this.handleVal2;return!E(this.customValues)&&this.customValues.length>0&&(i=this.customValues[this.handleVal1],o=this.customValues[this.handleVal2]),t?("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?E(this.tooltip)||E(this.tooltip.format)?o.toString()+" - "+i.toString():this.formatString(o,e).elementVal+" - "+this.formatString(i,e).elementVal:E(this.tooltip)||E(this.tooltip.format)?i.toString()+" - "+o.toString():this.formatString(i,e).elementVal+" - "+this.formatString(o,e).elementVal:E(i)||(n=E(this.tooltip)||E(this.tooltip.format)?i.toString():this.formatString(i,e).elementVal),n):("Range"===this.type?n=this.enableRtl&&"Vertical"!==this.orientation?E(e.format)?o.toString()+" - "+i.toString():this.formatString(o,e).formatString+" - "+this.formatString(i,e).formatString:E(e.format)?i.toString()+" - "+o.toString():this.formatString(i,e).formatString+" - "+this.formatString(o,e).formatString:E(i)||(n=E(e.format)?i.toString():this.formatString(i,e).formatString),n)},t.prototype.addTooltipClass=function(e){if(this.isMaterialTooltip){var t=e.toString().length;if(this.tooltipElement){n=t>4?{oldCss:Fp,newCss:Ip}:{oldCss:Ip,newCss:Fp};this.tooltipElement.classList.remove(n.oldCss),this.tooltipElement.classList.contains(n.newCss)||(this.tooltipElement.classList.add(n.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else{var n=t>4?Ip:Fp;this.tooltipObj.cssClass=rp+" "+n}}},t.prototype.tooltipPlacement=function(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"},t.prototype.tooltipBeforeOpen=function(e){this.tooltipElement=e.element,this.tooltip.cssClass&&ke([this.tooltipElement],this.tooltip.cssClass.split(" ").filter((function(e){return e}))),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add(zp),this.handleStart(),this.setTooltipTransform())},t.prototype.tooltipCollision=function(e){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){var t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}},t.prototype.materialTooltipEventCallBack=function(e){this.sliderBarClick(e),we.add(document,"mousemove touchmove",this.sliderBarMove,this),we.add(document,"mouseup touchend",this.sliderBarUp,this)},t.prototype.wireMaterialTooltipEvent=function(e){this.isMaterialTooltip&&(e?we.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):we.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))},t.prototype.tooltipPositionCalculation=function(e){var t;switch(e){case"TopCenter":t=dp;break;case"BottomCenter":t=pp;break;case"LeftCenter":t=up;break;case"RightCenter":t=mp}return t},t.prototype.getTooltipTransformProperties=function(e){var t;if(this.tooltipElement){var n="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?e===dp?{rotate:"rotate(45deg)",translate:"translateY("+n+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-n+"px)"}:e===up?{rotate:"rotate(-45deg)",translate:"translateX("+n+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-n+"px)"}}return t},t.prototype.openMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var t=this.tooltipElement.firstElementChild;t.classList.remove(zp),t.classList.add(jp),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add(fp),this.materialHandle.style.transform="scale(0)",t.innerText.length>4?this.tooltipElement.style.transform="scale(1)":this.tooltipElement.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout((function(){e.tooltipElement.style.transition=e.transition.handle}),2500):setTimeout((function(){e.tooltipElement.style.transition="none"}),2500)}},t.prototype.closeMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){var t=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,t.classList.remove(jp),t.classList.add(zp),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove(fp),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout((function(){e.tooltipElement.style.transition="none"}),2500)}},t.prototype.checkTooltipPosition=function(e){var t=this.tooltipPositionCalculation(e.collidedPosition);void 0!==this.tooltipCollidedPosition&&this.tooltipCollidedPosition===e.collidedPosition&&e.element.classList.contains(t)||(this.isMaterialTooltip&&(void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains(fp)&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()},t.prototype.setTooltipTransform=function(){var e=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.firstElementChild.innerText.length>4?this.tooltipElement.style.transform=e.translate+" scale(0.01)":this.tooltipElement.style.transform=e.translate+" "+e.rotate+" scale(0.01)"},t.prototype.renderTooltip=function(){this.tooltipObj=new ud({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4||this.isTailwind||this.isBootstrap5||this.isFluent,cssClass:rp,height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},t.prototype.initializeTooltipProps=function(){var e="Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn;this.setProperties({tooltip:{showOn:e}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach((function(e){E(e)||(e.style.transition="none")})),this.isMaterialTooltip&&(this.sliderContainer.classList.add(vp),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},t.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},t.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:Jd+" "+Zd}),this.firstBtn.appendChild(this.createElement("span",{className:Np})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:Jd+" "+ep}),this.secondBtn.appendChild(this.createElement("span",{className:Np})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add(Mp),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},t.prototype.buttonTitle=function(){var e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("decrementTitle"),n=this.l10n.getConstant("incrementTitle");Re(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),Re(e?this.firstBtn:this.secondBtn,{"aria-label":n,title:n})},t.prototype.buttonFocusOut=function(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")},t.prototype.repeatButton=function(e){var t,n=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains(Zd)||e.target.classList.contains(Zd)?t=i?this.add(n,parseFloat(this.step.toString()),!0):this.add(n,parseFloat(this.step.toString()),!1):(e.target.parentElement.classList.contains(ep)||e.target.classList.contains(ep))&&(t=i?this.add(n,parseFloat(this.step.toString()),!1):this.add(n,parseFloat(this.step.toString()),!0)),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),t>=this.min&&t<=this.max&&(this.changeHandleValue(t),this.tooltipToggle(this.getHandle()))},t.prototype.repeatHandlerMouse=function(e){e.preventDefault(),"mousedown"!==e.type&&"touchstart"!==e.type||(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))},t.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},t.prototype.focusHandle=function(){this.getHandle().classList.contains(xp)||this.getHandle().classList.add(xp)},t.prototype.repeatHandlerUp=function(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},t.prototype.customTickCounter=function(e){var t=4;return!E(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t},t.prototype.renderScale=function(){var e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:tp+" e-"+e+"-scale "+np+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",Ce.isAndroid&&"h"===e&&this.ul.classList.add(Pp);var t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat(L(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(L(this.max))-parseFloat(L(this.min));var n,i=this.fractionalToInteger(this.min),o=this.fractionalToInteger(this.max),r=this.fractionalToInteger(t),s=!E(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,a=this.customTickCounter(s),l=!E(this.customValues)&&this.customValues.length>0?s*a+s:Math.abs((o-i)/r);this.element.appendChild(this.ul);var c=parseFloat(this.min.toString());"v"===e&&(c=parseFloat(this.max.toString()));var h,d=0,p=100/l;p===1/0&&(p=5);for(var u=0,m=!E(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,f=0;u<=l;u++){if(n=this.createElement("li",{attrs:{class:np,role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!E(this.customValues)&&this.customValues.length>0)(h=u%(a+1)===0)&&("h"===e?(c=this.customValues[f],f++):(c=this.customValues[m],m--),n.setAttribute("title",c.toString()));else if(n.setAttribute("title",c.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))h="h"===e?(c-parseFloat(this.min.toString()))%this.ticks.largeStep===0:Math.abs(c-parseFloat(this.max.toString()))%this.ticks.largeStep===0;else{var g=this.fractionalToInteger(this.ticks.largeStep),v=this.fractionalToInteger(c);h="h"===e?(v-i)%g===0:Math.abs(v-parseFloat(o.toString()))%g===0}h&&n.classList.add(ip),"h"===e?n.style.width=p+"%":n.style.height=p+"%";var y=h?"Both"===this.ticks.placement?2:1:0;if(h)for(var b=0;b<y;b++)this.createTick(n,c,p);else E(this.customValues)&&this.formatTicksValue(n,c);this.ul.appendChild(n),this.tickElementCollection.push(n);var C=void 0;E(this.customValues)&&(C=this.numberOfDecimals(t)>this.numberOfDecimals(c)?this.numberOfDecimals(t):this.numberOfDecimals(c),c="h"===e?this.makeRoundNumber(c+t,C):this.makeRoundNumber(c-t,C),d=this.makeRoundNumber(d+t,C))}this.ticksAlignment(e,p)},t.prototype.ticksAlignment=function(e,t,n){void 0===n&&(n=!0),this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add(Dp),this.lastChild.classList.add(Op),this.sliderContainer.classList.add(tp+"-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%");var i={ticksWrapper:this.ul,tickElements:this.tickElementCollection};n&&this.trigger("renderedTicks",i),this.scaleAlignment()},t.prototype.createTick=function(e,t,n){var i=this.createElement("span",{className:op+" "+np+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(i),E(this.customValues)?this.formatTicksValue(e,t,i,n):this.enableHtmlSanitizer?i.innerHTML=wn.sanitize(t.toString()):i.innerHTML=t.toString()},t.prototype.formatTicksValue=function(e,t,n,i){var o=this,r=this.formatNumber(t),s={value:t,text:E(this.ticks)||E(this.ticks.format)?r:this.formatString(t,this.ticksFormatInfo).formatString,tickElement:e};this.trigger("renderingTicks",s,(function(t){e.setAttribute("title",t.text.toString()),n&&(o.enableHtmlSanitizer?n.innerHTML=wn.sanitize(t.text.toString()):n.innerHTML=t.text.toString())}))},t.prototype.scaleAlignment=function(){this.tickValuePosition();this.orientation;"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add(Lp):this.sliderContainer.classList.remove(Lp):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add(Lp):this.sliderContainer.classList.remove(Lp)},t.prototype.tickValuePosition=function(){this.firstChild=this.element.querySelector("ul").children[0];var e,t,n=this.firstChild.getBoundingClientRect(),i=this.ticks.smallStep,o=Math.abs(parseFloat(L(this.max))-parseFloat(L(this.min)))/i;this.firstChild.children.length>0&&(e=this.firstChild.children[0].getBoundingClientRect());var r,s=[this.sliderContainer.querySelectorAll("."+np+"."+ip+" ."+op)];r="Both"===this.ticks.placement?[].slice.call(s[0],2):[].slice.call(s[0],1);for(var a="Vertical"===this.orientation?2*n.height:2*n.width,l=0;l<this.firstChild.children.length;l++)"Vertical"===this.orientation?this.firstChild.children[l].style.top=-e.height/2+"px":this.enableRtl?this.firstChild.children[l].style.left=(a-this.firstChild.children[l].getBoundingClientRect().width)/2+"px":this.firstChild.children[l].style.left=-e.width/2+"px";for(l=0;l<r.length;l++)t=r[l].getBoundingClientRect(),"Vertical"===this.orientation?Fe(r[l],{top:(a-t.height)/2+"px"}):Fe(r[l],{left:(a-t.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==o&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===o&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove(Op),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove(Op),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove(Op))},t.prototype.setAriaAttrValue=function(e){var t,n=!E(this.ticks)&&!E(this.ticks.format),i=n?this.formatContent(this.tooltipFormatInfo,!1):this.formatContent(this.ticksFormatInfo,!1),o=n?this.formatContent(this.ticksFormatInfo,!0):this.formatContent(this.tooltipFormatInfo,!0);t=2===(i=this.customAriaText?this.customAriaText:i).split(" - ").length?i.split(" - "):[i,i],this.setAriaAttributes(e),"Range"!==this.type?Re(e,{"aria-valuenow":o,"aria-valuetext":i}):this.enableRtl?e===this.firstHandle?Re(e,{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":t[1]}):Re(e,{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":t[0]}):e===this.firstHandle?Re(e,{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":t[0]}):Re(e,{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":t[1]})},t.prototype.handleValueUpdate=function(){return"Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1},t.prototype.getLimitCorrectedValues=function(e){return e="MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]},t.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},t.prototype.buttonClick=function(e){var t;this.focusSliderElement();var n=this.enableRtl&&"Vertical"!==this.orientation,i=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains(Zd)?t=n?this.add(i,parseFloat(this.step.toString()),!0):this.add(i,parseFloat(this.step.toString()),!1):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains(ep)?t=n?this.add(i,parseFloat(this.step.toString()),!1):this.add(i,parseFloat(this.step.toString()),!0):33===e.keyCode||e.currentTarget.classList.contains(Zd)?t=n?this.add(i,parseFloat(this.ticks.largeStep.toString()),!1):this.add(i,parseFloat(this.ticks.largeStep.toString()),!0):34===e.keyCode||e.currentTarget.classList.contains(ep)?t=n?this.add(i,parseFloat(this.ticks.largeStep.toString()),!0):this.add(i,parseFloat(this.ticks.largeStep.toString()),!1):36===e.keyCode?t=parseFloat(this.min.toString()):35===e.keyCode&&(t=parseFloat(this.max.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(xp)||this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),e.currentTarget.classList.contains(Zd)&&we.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains(ep)&&we.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},t.prototype.tooltipToggle=function(e){this.isMaterialTooltip?this.tooltipElement.classList.contains(fp)?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)},t.prototype.buttonUp=function(e){e.currentTarget.classList.contains(Zd)&&we.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains(ep)&&we.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},t.prototype.setRangeBar=function(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",Fe(this.rangeBar,{width:E(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",Fe(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",Fe(this.rangeBar,{height:E(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",Fe(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))},t.prototype.checkValidValueAndPos=function(e){return e=this.checkHandleValue(e),e=this.checkHandlePosition(e)},t.prototype.setLimitBarPositions=function(e,t,n,i){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=e+"px",this.limitBarFirst.style.height=t-e+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.left=n+"px",this.limitBarSecond.style.width=i-n+"px"):(this.limitBarSecond.style.bottom=n+"px",this.limitBarSecond.style.height=i-n+"px"))},t.prototype.setLimitBar=function(){if("Default"===this.type||"MinRange"===this.type){var e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);var t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){var n=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];n=this.checkValidValueAndPos(n);var i=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i);var o=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o);var r=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];r=this.checkValidValueAndPos(r),this.setLimitBarPositions(n,i,o,r)}},t.prototype.getLimitValueAndPosition=function(e,t,n,i){return E(t)&&(t=this.min,E(e)&&i&&(e=t)),E(n)&&(n=this.max,E(e)&&i&&(e=n)),e<t&&(e=t),e>n&&(e=n),[e,this.checkHandlePosition(e)]},t.prototype.setValue=function(){if(!E(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=E(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,E(this.activeHandle)?"Range"===this.type?this.activeHandle=2:this.activeHandle=1:this.activeHandle=this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},t.prototype.rangeValueUpdate=function(){null!==this.value&&"object"===typeof this.value||(this.value=[parseFloat(L(this.min)),parseFloat(L(this.max))])},t.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},t.prototype.modifyZindex=function(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=bi(this.element)+"")},t.prototype.setHandlePosition=function(e){var t,n=this,i=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach((function(e){"Horizontal"===n.orientation?n.enableRtl?e.style.right=i+"px":e.style.left=i+"px":e.style.bottom=i+"px"})),this.changeEvent("change",e)},t.prototype.getHandle=function(){return 1===this.activeHandle?this.firstHandle:this.secondHandle},t.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1},t.prototype.changeEvent=function(e,t){var n="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),n===this.value||this.isMaterialTooltip&&this.initialTooltip||(this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{var i=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:i},!0),(n.length===this.value.length&&this.value[0]!==n[0]||this.value[1]!==n[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},t.prototype.changeEventArgs=function(e,t){var n;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:this.tooltipObj.content,isInteracted:!E(t)}):n={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:E(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!E(t)},n},t.prototype.setPreviousVal=function(e,t){"change"===e?this.previousVal=t:this.previousChanged=t},t.prototype.updateRangeValue=function(){var e=this.value.toString().split(",").map(Number);if(this.enableRtl&&"Vertical"!==this.orientation||this.rtl?this.value=[e[1],e[0]]:this.value=[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,t=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=t[0],this.handlePos2=t[1],this.preHandlePos2=this.handlePos2}},t.prototype.checkHandlePosition=function(e){var t;return e=100*(e-parseFloat(L(this.min)))/(parseFloat(L(this.max))-parseFloat(L(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat(L(this.max))===parseFloat(L(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t},t.prototype.checkHandleValue=function(e){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(L(this.max));var t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e},t.prototype.reposition=function(){var e=this;this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",Fe(this.rangeBar,{width:E(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",Fe(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",Fe(this.rangeBar,{height:E(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.handlePos1+"px",Fe(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout((function(){e.firstHandle.style.transition=e.scaleTransform,"Range"===e.type&&(e.secondHandle.style.transition=e.scaleTransform)})),this.refreshTooltip(this.tooltipTarget),this.setBarColor()},t.prototype.changeHandleValue=function(e){var t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))},t.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},t.prototype.xyToPosition=function(e){if(this.min===this.max)return 100;if("Horizontal"===this.orientation){var t=e.x-this.element.getBoundingClientRect().left,n=this.element.offsetWidth/100;this.val=t/n}else{var i=e.y-this.element.getBoundingClientRect().top;n=this.element.offsetHeight/100;this.val=100-i/n}var o=this.stepValueCalculation(this.val);return o<0?o=0:o>100&&(o=100),this.enableRtl&&"Vertical"!==this.orientation&&(o=100-o),"Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(o/100):this.element.getBoundingClientRect().height*(o/100)},t.prototype.stepValueCalculation=function(e){0===this.step&&(this.step=1);var t=parseFloat(L(this.step))/((parseFloat(L(this.max))-parseFloat(L(this.min)))/100),n=e%Math.abs(t);return 0!==n&&(t/2>n?e-=n:e+=Math.abs(t)-n),e},t.prototype.add=function(e,t,n){var i=Math.pow(10,3);return n?(Math.round(e*i)+Math.round(t*i))/i:(Math.round(e*i)-Math.round(t*i))/i},t.prototype.positionToValue=function(e){var t,n=parseFloat(L(this.max))-parseFloat(L(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*n:e/this.element.getBoundingClientRect().height*n,this.add(t,parseFloat(this.min.toString()),!0)},t.prototype.sliderBarClick=function(e){var t;e.preventDefault(),"mousedown"===e.type||"mouseup"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:"touchend"!==e.type&&"touchstart"!==e.type||(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});var n=this.xyToPosition(t),i=this.positionToValue(n);if("Range"===this.type&&this.handlePos2-n<n-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled)i=(o=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd))[0],n=o[1];this.secondHandle.classList.add(Hp),this.handlePos2=this.preHandlePos2=n,this.handleVal2=i}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){var o;if(this.limits.enabled)i=(o=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd))[0],n=o[1];this.firstHandle.classList.add(Hp),this.handlePos1=this.preHandlePos1=n,this.handleVal1=i}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add(gp);var r=this.element.querySelector("."+xp);r&&this.getHandle()!==r&&r.classList.remove(xp);var s=1===this.activeHandle?this.firstHandle:this.secondHandle;if(e.target===s)return!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(xp)||this.materialChange(),this.sliderBarUp(e),void this.tooltipToggle(this.getHandle());if(this.checkRepeatedValue(i)){var a=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=a.handle,"Default"!==this.type&&(this.rangeBar.style.transition=a.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),this.changeEvent("changed",e),"Default"!==this.type&&this.setRangeBar()}},t.prototype.handleValueAdjust=function(e,t,n){1===n?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===n&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},t.prototype.dragRangeBarMove=function(e){var t,n,i,o,r;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none","mousemove"===e.type?(o=(t=[e.clientX,e.clientY])[0],r=t[1]):(o=(n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],r=n[1]),(!this.limits.enabled||!this.limits.startHandleFixed)&&(!this.limits.enabled||!this.limits.endHandleFixed)){if(i=this.enableRtl?{x:o+this.secondPartRemain,y:r+this.secondPartRemain}:{x:o-this.firstPartRemain,y:r+this.secondPartRemain},this.handlePos1=this.xyToPosition(i),this.handleVal1=this.positionToValue(this.handlePos1),i=this.enableRtl?{x:o-this.firstPartRemain,y:r-this.firstPartRemain}:{x:o+this.secondPartRemain,y:r-this.firstPartRemain},this.handlePos2=this.xyToPosition(i),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){var s=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=s[0],this.handlePos1=s[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),s=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=s[0],this.handlePos2=s[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()},t.prototype.sliderBarUp=function(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove(Hp),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove(Hp)),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove(gp)),we.remove(document,"mousemove touchmove",this.sliderBarMove),we.remove(document,"mouseup touchend",this.sliderBarUp)},t.prototype.sliderBarMove=function(e){var t;"touchmove"!==e.type&&e.preventDefault(),t="mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};var n=this.xyToPosition(t),i=this.positionToValue(n);if(n=Math.round(n),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var o=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd);n=o[1],i=o[0]}this.handlePos1=n,this.handleVal1=i}this.firstHandle.classList.add(Hp)}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add(Hp),(!this.limits.enabled||!this.limits.startHandleFixed)&&(n>this.handlePos2&&(n=this.handlePos2,i=this.handleVal2),n!==this.preHandlePos1)){if(this.limits.enabled)i=(r=this.getLimitValueAndPosition(i,this.limits.minStart,this.limits.minEnd))[0],n=r[1];this.handlePos1=this.preHandlePos1=n,this.handleVal1=i,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add(Hp),(!this.limits.enabled||!this.limits.endHandleFixed)&&(n<this.handlePos1&&(n=this.handlePos1,i=this.handleVal1),n!==this.preHandlePos2))){var r;if(this.limits.enabled)i=(r=this.getLimitValueAndPosition(i,this.limits.maxStart,this.limits.maxEnd))[0],n=r[1];this.handlePos2=this.preHandlePos2=n,this.handleVal2=i,this.activeHandle=2}this.checkRepeatedValue(i)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(xp)||this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())},t.prototype.dragRangeBarUp=function(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),we.remove(document,"mousemove touchmove",this.dragRangeBarMove),we.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1},t.prototype.checkRepeatedValue=function(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1},t.prototype.refreshTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))},t.prototype.openTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)},t.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},t.prototype.keyDown=function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}},t.prototype.wireButtonEvt=function(e){e?(we.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),we.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),we.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),we.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),we.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),we.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),we.remove(this.firstBtn,"focusout",this.sliderFocusOut),we.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(we.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),we.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),we.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),we.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),we.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),we.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),we.add(this.firstBtn,"focusout",this.sliderFocusOut,this),we.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},t.prototype.rangeBarMousedown=function(e){var t,n;if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){var i=void 0,o=void 0;"mousedown"===e.type?(i=(t=[e.clientX,e.clientY])[0],o=t[1]):"touchstart"===e.type&&(i=(n=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],o=n[1]),"Horizontal"===this.orientation?(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-i):(this.firstPartRemain=o-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-o),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var r=this.element.querySelector("."+xp);r&&r.classList.remove(xp),we.add(document,"mousemove touchmove",this.dragRangeBarMove,this),we.add(document,"mouseup touchend",this.dragRangeBarUp,this)}},t.prototype.elementClick=function(e){this.isDragComplete?this.isDragComplete=!1:(e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e),this.focusHandle())},t.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(we.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&we.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),we.add(this.sliderContainer,"keydown",this.keyDown,this),we.add(this.sliderContainer,"keyup",this.keyUp,this),we.add(this.element,"focusout",this.sliderFocusOut,this),we.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&we.add(this.formElement,"reset",this.formResetHandler,this))},t.prototype.unwireEvents=function(){we.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&we.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),we.remove(this.sliderContainer,"keydown",this.keyDown),we.remove(this.sliderContainer,"keyup",this.keyUp),we.remove(this.element,"focusout",this.sliderFocusOut),we.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),we.remove(this.element,"reset",this.formResetHandler)},t.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},t.prototype.keyUp=function(e){if(9===e.keyCode&&e.target.classList.contains($d)&&(this.focusSliderElement(),!e.target.classList.contains(xp))){this.element.querySelector("."+xp)&&this.element.querySelector("."+xp).classList.remove(xp),e.target.classList.add(xp);var t=e.target.parentElement;t===this.element&&(t.querySelector("."+yp).classList.add(Rp),"Range"!==this.type&&"MinRange"!==this.type||t.querySelector("."+Qd).classList.add(Ap)),"Range"===this.type&&(e.target.previousSibling.classList.contains($d)?this.activeHandle=2:this.activeHandle=1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)},t.prototype.hover=function(e){if(!E(e))if("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type)this.sliderContainer.classList.add(sp);else{this.sliderContainer.classList.remove(sp);var t=e.currentTarget;this.tooltip.isVisible&&"Always"!==this.tooltip.showOn&&this.tooltipObj&&this.isMaterialTooltip&&!t.classList.contains(wp)&&!t.classList.contains(xp)&&this.closeMaterialTooltip()}},t.prototype.sliderFocusOut=function(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector("."+xp)&&this.element.querySelector("."+xp).classList.remove(xp),this.element.querySelector("."+Rp)&&(this.element.querySelector("."+Rp).classList.remove(Rp),"Range"!==this.type&&"MinRange"!==this.type||!this.element.querySelector("."+Ap)||this.element.querySelector("."+Ap).classList.remove(Ap)),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},t.prototype.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.prototype.changeSliderType=function(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove(vp),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!E(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?E(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):E(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==t&&this.updateConfig()},t.prototype.changeRtl=function(){if(this.enableRtl||"Range"!==this.type||(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var e=this.enableRtl&&"Vertical"!==this.orientation;Re(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),Re(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},t.prototype.changeOrientation=function(){this.changeSliderType(this.type,"null")},t.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},t.prototype.limitsPropertyChange=function(){this.limits.enabled?(E(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),E(this.limitBarFirst)&&E(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(E(this.limitBarFirst)||Oe(this.limitBarFirst),E(this.limitBarSecond)||Oe(this.limitBarSecond))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),Te([this.sliderContainer],[cp]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),Oe(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML=""},t.prototype.onPropertyChanged=function(e,t){for(var n=this,i=0,o=Object.keys(e);i<o.length;i++){var r=o[i];switch(r){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){var s=E(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:s},!0),E(t.value)||t.value.toString()===s.toString()||(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(E(e.value)||t.value[1]===s[1]?this.activeHandle=1:this.activeHandle=2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":E(e.tooltip)||E(t.tooltip)||this.setTooltip(r);break;case"type":E(t)||!Object.keys(t).length||E(t.type)||(this.changeSliderType(t.type,r),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":E(this.sliderContainer.querySelector("."+tp))||(Oe(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,(function(e){e.match(/e-scale-/)&&n.sliderContainer.classList.remove(e)}))),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove(Mp),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}},t.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add(_p)):(this.wireEvents(),this.sliderContainer.classList.remove(_p))},t.prototype.setMinMaxValue=function(){var e=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),E(this.sliderContainer.querySelector("."+tp))||this.ul&&(Oe(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,(function(t){t.match(/e-scale-/)&&e.sliderContainer.classList.remove(t)}))),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())},t.prototype.setZindex=function(){this.zIndex=6,E(this.ticks)||"None"===this.ticks.placement||(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),this.isMaterial||E(this.ticks)||"Both"!==this.ticks.placement||(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},t.prototype.setTooltip=function(e){this.changeSliderType(this.type,e)},t.prototype.setBarColor=function(){for(var e,t,n=this.sliderTrack.lastElementChild;n;)this.sliderTrack.removeChild(n),n=this.sliderTrack.lastElementChild;for(var i=0;i<this.colorRange.length;i++)if(!E(this.colorRange[i].start)&&!E(this.colorRange[i].end)&&this.colorRange[i].end>this.colorRange[i].start){this.colorRange[i].start<this.min&&(this.colorRange[i].start=this.min),this.colorRange[i].end>this.max&&(this.colorRange[i].end=this.max);var o=this.checkHandlePosition(this.colorRange[i].start),r=this.checkHandlePosition(this.colorRange[i].end),s=this.createElement("div");s.style.backgroundColor=this.colorRange[i].color,s.style.border="1px solid "+this.colorRange[i].color,"Horizontal"===this.orientation?(t=bp,e=this.enableRtl?E(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[i].end):this.checkHandlePosition(this.customValues.length-this.colorRange[i].end-1):this.checkHandlePosition(this.colorRange[i].start),s.style.width=r-o+"px",s.style.left=e+"px"):(t=Cp,e=this.checkHandlePosition(this.colorRange[i].start),s.style.height=r-o+"px",s.style.bottom=e+"px"),s.classList.add(t),this.sliderTrack.appendChild(s)}},t.prototype.getModuleName=function(){return"slider"},_d([et(null)],t.prototype,"value",void 0),_d([et(null)],t.prototype,"customValues",void 0),_d([et(1)],t.prototype,"step",void 0),_d([et(null)],t.prototype,"width",void 0),_d([et(0)],t.prototype,"min",void 0),_d([et(100)],t.prototype,"max",void 0),_d([et(!1)],t.prototype,"readonly",void 0),_d([et("Default")],t.prototype,"type",void 0),_d([nt([{}],qd)],t.prototype,"colorRange",void 0),_d([tt({},Vd)],t.prototype,"ticks",void 0),_d([tt({},Ud)],t.prototype,"limits",void 0),_d([et(!0)],t.prototype,"enabled",void 0),_d([tt({},Wd)],t.prototype,"tooltip",void 0),_d([et(!1)],t.prototype,"showButtons",void 0),_d([et(!0)],t.prototype,"enableAnimation",void 0),_d([et("Horizontal")],t.prototype,"orientation",void 0),_d([et("")],t.prototype,"cssClass",void 0),_d([et(!1)],t.prototype,"enableHtmlSanitizer",void 0),_d([it()],t.prototype,"created",void 0),_d([it()],t.prototype,"change",void 0),_d([it()],t.prototype,"changed",void 0),_d([it()],t.prototype,"renderingTicks",void 0),_d([it()],t.prototype,"renderedTicks",void 0),_d([it()],t.prototype,"tooltipChange",void 0),t=_d([ot],t)}(kt),Gp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Qp="e-apply",Jp="e-cancel",Zp="e-current",eu="e-ctrl-btn",tu="e-switch-ctrl-btn",nu="e-disabled",iu="e-value-switch-btn",ou="e-handler",ru="e-hex",su="e-hide-hex-value",au="e-hide-opacity",lu="e-hide-switchable-value",cu="e-hide-value",hu="e-hide-valueswitcher",du="e-hsv-color",pu="e-hsv-container",uu="e-selected-value",mu="e-mode-switch-btn",fu="e-nocolor-item",gu="e-opacity-value",vu="e-palette",yu="e-color-palette",bu="e-color-picker",Cu="e-preview-container",wu="e-previous",Eu="e-show-value",Su="e-selected",ku="e-split-preview",Tu="e-tile",xu=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"],Nu=function(e){function t(t,n){return e.call(this,t,n)||this}return Gp(t,e),t.prototype.preRender=function(){var e=this.element;this.formElement=Ie(this.element,"form"),this.formElement&&we.add(this.formElement,"reset",this.formResetHandler,this);this.l10n=new It("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)},t.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||ke([this.container.parentElement],au),this.renderComplete()},t.prototype.initWrapper=function(){var e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),Re(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);var t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");var n=t.slice(0,7);E(this.initialInputValue)&&(this.initialInputValue=n),this.element.value=n,this.enableOpacity?this.setProperties({value:t},!0):this.setProperties({value:n},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&ke([e],this.cssClass.split(" ")),this.tileRipple=ht(this.container,{selector:"."+Tu}),this.ctrlBtnRipple=ht(this.container,{selector:".e-btn"})},t.prototype.getWrapper=function(){return this.element.parentElement},t.prototype.createWidget=function(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),Ce.isDevice&&this.refreshPopupPos()},t.prototype.createSplitBtn=function(){var e=this,t=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(t),this.splitBtn=new Kh({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:function(){e.trigger("change",{currentValue:{hex:e.value.slice(0,7),rgba:e.convertToRgbString(e.hexToRgb(e.value))},previousValue:{hex:null,rgba:null},value:e.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(t);var n=this.createElement("span",{className:ku});Ae(".e-selected-color",t).appendChild(n),n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var i=this.getPopupEle();if(ke([i],"e-colorpicker-popup"),this.cssClass&&ke([i],this.cssClass.split(" ")),Ce.isDevice){var o=this.getPopupInst();o.relateTo=document.body,o.position={X:"center",Y:"center"},o.targetType="container",o.collision={X:"fit",Y:"fit"},o.offsetY=4,i.style.zIndex=bi(this.splitBtn.element).toString()}this.bindCallBackEvent()},t.prototype.onOpen=function(){this.trigger("open",{element:this.container})},t.prototype.getPopupInst=function(){return D(this.getPopupEle(),vi)},t.prototype.bindCallBackEvent=function(){var e=this;this.splitBtn.beforeOpen=function(t){var n=new Gh;return e.trigger("beforeOpen",t,(function(i){if(!i.cancel){var o=e.getPopupEle();o.style.top=L(0+pageYOffset),o.style.left=L(0+pageXOffset),o.style.display="block",e.createWidget(),o.style.display="",Ce.isDevice&&(e.modal=e.createElement("div"),e.modal.className="e-"+e.getModuleName()+" e-modal",e.modal.style.display="none",document.body.insertBefore(e.modal,o),document.body.className+=" e-colorpicker-overflow",e.modal.style.display="block",e.modal.style.zIndex=(Number(o.style.zIndex)-1).toString())}t.cancel=i.cancel,n.resolve(i)})),n},this.splitBtn.beforeClose=function(t){var n=new Gh;if(E(t.event))n.resolve(t);else{var i={element:e.container,event:t.event,cancel:!1};e.trigger("beforeClose",i,(function(i){Ce.isDevice&&t.event.target===e.modal&&(i.cancel=!0),i.cancel||e.onPopupClose(),t.cancel=i.cancel,n.resolve(i)}))}return n}},t.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",Ae("."+ku,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",Te([this.container],[bu,yu]),Ce.isDevice&&this.modal&&(Te([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.createPalette=function(){if(je(this.container,[yu],[bu]),this.presetColors){var e=this.createElement("div",{className:"e-custom-palette"});this.appendElement(e);var t=Object.keys(this.presetColors);if(1===t.length)this.appendPalette(this.presetColors[t[0]],t[0],e);else for(var n=0,i=t.length;n<i;n++)this.appendPalette(this.presetColors[t[n]],t[n],e);He(".e-row",e).length>10&&ke([e],"e-palette-group")}else this.appendPalette(xu,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var o=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=L(this.container.children[0].offsetWidth+o+o),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},t.prototype.firstPaletteFocus=function(){Ae("."+Su,this.container.children[0])||He(".e-palette",this.container)[0].focus()},t.prototype.appendPalette=function(e,t,n){var i,o,r,s=this.createElement("div",{className:vu,attrs:{tabindex:"0"}});n?n.appendChild(s):this.appendElement(s);for(var a=0,l=e.length;a<l;a++)0!==a&&a%this.columns!==0||(i=this.createElement("div",{className:"e-row",attrs:{role:"presentation"}}),s.appendChild(i)),r=this.roundValue(e[a]).toLowerCase(),o=this.createElement("span",{className:Tu,attrs:{role:"gridcell","aria-label":r,"aria-selected":"false",tabindex:"0"}}),this.trigger("beforeTileRender",{element:o,presetName:t,value:e[a]}),i.appendChild(o),this.value===r&&(this.addTileSelection(o),s.focus()),o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(r))},t.prototype.setNoColor=function(){var e=this.container.querySelector(".e-row").children[0];e.classList.add(fu),this.value||(e.classList.add(Su),Ie(e,".e-palette").focus()),["aria-selected","aria-label"].forEach((function(t){e.removeAttribute(t)})),e.style.backgroundColor=""},t.prototype.appendElement=function(e,t){void 0===t&&(t=0);var n=this.container.children[t];n?this.container.insertBefore(e,n):this.container.appendChild(e)},t.prototype.addTileSelection=function(e){e.classList.add(Su),e.setAttribute("aria-selected","true")},t.prototype.createPicker=function(){je(this.container,[bu],[yu]);var e=this.createElement("div",{className:pu});this.appendElement(e),e.appendChild(this.createElement("div",{className:du}));var t=this.createElement("span",{className:ou,attrs:{tabindex:"0"}});e.appendChild(t),null===this.value&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},t.prototype.setHsvContainerBg=function(e){void 0===e&&(e=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))},t.prototype.getHsvContainer=function(){return Ae("."+pu,this.container)},t.prototype.setHandlerPosition=function(){var e=this.getDragHandler(),t=Ae("."+du,this.container);this.enableRtl?e.style.left=L(t.offsetWidth*Math.abs(100-this.hsv[1])/100):e.style.left=L(t.offsetWidth*this.hsv[1]/100),e.style.top=L(t.offsetHeight*(100-this.hsv[2])/100)},t.prototype.createSlider=function(){var e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);var t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);var n=this.createElement("div",{className:"e-hue-slider"});t.appendChild(n),this.hueSlider=new Kp({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(n),this.enableOpacity&&(n=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(n),this.createOpacitySlider(n))},t.prototype.createOpacitySlider=function(e){this.opacitySlider=new Kp({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);var t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()},t.prototype.updateOpacitySliderBg=function(){var e=this.enableRtl?"to left":"to right",t=Ae(".e-opacity-empty-track",this.opacitySlider.element);t&&(t.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")},t.prototype.hueChange=function(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()},t.prototype.opacityChange=function(e){var t=e.value,n=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;var i=this.rgbToHex(this.rgb);this.updateOpacityInput(t);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(i,n,o)},t.prototype.updateOpacityInput=function(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(cu)){var t=D(Ae("."+gu,this.container),jd);t.value=e,t.dataBind()}},t.prototype.createPreview=function(e){var t=this.createElement("div",{className:Cu});e.appendChild(t);var n=this.createElement("span",{className:"e-preview "+Zp});t.appendChild(n);var i=this.convertToRgbString(this.rgb);n.style.backgroundColor=i,n=this.createElement("span",{className:"e-preview "+wu}),t.appendChild(n),n.style.backgroundColor=i},t.prototype.isPicker=function(){return!this.container.classList.contains(yu)},t.prototype.getPopupEle=function(){return this.container.parentElement},t.prototype.createNumericInput=function(e,t,n,i){var o=this,r=new jd({value:t,placeholder:n,min:0,max:i,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(e){e.event&&o.inputHandler(e.event)}});r.createElement=this.createElement,r.appendTo(e)},t.prototype.createInput=function(){var e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(cu)||!e&&t.classList.contains(Eu)){var n=this.createElement("div",{className:uu});e?this.appendElement(n,2):this.appendElement(n,1);var i=this.createElement("div",{className:"e-input-container"});if(n.appendChild(i),t.classList.contains(hu)||this.appendValueSwitchBtn(n),!t.classList.contains(su)){var o=this.createElement("input",{className:ru,attrs:{maxlength:"7",spellcheck:"false"}});i.appendChild(o),Ah.createInput({element:o,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),Ah.setValue(this.value.slice(0,7),o),o.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(lu)){var r=void 0,s=void 0;this.isRgb?(r="RGB",s=this.rgb):(r="HSV",s=this.hsv);for(var a=["rh","gs","bv"],l=0;l<3;l++)this.createNumericInput(i.appendChild(this.createElement("input",{className:"e-"+a[l]+"-value"})),s[l],r[l],255);this.enableOpacity&&this.appendOpacityValue(i)}}},t.prototype.appendOpacityValue=function(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:gu})),100*this.rgb[3],"A",100)},t.prototype.appendValueSwitchBtn=function(e){var t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+iu});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(lu)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))},t.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var e=this.createElement("div",{className:tu});if(this.container.appendChild(e),this.showButtons){var t=this.createElement("div",{className:eu});e.appendChild(t);var n=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-primary e-small "+Qp,attrs:{title:n}}));var i=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-small "+Jp,attrs:{title:i}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},t.prototype.appendModeSwitchBtn=function(){var e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+mu,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});Ae("."+tu,this.container).insertBefore(e,Ae("."+eu,this.container))},t.prototype.createDragTooltip=function(){var e=this,t=new ud({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:function(t){e.tooltipEle=t.element},animation:{open:{effect:"None"},close:{effect:"None"}}});t.createElement=this.createElement,t.appendTo(this.container),t.open(this.container),this.tooltipEle.style.zIndex=bi(this.tooltipEle).toString(),Ae(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},t.prototype.getTooltipInst=function(){return D(this.container,ud)},t.prototype.setTooltipOffset=function(e){this.getTooltipInst().offsetY=e},t.prototype.toggleDisabled=function(e){e?this.getWrapper().classList.add(nu):this.getWrapper().classList.remove(nu),this.showButtons&&[].slice.call(He(".e-btn",this.container)).forEach((function(t){e?Re(t,{disabled:""}):t.removeAttribute("disabled")}))},t.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},t.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},t.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},t.prototype.convertToOtherFormat=function(e){void 0===e&&(e=!1);var t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var n=this.rgbToHex(this.rgb),i=this.convertToRgbString(this.rgb);this.updatePreview(i),this.updateInput(n),this.triggerEvent(n,t,i,e)},t.prototype.updateInput=function(e){var t=this.getWrapper();t.classList.contains(cu)||(t.classList.contains(su)||Ah.setValue(e.substr(0,7),Ae("."+ru,this.container)),t.classList.contains(lu)||(this.isRgb?this.updateValue(this.rgb,!1):this.updateValue(this.hsv,!1)))},t.prototype.updatePreview=function(e){this.enableOpacity&&this.updateOpacitySliderBg(),Ae(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,Ae("."+Cu+" ."+Zp,this.container).style.backgroundColor=e,Ae("."+Cu+" ."+wu,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},t.prototype.getDragHandler=function(){return Ae("."+ou,this.container)},t.prototype.removeTileSelection=function(){[].slice.call(He("."+Su,this.container.children[0])).forEach((function(e){e.classList.remove(Su),e.setAttribute("aria-selected","false")}))},t.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((function(e,t){return 3!==t?parseInt(e,10):parseFloat(e)}))},t.prototype.getValue=function(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){var n=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){var i=this.rgbToHex(n);return"hex"===t?i.slice(0,7):i}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"null"}if("h"===e[0]){n=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(n);if("hex"===t||"hexa"===t){i=this.rgbToHex(n);return"hex"===t?i.slice(0,7):i}return"rgb"===t?this.convertToRgbString(n.slice(0,3)):"null"}e=this.roundValue(e);var o=this.hexToRgb(e);return"rgb"!==t&&"hsv"!==t||(o=o.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(o):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,o)):"hex"===t?e.slice(0,7):"a"===t?o[3].toString():"null"},t.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},t.prototype.getModuleName=function(){return"colorpicker"},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.wireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();we.add(e,"keydown",this.pickerKeyDown,this),we.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),we.add(Ae("."+wu,this.container),"click",this.previewHandler,this)}else we.add(this.container,"click",this.paletteClickHandler,this),we.add(this.container,"keydown",this.paletteKeyDown,this)},t.prototype.formResetHandler=function(){this.value=this.initialInputValue,Re(this.element,{value:this.initialInputValue})},t.prototype.addCtrlSwitchEvent=function(){var e=Ae("."+tu,this.container);e&&we.add(e,"click",this.btnClickHandler,this)},t.prototype.pickerKeyDown=function(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:e.preventDefault();var t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}},t.prototype.enterKeyHandler=function(e,t){this.triggerChangeEvent(e),this.inline||(this.closePopup(t),this.splitBtn.element.focus())},t.prototype.closePopup=function(e){var t=this,n={element:this.container,event:e,cancel:!1};this.trigger("beforeClose",n,(function(e){e.cancel||(t.splitBtn.toggle(),t.onPopupClose())}))},t.prototype.triggerChangeEvent=function(e){var t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.enableOpacity?this.setProperties({value:e},!0):this.setProperties({value:t},!0),this.element.value=t||"#000000"},t.prototype.handlerDragPosition=function(e,t,n){n.preventDefault(),this.hsv[e]+=t*(n.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)},t.prototype.handlerDown=function(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),we.add(document,"mousemove touchmove",this.handlerMove,this),we.add(document,"mouseup touchend",this.handlerEnd,this)},t.prototype.handlerMove=function(e){var t,n;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),n=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),n=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,n);var i=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(i),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-n)>8)&&(Ae("."+du,this.container).style.cursor="pointer",i.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",i.classList.add("e-hide-handler"))},t.prototype.setHsv=function(e,t){var n=Ae("."+du,this.container),i=n.getBoundingClientRect();e=this.enableRtl?e>i.right?0:Math.abs(e-i.right):e>i.left?Math.abs(e-i.left):0,t=t>i.top?Math.abs(t-i.top):0,this.hsv[2]=Math.round(10*Number(100*(n.offsetHeight-Math.max(0,Math.min(n.offsetHeight,t-n.offsetTop)))/n.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(n.offsetWidth,e-n.offsetLeft))/n.offsetWidth))/10},t.prototype.handlerEnd=function(e){"touchend"!==e.type&&e.preventDefault(),we.remove(document,"mousemove touchmove",this.handlerMove),we.remove(document,"mouseup touchend",this.handlerEnd);var t=this.getDragHandler();Ae("."+du,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),this.inline||this.showButtons||this.closePopup(e)},t.prototype.btnClickHandler=function(e){var t=e.target;Ie(t,"."+mu)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains(Qp)||t.classList.contains(Jp))&&this.ctrlBtnClick(t,e)},t.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),Oe(Ae(".e-slider-preview",this.container)),this.getWrapper().classList.contains(cu)||Me(Ae("."+uu,this.container)),Oe(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})},t.prototype.refreshPopupPos=function(){if(!this.inline){var e=this.getPopupEle();e.style.left=L(0+pageXOffset),e.style.top=L(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},t.prototype.formatSwitchHandler=function(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},t.prototype.updateValue=function(e,t,n,i){for(var o,r=["e-rh-value","e-gs-value","e-bv-value"],s=0,a=r.length;s<a;s++)(o=D(Ae("."+r[s],this.container),jd)).value=Math.round(e[s]),t&&(o.placeholder=r[s].substr(n,1).toUpperCase(),o.max=i?i[s]:255),o.dataBind()},t.prototype.previewHandler=function(e){var t=e.target,n=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var i=this.rgbToHex(this.rgb),o=this.rgbToHsv.apply(this,this.rgb);o[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:o[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(o[0]),this.enableOpacity&&o[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*o[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=o,this.setHandlerPosition(),this.updateInput(i),Ae("."+Cu+" ."+Zp,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(i,n,this.convertToRgbString(this.rgb))},t.prototype.paletteClickHandler=function(e){e.preventDefault();var t=e.target;if(t.classList.contains(Tu)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(fu))this.noColorTile();else{var n=t.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(n)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Eu)&&this.updateInput(n),this.triggerEvent(n,i,this.convertToRgbString(this.rgb))}this.inline||this.showButtons||this.closePopup(e)}else Ie(t,"."+mu)?this.switchToPicker():t.classList.contains(Qp)||t.classList.contains(Jp)?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(Eu)&&Ie(t,"."+iu)&&this.formatSwitchHandler()},t.prototype.noColorTile=function(e){void 0===e&&(e=!1);var t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)},t.prototype.switchToPicker=function(){var e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(He(".e-palette",this.container)).forEach((function(e){Oe(e)})),e.classList.contains(Eu)&&Oe(Ae("."+uu,this.container)),this.container.style.width="";var t=Ae(".e-custom-palette",this.container);this.presetColors&&Me(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})},t.prototype.ctrlBtnClick=function(e,t){if(e.classList.contains(Qp)){var n=this.rgbToHex(this.rgb);this.triggerChangeEvent(n)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())},t.prototype.paletteKeyDown=function(e){var t=e.target;if(t.classList.contains(vu)){var n,i,o=[].slice.call(He("."+Tu,t)),r=o.filter((function(e){return e.classList.contains("e-selected")})).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),n=r?o[this.tilePosition(o,r,this.enableRtl?-1:1)]:o[this.enableRtl?o.length-1:0],this.keySelectionChanges(n);break;case 37:e.preventDefault(),n=r?o[this.tilePosition(o,r,this.enableRtl?1:-1)]:o[this.enableRtl?0:o.length-1],this.keySelectionChanges(n);break;case 38:e.preventDefault(),n=o[i=r?this.tilePosition(o,r,-this.columns):0]?o[i]:o[i-this.columns],this.keySelectionChanges(n);break;case 40:e.preventDefault(),o[i=r?this.tilePosition(o,r,this.columns):o.length-1]?n=o[i]:(i%=o.length,n=o[i+=o[o.length-1].parentElement.childElementCount]),this.keySelectionChanges(n);break;case 13:if(e.preventDefault(),r){var s=r.getAttribute("aria-label");this.enterKeyHandler(s||"",e)}}}},t.prototype.keySelectionChanges=function(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(fu))this.noColorTile(!0);else{var t=e.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(Eu)&&this.updateInput(t),this.triggerEvent(t,n,this.convertToRgbString(this.rgb),!0)}},t.prototype.tilePosition=function(e,t,n){var i=(e=Array.prototype.slice.call(e)).length,o=this.columns-e[i-1].parentElement.childElementCount,r=e.indexOf(t);return(r+=n)<0?r+=i+o:r%=i+o,r},t.prototype.inputHandler=function(e){var t,n,i=e.target;if(i.value.length)switch(Ae(".e-float-text",i.parentElement).textContent){case"HEX":var o="";if(("#"===i.value[0]&&5!==i.value.length||"#"!==i.value[0]&&4!==i.value.length)&&(o=this.roundValue(i.value)),9!==o.length)return;n=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(o+o.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),n,i.value);break;case"R":this.rgb[0]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[0]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"G":this.rgb[1]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[1]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"B":this.rgb[2]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[2]=Number(i.value),t=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(t,n));break;case"H":this.hueSlider.value=Number(i.value);break;case"S":this.hsv[1]!==Number(i.value)&&(this.hsv[1]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(i.value)&&(this.hsv[2]=Number(i.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(i.value)}},t.prototype.inputValueChange=function(e,t,n){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;var i=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(n||i);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(i,t,o)},t.prototype.triggerEvent=function(e,t,n,i){void 0===i&&(i=!1);var o=e.slice(0,7);this.showButtons||i?this.trigger("select",{currentValue:{hex:o,rgba:n},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:o,rgba:n},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.enableOpacity?this.setProperties({value:e},!0):this.setProperties({value:o},!0),this.element.value=o||"#000000")},t.prototype.destroy=function(){var t=this,n=this.getWrapper();e.prototype.destroy.call(this),["tabindex","spellcheck"].forEach((function(e){t.element.removeAttribute(e)})),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&Oe(this.element.nextElementSibling),n&&(n.parentElement.insertBefore(this.element,n),Oe(n)),this.container=null,this.formElement&&we.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.destroyOtherComp=function(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var e=this.getTooltipInst();e.close(),e.destroy(),this.tooltipEle=null}},t.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},t.prototype.unWireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();we.remove(e,"keydown",this.pickerKeyDown),we.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&we.remove(Ae("."+tu,this.container),"click",this.btnClickHandler),we.remove(Ae("."+wu,this.container),"click",this.previewHandler)}else we.remove(this.container,"click",this.paletteClickHandler),we.remove(this.container,"keydown",this.paletteKeyDown)},t.prototype.roundValue=function(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);var t=e.length;if(4===t&&(e+="f",t=5),5===t){for(var n="",i=1,o=e.length;i<o;i++)n+=e.charAt(i)+e.charAt(i);e="#"+n,t=9}return 7===t&&(e+="ff"),e},t.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var n=parseInt(e,16),i=[];return i.push(n>>16&255),i.push(n>>8&255),i.push(255&n),i.push(t),i},t.prototype.rgbToHsv=function(e,t,n,i){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,n/=255;var o,r=Math.max(e,t,n),s=Math.min(e,t,n),a=r,l=r-s,c=0===r?0:l/r;if(r===s)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}var h=[Math.round(360*o),Math.round(1e3*c)/10,Math.round(1e3*a)/10];return E(i)||h.push(i),h},t.prototype.hsvToRgb=function(e,t,n,i){var o,r,s;if(n/=100,0===(t/=100))return o=r=s=n,[Math.round(255*o),Math.round(255*r),Math.round(255*s),i];e/=60;var a=Math.floor(e),l=e-a,c=n*(1-t),h=n*(1-t*l),d=n*(1-t*(1-l));switch(a){case 0:o=n,r=d,s=c;break;case 1:o=h,r=n,s=c;break;case 2:o=c,r=n,s=d;break;case 3:o=c,r=h,s=n;break;case 4:o=d,r=c,s=n;break;default:o=n,r=c,s=h}var p=[Math.round(255*o),Math.round(255*r),Math.round(255*s)];return E(i)||p.push(i),p},t.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(E(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},t.prototype.hex=function(e){return("0"+e.toString(16)).slice(-2)},t.prototype.changeModeSwitcherProp=function(e){var t=Ae("."+tu,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?Oe(Ae("."+mu,t)):Me(t))},t.prototype.changeShowBtnProps=function(e){var t=Ae("."+tu,this.container);e?(t&&Me(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?Oe(Ae("."+eu,t)):Me(t)},t.prototype.changeValueProp=function(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),Oe(Ie(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();var t=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');t&&this.addTileSelection(t)}},t.prototype.setInputEleProps=function(){Me(Ae("."+uu,this.container)),this.createInput()},t.prototype.changeDisabledProp=function(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},t.prototype.changeCssClassProps=function(e,t){var n=this.getWrapper(),i=this.getPopupEle();t&&Te([n,i],t.split(" ")),e&&ke([n,i],e.split(" "))},t.prototype.changeRtlProps=function(e){e?ke([this.getWrapper()],"e-rtl"):Te([this.getWrapper()],"e-rtl")},t.prototype.changePaletteProps=function(){Oe(this.container.children[0]),this.container.style.width="",this.createPalette()},t.prototype.changeOpacityProps=function(e){var t=this.getWrapper();e?(Te([this.container.parentElement],au),this.createOpacitySlider(Ae(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),t.classList.contains(cu)||t.classList.contains(lu)||this.appendOpacityValue(Ae(".e-input-container",this.container))):(ke([this.container.parentElement],au),this.opacitySlider.destroy(),Me(this.opacitySlider.element),this.opacitySlider=null,t.classList.contains(cu)||t.classList.contains(lu)||Me(Ae("."+gu,this.container).parentElement))},t.prototype.onPropertyChanged=function(e,t){var n=this;if(!E(e.value)){var i=this.roundValue(e.value);if(9===i.length){this.element.value=this.roundValue(i).slice(0,7);var o=this.splitBtn&&Ae("."+ku,this.splitBtn.element);o&&(o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else this.value=t.value}if(!this.inline&&E(e.inline)){if(this.splitBtn.setProperties(Oh(e,["disabled","enableRtl"])),!this.isPopupOpen())return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl)}for(var r=function(i){switch(i){case"inline":e.inline?(s.getWrapper().appendChild(s.container),s.splitBtn.destroy(),Oe(s.element.nextElementSibling),s.container.children.length||s.createWidget()):(s.destroyOtherComp(),s.unWireEvents(),s.container.innerHTML="",s.createSplitBtn());break;case"cssClass":s.changeCssClassProps(e.cssClass,t.cssClass);var o=e.cssClass.split(" ").concat(t.cssClass.split(" "));o=o.reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]);var r=0;o.forEach((function(e){0!==r||e!==cu&&e!==hu&&e!==Eu&&e!==su&&e!==lu||(Ae("."+uu,n.container)&&Me(Ae("."+uu,n.container)),n.createInput(),r++)}));break;case"enableRtl":s.isPicker()&&(s.hueSlider.enableRtl=e.enableRtl,s.enableOpacity&&(s.opacitySlider.enableRtl=e.enableRtl),s.setInputEleProps()),s.changeRtlProps(e.enableRtl);break;case"disabled":s.changeDisabledProp(e.disabled);break;case"value":s.value!==t.value&&s.changeValueProp(e.value);break;case"showButtons":s.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?s.switchToPicker():s.switchToPalette();break;case"modeSwitcher":s.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":s.isPicker()||s.changePaletteProps();break;case"noColor":e.noColor?"Palette"!==s.mode||s.modeSwitcher||s.setNoColor():s.changePaletteProps();break;case"enableOpacity":s.changeOpacityProps(e.enableOpacity)}},s=this,a=0,l=Object.keys(e);a<l.length;a++){r(l[a])}},t.prototype.focusIn=function(){this.element.parentElement.focus()},$p([et("#008000ff")],t.prototype,"value",void 0),$p([et("")],t.prototype,"cssClass",void 0),$p([et(!1)],t.prototype,"disabled",void 0),$p([et("Picker")],t.prototype,"mode",void 0),$p([et(!0)],t.prototype,"modeSwitcher",void 0),$p([et(null)],t.prototype,"presetColors",void 0),$p([et(!0)],t.prototype,"showButtons",void 0),$p([et(10)],t.prototype,"columns",void 0),$p([et(!1)],t.prototype,"inline",void 0),$p([et(!1)],t.prototype,"noColor",void 0),$p([et(!1)],t.prototype,"enablePersistence",void 0),$p([et(!0)],t.prototype,"enableOpacity",void 0),$p([et(!1)],t.prototype,"createPopupOnClick",void 0),$p([it()],t.prototype,"select",void 0),$p([it()],t.prototype,"change",void 0),$p([it()],t.prototype,"beforeTileRender",void 0),$p([it()],t.prototype,"beforeOpen",void 0),$p([it()],t.prototype,"open",void 0),$p([it()],t.prototype,"beforeClose",void 0),$p([it()],t.prototype,"beforeModeSwitch",void 0),$p([it()],t.prototype,"onModeSwitch",void 0),$p([it()],t.prototype,"created",void 0),t=$p([ot],t)}(kt),Lu=function(){function e(e){this.parent=e,this.wireEvent()}return e.prototype.wireEvent=function(){this.parent.on(Ni,this.unWireEvent,this)},e.prototype.unWireEvent=function(){this.parent.off(Ni,this.unWireEvent),this.popupOverlay&&we.remove(this.popupOverlay,"click touchmove",this.onPopupOverlay),this.removePopupContainer()},e.prototype.toolbarBeforeCreate=function(e){"Extended"===this.mode&&(e.enableCollision=!1)},e.prototype.toolbarCreated=function(){this.parent.notify("toolbarCreated",this)},e.prototype.toolbarClicked=function(e){this.parent.enabled&&(this.parent.readonly&&!E(e.item)||this.parent.notify(Li,e),this.parent.trigger("toolbarClick",e))},e.prototype.dropDownSelected=function(e){this.parent.notify(qi,e),this.onPopupOverlay()},e.prototype.beforeDropDownItemRender=function(e){!this.parent.readonly&&this.parent.enabled&&this.parent.notify(Ui,e)},e.prototype.dropDownOpen=function(e){if(e.element.parentElement.getAttribute("id").indexOf("TableCell")>-1&&!E(e.element.parentElement.querySelector(".e-cell-merge"))&&(!E(e.element.parentElement.querySelector(".e-cell-horizontal-split"))||!E(e.element.parentElement.querySelector(".e-cell-vertical-split")))){var t=e.element.querySelectorAll("li");1===this.parent.inputElement.querySelectorAll(".e-cell-select").length?(ke([t[0]],"e-disabled"),Te([t[1],t[2]],"e-disabled")):this.parent.inputElement.querySelectorAll(".e-cell-select").length>1&&(Te([t[0]],"e-disabled"),ke([t[1],t[2]],"e-disabled"))}Ce.isDevice&&!e.element.parentElement.classList.contains(jo)&&this.popupModal(e.element.parentElement),this.parent.notify(Ji,e)},e.prototype.dropDownClose=function(e){this.removePopupContainer(),this.parent.notify(Zi,e)},e.prototype.removePopupContainer=function(){if(Ce.isDevice&&!E(this.popupContainer)){var e=this.popupContainer.querySelector(".e-dropdown-popup.e-tbar-btn.e-control");e&&(this.popupContainer.parentNode.insertBefore(e,this.popupContainer.nextSibling),e.style.removeProperty("position"),Te([e],"e-popup-modal")),Oe(this.popupContainer),this.popupContainer=void 0}},e.prototype.renderToolbar=function(e){this.setPanel(e.target),this.renderPanel(),this.mode=e.overflowMode,e.rteToolbarObj.toolbarObj=new Lh({items:e.items,width:"100%",overflowMode:e.overflowMode,beforeCreate:this.toolbarBeforeCreate.bind(this),created:this.toolbarCreated.bind(this),clicked:this.toolbarClicked.bind(this),enablePersistence:e.enablePersistence,enableRtl:e.enableRtl,cssClass:e.cssClass}),e.rteToolbarObj.toolbarObj.isStringTemplate=!0,e.rteToolbarObj.toolbarObj.createElement=this.parent.createElement,e.rteToolbarObj.toolbarObj.appendTo(e.target)},e.prototype.renderDropDownButton=function(e){var t,n=this;e.element.classList.add(Uo),t=e.cssClass+" "+"e-rte-elements "+nr,this.parent.inlineMode.enable&&Ce.isDevice&&(t=t+" "+zo);var i=this,o=new qh({items:e.items,iconCss:e.iconCss,cssClass:t,content:e.content,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,select:this.dropDownSelected.bind(this),beforeOpen:function(e){if(!i.parent.readonly&&i.parent.enabled){for(var t=0;t<e.element.childNodes.length;t++){var r=n.parent.createElement("div");r.innerHTML=o.content.trim(),""!==r.textContent.trim()&&e.element.childNodes[t].textContent.trim()===r.textContent.trim()?e.element.childNodes[t].classList.contains("e-active")||ke([e.element.childNodes[t]],"e-active"):Te([e.element.childNodes[t]],"e-active")}i.parent.notify(Qi,e)}else e.cancel=!0},close:this.dropDownClose.bind(this),open:this.dropDownOpen.bind(this),beforeItemRender:this.beforeDropDownItemRender.bind(this)});return o.isStringTemplate=!0,o.createElement=i.parent.createElement,o.appendTo(e.element),e.element.tabIndex=-1,document.getElementById(o.element.id+"-popup").setAttribute("aria-owns",this.parent.getID()),o},e.prototype.renderListDropDown=function(e){var t=this,n="e-rte-elements e-tbar-btn"+(this.parent.inlineMode?" "+zo:"");n+=" "+("NumberFormatList"===e.itemName?"e-rte-numberformatlist-dropdown":"e-rte-bulletformatlist-dropdown");var i=t.parent.createElement("span",{className:or}),o=t.parent.createElement("span",{className:e.cssClass});i.appendChild(o);var r=new qh({items:e.items,cssClass:n,content:e.content,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,select:this.dropDownSelected.bind(this),beforeOpen:function(e){if(!t.parent.readonly&&t.parent.enabled){var n=e.event?e.event.target:null;t.currentElement=r.element,t.currentDropdown=r,e.event&&"click"===e.event.type&&(n.classList.contains(or)||n.parentElement.classList.contains(or))?e.cancel=!0:t.parent.notify(Qi,e)}else e.cancel=!0},close:this.dropDownClose.bind(this),open:this.dropDownOpen.bind(this),beforeItemRender:this.beforeDropDownItemRender.bind(this)});return r.isStringTemplate=!0,r.createElement=t.parent.createElement,r.appendTo(e.element),e.element.tabIndex=-1,document.getElementById(r.element.id+"-popup").setAttribute("aria-owns",this.parent.getID()),1===e.element.childElementCount&&r.element.insertBefore(i,r.element.querySelector(".e-caret")),e.element.tabIndex=-1,r.element.removeAttribute("type"),r},e.prototype.onPopupOverlay=function(e){E(this.popupOverlay)||(Ie(this.popupOverlay,".e-popup-container").style.display="none",this.popupOverlay.style.display="none",Te([this.popupOverlay],"e-popup-overlay"))},e.prototype.setIsModel=function(e){Ie(e,".e-popup-container")?(e.parentElement.style.display="flex",this.popupOverlay=e.nextElementSibling,this.popupOverlay.style.display="block",ke([this.popupOverlay],"e-popup-overlay")):(this.popupContainer=this.parent.createElement("div",{className:"e-rte-modal-popup e-popup-container e-center"}),e.parentNode.insertBefore(this.popupContainer,e),this.popupContainer.appendChild(e),this.popupContainer.style.zIndex=e.style.zIndex,this.popupContainer.style.display="flex",e.style.position="relative",ke([e],"e-popup-modal"),this.popupOverlay=this.parent.createElement("div",{className:"e-popup-overlay"}),this.popupOverlay.style.zIndex=(parseInt(e.style.zIndex,null)-1).toString(),this.popupOverlay.style.display="block",this.popupContainer.appendChild(this.popupOverlay),we.add(this.popupOverlay,"click touchmove",this.onPopupOverlay,this))},e.prototype.paletteSelection=function(e,t){var n=e.element.querySelector(".e-control.e-colorpicker"),i=[].slice.call(He(".e-tile",n.parentElement));Te(i,"e-selected");var o=t.querySelector(".e-rte-elements").style.borderBottomColor;i.filter((function(e){e.style.backgroundColor===o&&ke([e],"e-selected")}))},e.prototype.renderColorPickerDropDown=function(e,t,n,i){var o=this,r=this,s="e-rte-elements e-tbar-btn"+(this.parent.inlineMode?" "+zo:"");s+=" "+("backgroundcolor"===t?"e-rte-backgroundcolor-dropdown":"e-rte-fontcolor-dropdown");var a,l=r.parent.createElement("span",{className:rr}),c=r.parent.createElement("span",{className:e.cssClass}),h=E(i)?r.parent.backgroundColor.default:i;c.style.borderBottomColor="backgroundcolor"===t?h:r.parent.fontColor.default,l.appendChild(c);var d=new qh({target:n.element.parentElement,cssClass:s,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,beforeOpen:function(t){if(!r.parent.readonly&&r.parent.enabled){var n=t.event?t.event.target:null;if(r.currentElement=d.element,r.currentDropdown=d,r.paletteSelection(t,r.currentElement),t.event&&"click"===t.event.type&&(n.classList.contains(rr)||n.parentElement.classList.contains(rr))){t.cancel=!0;var i=n.classList.contains(tr)?n.style.borderBottomColor:n.querySelector(".e-rte-elements").style.borderBottomColor;r.parent.notify(Zi,{});var o=(a=r.parent.formatter.editorManager.nodeSelection.getRange(r.parent.contentModule.getDocument())).startContainer.parentNode;("TD"===a.startContainer.nodeName||"TH"===a.startContainer.nodeName||Ie(a.startContainer.parentNode,"td,th")||r.parent.iframeSettings.enable&&!ba(o.ownerDocument.querySelector("body"),"e-lib"))&&a.collapsed&&"BackgroundColor"===e.subCommand?r.parent.notify(so,{item:{command:e.command,subCommand:e.subCommand,value:i}}):r.parent.notify(ro,{item:{command:e.command,subCommand:e.subCommand,value:i}})}else{var s=D(t.element.querySelector(".e-control.e-colorpicker"),Nu);s.showButtons=!t.element.querySelector(".e-color-palette"),s.dataBind(),t.element.onclick=function(e){e.target.classList.contains("e-cancel")&&d.toggle()}}}else t.cancel=!0},open:function(e){var t;o.setColorPickerContentWidth(n);var i=e.element.querySelector(".e-control.e-colorpicker");(t=e.element.querySelector(".e-color-palette")?i.parentElement.querySelector(".e-palette"):i.parentElement.querySelector("e-handler"))&&t.focus(),Ce.isDevice&&o.popupModal(e.element.parentElement),o.pickerRefresh(e)},beforeClose:function(t){var n=t.event?t.event.target:null;if(t.event&&"click"===t.event.type&&(n.classList.contains(rr)||n.parentElement.classList.contains(rr))){var i=n.classList.contains(tr)?n.style.borderBottomColor:n.querySelector(".e-rte-elements").style.borderBottomColor;("TD"===(a=r.parent.formatter.editorManager.nodeSelection.getRange(r.parent.contentModule.getDocument())).startContainer.nodeName||"TH"===a.startContainer.nodeName||Ie(a.startContainer.parentNode,"td,th"))&&a.collapsed?r.parent.notify(so,{item:{command:e.command,subCommand:e.subCommand,value:i}}):r.parent.notify(ro,{item:{command:e.command,subCommand:e.subCommand,value:i}})}else;},close:function(e){r.parent.notify(Zi,{});var t=Ie(e.element.parentElement,".e-popup-container");if(t&&(t.style.display="none",t.lastElementChild.style.display="none",Te([t.lastElementChild],"e-popup-overlay")),Ce.isDevice&&!E(t)){var n=t.querySelector(".e-dropdown-popup.e-tbar-btn.e-control");n&&(t.parentNode.insertBefore(n,t.nextSibling),n.style.removeProperty("position"),Te([n],"e-popup-modal")),Oe(t),r.popupContainer=void 0}}});return d.isStringTemplate=!0,d.createElement=r.parent.createElement,e.element.setAttribute("role","button"),d.appendTo(e.element),document.getElementById(d.element.id+"-popup").setAttribute("aria-owns",this.parent.getID()),d.element.insertBefore(l,d.element.querySelector(".e-caret")),e.element.tabIndex=-1,d.element.removeAttribute("type"),d.element.onmousedown=function(){r.parent.notify(Ji,{})},d.element.onkeydown=function(){r.parent.notify(Ji,{})},d},e.prototype.pickerRefresh=function(e){if("Picker"===this.parent.backgroundColor.mode){var t=e.element.parentElement;t.style.width=(t.offsetWidth+5).toString()+"px",D(t,vi).refreshPosition(t),t.style.width=(t.offsetWidth-5).toString()+"px"}},e.prototype.popupModal=function(e){var t=D(e,vi);t.relateTo=document.body,t.position={X:0,Y:0},t.targetType="container",t.collision={X:"fit",Y:"fit"},t.offsetY=4,t.dataBind(),this.setIsModel(e)},e.prototype.setColorPickerContentWidth=function(e){var t=e.element.nextSibling;if("0px"===t.style.width){t.style.width="";var n=parseInt(getComputedStyle(t).borderBottomWidth,10);t.style.width=L(t.children[0].offsetWidth+n+n)}},e.prototype.renderColorPicker=function(e,t){var n=this,i=new Nu({enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,inline:!0,value:"#fff",created:function(){var e="backgroundcolor"===t?n.parent.backgroundColor.default:n.parent.fontColor.default;i.setProperties({value:e})},mode:"backgroundcolor"===t?n.parent.backgroundColor.mode:n.parent.fontColor.mode,modeSwitcher:"backgroundcolor"===t?n.parent.backgroundColor.modeSwitcher:n.parent.fontColor.modeSwitcher,beforeTileRender:function(e){e.element.classList.add("e-rte-square-palette"),e.element.classList.add("e-custom-tile"),""===e.value&&e.element.classList.add("e-nocolor-item")},change:function(t){var i=t.currentValue.rgba;t.item={command:e.command,subCommand:e.subCommand,value:i},n.parent.notify(Zi,{}),n.currentElement.querySelector(".e-rte-elements").style.borderBottomColor=i;var o=n.parent.formatter.editorManager.nodeSelection.getRange(n.parent.contentModule.getDocument());("TD"===o.startContainer.nodeName||"TH"===o.startContainer.nodeName||"BODY"===o.startContainer.nodeName||Ie(o.startContainer.parentNode,"td,th"))&&o.collapsed&&"BackgroundColor"===e.subCommand?n.parent.notify(so,t):n.parent.notify(ro,t),n.currentDropdown.toggle()},beforeModeSwitch:function(e){""===i.value&&i.setProperties({value:"Picker"===e.mode?"#008000ff":""},!0),i.showButtons="Palette"!==e.mode}});return i.isStringTemplate=!0,i.columns="backgroundcolor"===t?this.parent.backgroundColor.columns:this.parent.fontColor.columns,i.presetColors="backgroundcolor"===t?this.parent.backgroundColor.colorCode:this.parent.fontColor.colorCode,i.cssClass="backgroundcolor"===t?"e-rte-backgroundcolor-colorpicker":"e-rte-fontcolor-colorpicker",i.createElement=this.parent.createElement,i.appendTo(document.getElementById(e.target)),i},e.prototype.renderPanel=function(){this.getPanel().classList.add(Mo)},e.prototype.getPanel=function(){return this.toolbarPanel},e.prototype.setPanel=function(e){this.toolbarPanel=e},e}(),Pu=function(){function e(e,t){this.tools={},this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?w(this.tools,fs,Da(this.parent.toolbarSettings.itemConfigs),!0):this.tools=fs}return e.prototype.addEventListener=function(){this.parent.on(uo,this.setRtl,this),this.parent.on(xo,this.setCssClass,this),this.parent.on(Ni,this.removeEventListener,this)},e.prototype.removeEventListener=function(){this.parent.off(uo,this.setRtl),this.parent.off(xo,this.setCssClass),this.parent.off(Ni,this.removeEventListener)},e.prototype.setCssClass=function(e){E(this.toolbarObj)||(E(e.oldCssClass)?this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass+" "+e.cssClass).trim()}):this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},e.prototype.setRtl=function(e){E(this.toolbarObj)||this.toolbarObj.setProperties({enableRtl:e.enableRtl})},e.prototype.getClass=function(e){var t;switch(e){case"fontsize":t="e-rte-inline-size-template";break;case"fontcolor":case"backgroundcolor":t="e-rte-inline-color-template";break;default:t="e-rte-inline-template"}return t},e.prototype.getTemplateObject=function(e,t){var n;switch(e){case"fontcolor":case"backgroundcolor":case"numberformatlist":case"bulletformatlist":n="span";break;default:n="button"}return{command:this.tools[e.toLocaleLowerCase()].command,subCommand:this.tools[e.toLocaleLowerCase()].subCommand,template:this.parent.createElement(n,{id:this.parent.getID()+"_"+t+"_"+this.tools[e.toLocaleLowerCase()].id}).outerHTML,cssClass:this.parent.inlineMode.enable?this.getClass(e):"",tooltipText:Sa(e,this.locator)}},e.prototype.getObject=function(e,t){var n=e.toLowerCase();if(-1!==ms.indexOf(n))return this.getTemplateObject(n,t);switch(n){case"|":return{type:"Separator"};case"-":return{type:"Separator",cssClass:"e-rte-horizontal-separator"};default:return{id:this.parent.getID()+"_"+t+"_"+this.tools[n.toLocaleLowerCase()].id,prefixIcon:this.tools[n.toLocaleLowerCase()].icon,tooltipText:Sa(n,this.locator),command:this.tools[n.toLocaleLowerCase()].command,subCommand:this.tools[n.toLocaleLowerCase()].subCommand}}},e.prototype.getItems=function(e,t){var n=this;if(this.parent.toolbarSettings.items.length<1)return[];for(var i=[],o=function(e){if("string"===typeof e)i.push(r.getObject(e,t));else{if(!E(e.click)){var o=e,s=o.click;o.click=function(){o.undo&&0===n.parent.formatter.getUndoRedoStack().length&&n.parent.formatter.saveData(),s.call(n),n.parent.formatter.getUndoRedoStack()[n.parent.formatter.getUndoRedoStack().length-1].text.trim()!==n.parent.inputElement.innerHTML.trim()&&o.undo&&n.parent.formatter.saveData()}}i.push(e)}},r=this,s=0,a=e;s<a.length;s++){o(a[s])}return i},e.prototype.getToolbarOptions=function(e){return{target:e.target,rteToolbarObj:this,items:this.getItems(e.items,e.container),overflowMode:e.mode,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,cssClass:e.cssClass}},e.prototype.render=function(e){this.toolbarRenderer=this.renderFactory.getRenderer(Ci.Toolbar),this.toolbarRenderer.renderToolbar(this.getToolbarOptions(e))},e}(),Du=function(){function e(e,t){this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener()}return e.prototype.initializeInstance=function(){this.toolbarRenderer=this.renderFactory.getRenderer(Ci.Toolbar)},e.prototype.beforeRender=function(e){var t=e.item;t.cssClass&&ke([e.element],t.cssClass),"Alignments"!==t.command&&"JustifyLeft"!==t.subCommand&&"JustifyRight"!==t.subCommand&&"JustifyCenter"!==t.subCommand||e.element.setAttribute("title",Sa(t.subCommand.toLocaleLowerCase(),this.locator))},e.prototype.dropdownContent=function(e,t,n){return'<span style="display: inline-flex;width:'+("quick"===t?"auto":e)+'" ><span class="e-rte-dropdown-btn-text">'+n+"</span></span>"},e.prototype.renderDropDowns=function(e){var t=this;this.initializeInstance();var n=e.containerType,i=e.container;ms.forEach((function(o){var r=void 0;if(-1!==ya(o,e.items))switch(o){case"numberformatlist":if(E(r=Ae("#"+t.parent.getID()+"_"+n+"_NumberFormatList",i))||r.classList.contains(Uo))return;var s=t.parent.numberFormatList.types.slice();s.forEach((function(e){Object.defineProperties(e,{command:{value:"Lists",enumerable:!0},subCommand:{value:"NumberFormatList",enumerable:!0}})})),t.numberFormatListDropDown=t.toolbarRenderer.renderListDropDown({cssClass:"e-order-list e-rte-elements e-icons",itemName:"NumberFormatList",items:s,element:r});break;case"bulletformatlist":if(E(r=Ae("#"+t.parent.getID()+"_"+n+"_BulletFormatList",i))||r.classList.contains(Uo))return;var a=t.parent.bulletFormatList.types.slice();a.forEach((function(e){Object.defineProperties(e,{command:{value:"Lists",enumerable:!0},subCommand:{value:"BulletFormatList",enumerable:!0}})})),t.bulletFormatListDropDown=t.toolbarRenderer.renderListDropDown({cssClass:"e-unorder-list e-rte-elements e-icons",itemName:"BulletFormatList",items:a,element:r});break;case"formats":if(E(r=Ae("#"+t.parent.getID()+"_"+n+"_Formats",i))||r.classList.contains(Uo))return;var l=t.parent.format.types.slice();l.forEach((function(e){Object.defineProperties(e,{command:{value:"Formats",enumerable:!0},subCommand:{value:e.value,enumerable:!0}})}));var c=E(t.parent.format.default)?l[0].text:t.parent.format.default;t.formatDropDown=t.toolbarRenderer.renderDropDownButton({iconCss:"quick"===n?"e-formats e-icons":"",content:t.dropdownContent(t.parent.format.width,n,"quick"===n?"":Ca(l,c,"text","text")),cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-formats-tbar-btn",itemName:"Formats",items:l,element:r});break;case"fontname":if(E(r=Ae("#"+t.parent.getID()+"_"+n+"_FontName",i))||r.classList.contains(Uo))return;var h=t.parent.fontFamily.items.slice();h.forEach((function(e){Object.defineProperties(e,{command:{value:"Font",enumerable:!0},subCommand:{value:"FontName",enumerable:!0}})}));var d=E(t.parent.fontFamily.default)?h[0].text:t.parent.fontFamily.default;t.fontNameDropDown=t.toolbarRenderer.renderDropDownButton({iconCss:"quick"===n?"e-font-name e-icons":"",content:t.dropdownContent(t.parent.fontFamily.width,n,"quick"===n?"":Ca(h,d,"text","text")),cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-font-name-tbar-btn",itemName:"FontName",items:h,element:r}),E(t.parent.fontFamily.default)||(t.getEditNode().style.fontFamily=t.parent.fontFamily.default);break;case"fontsize":if(E(r=Ae("#"+t.parent.getID()+"_"+n+"_FontSize",i))||r.classList.contains(Uo))return;var p=t.parent.fontSize.items.slice();p.forEach((function(e){Object.defineProperties(e,{command:{value:"Font",enumerable:!0},subCommand:{value:"FontSize",enumerable:!0}})}));var u=E(t.parent.fontSize.default)?p[1].text:t.parent.fontSize.default;t.fontSizeDropDown=t.toolbarRenderer.renderDropDownButton({content:t.dropdownContent(t.parent.fontSize.width,n,Ea(Ca(p,u.replace(/\s/g,""),"value","text"))),cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-font-size-tbar-btn",itemName:"FontSize",items:p,element:r}),E(t.parent.fontSize.default)||(t.getEditNode().style.fontSize=t.parent.fontSize.default);break;case"alignments":if(E(r=Ae("#"+t.parent.getID()+"_"+n+"_Alignments",i))||r.classList.contains(Uo))return;t.alignDropDown=t.toolbarRenderer.renderDropDownButton({iconCss:"e-justify-left e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-alignment-tbar-btn",itemName:"Alignments",items:vs,element:r});break;case"align":t.imageAlignmentDropDown(n,i,r);break;case"display":t.imageDisplayDropDown(n,i,r);break;case"tablerows":t.rowDropDown(n,i,r);break;case"tablecolumns":t.columnDropDown(n,i,r);break;case"tablecell":t.cellDropDown(n,i,r);break;case"tablecellverticalalign":t.verticalAlignDropDown(n,i,r);break;case"styles":t.tableStylesDropDown(n,i,r)}})),this.parent.inlineMode.enable&&this.setCssClass({cssClass:this.parent.cssClass})},e.prototype.getUpdateItems=function(e,t){var n=e.slice();return n.forEach((function(e){Object.defineProperties(e,{command:{value:"Format"===t?"Formats":"Font",enumerable:!0},subCommand:{value:"Format"===t?e.value:t,enumerable:!0}})})),n},e.prototype.onPropertyChanged=function(e){for(var t,n,i=e.newProp,o=0,r=Object.keys(i);o<r.length;o++){switch(r[o]){case"fontFamily":if(this.fontNameDropDown)for(var s=0,a=Object.keys(i.fontFamily);s<a.length;s++){switch(a[s]){case"default":case"width":var l=this.fontNameDropDown.items;t=E(Ie(this.fontNameDropDown.element,"."+Fo))?"toolbar":"quick";var c=E(this.parent.fontFamily.default)?l[0].text:this.parent.fontFamily.default;n=this.dropdownContent(this.parent.fontFamily.width,t,"quick"===t?"":Ca(l,c,"text","text")),this.fontNameDropDown.setProperties({content:n}),E(this.parent.fontFamily.default)?this.getEditNode().style.removeProperty("font-family"):this.getEditNode().style.fontFamily=this.parent.fontFamily.default;break;case"items":this.fontNameDropDown.setProperties({items:this.getUpdateItems(i.fontFamily.items,"FontName")})}}break;case"fontSize":if(this.fontSizeDropDown)for(var h=0,d=Object.keys(i.fontSize);h<d.length;h++){switch(d[h]){case"default":case"width":var p=this.fontSizeDropDown.items;t=E(Ie(this.fontSizeDropDown.element,"."+Fo))?"toolbar":"quick";var u=E(this.parent.fontSize.default)?p[1].text:this.parent.fontSize.default;n=this.dropdownContent(this.parent.fontSize.width,t,Ea(Ca(p,u.replace(/\s/g,""),"value","text"))),this.fontSizeDropDown.setProperties({content:n}),E(this.parent.fontSize.default)?this.getEditNode().style.removeProperty("font-size"):this.getEditNode().style.fontSize=this.parent.fontSize.default;break;case"items":this.fontSizeDropDown.setProperties({items:this.getUpdateItems(i.fontSize.items,"FontSize")})}}break;case"format":if(this.formatDropDown)for(var m=0,f=Object.keys(i.format);m<f.length;m++){switch(f[m]){case"default":case"width":var g=this.formatDropDown.items;t=E(Ie(this.formatDropDown.element,"."+Fo))?"toolbar":"quick";var v=E(this.parent.format.default)?g[0].text:this.parent.format.default;n=this.dropdownContent(this.parent.format.width,t,"quick"===t?"":Ca(g,v,"text","text")),this.formatDropDown.setProperties({content:n});break;case"types":this.formatDropDown.setProperties({items:this.getUpdateItems(i.format.types,"Format")})}}}}},e.prototype.getEditNode=function(){return this.parent.contentModule.getEditPanel()},e.prototype.rowDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_TableRows",t)).classList.contains(Uo)||(this.tableRowsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-rows e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-quick-dropdown",itemName:"TableRows",items:Ss,element:n}))},e.prototype.columnDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_TableColumns",t)).classList.contains(Uo)||(this.tableColumnsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-columns e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-quick-dropdown",itemName:"TableColumns",items:Ts,element:n}))},e.prototype.cellDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_TableCell",t)).classList.contains(Uo)||(this.tableRowsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-cell e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-quick-dropdown",itemName:"TableCell",items:ws,element:n}))},e.prototype.verticalAlignDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_TableCellVerticalAlign",t)).classList.contains(Uo)||(this.tableCellVerticalAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-cell-ver-align e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-quick-dropdown",itemName:"TableCellVerticalAlign",items:Ns,element:n}))},e.prototype.imageDisplayDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_Display",t)).classList.contains(Uo)||(this.displayDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-display e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-items e-quick-dropdown",itemName:"Display",items:Cs,element:n}))},e.prototype.imageAlignmentDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_Align",t)).classList.contains(Uo)||(this.imageAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-justify-left e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-icons e-quick-dropdown",itemName:"Align",items:ys,element:n}))},e.prototype.tableStylesDropDown=function(e,t,n){(n=Ae("#"+this.parent.getID()+"_"+e+"_Styles",t)).classList.contains(Uo)||(this.imageAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-style e-icons",cssClass:"e-rte-dropdown-popup e-rte-dropdown-icons e-quick-dropdown",itemName:"Styles",items:this.parent.tableSettings.styles,element:n}))},e.prototype.removeDropDownClasses=function(e){Te([e],[Uo,_o,Vo,qo])},e.prototype.destroyDropDowns=function(){this.formatDropDown&&(this.removeDropDownClasses(this.formatDropDown.element),this.formatDropDown.destroy()),this.fontNameDropDown&&(this.removeDropDownClasses(this.fontNameDropDown.element),this.fontNameDropDown.destroy()),this.fontSizeDropDown&&(this.removeDropDownClasses(this.fontSizeDropDown.element),this.fontSizeDropDown.destroy()),this.alignDropDown&&(this.removeDropDownClasses(this.alignDropDown.element),this.alignDropDown.destroy()),this.imageAlignDropDown&&(this.removeDropDownClasses(this.imageAlignDropDown.element),this.imageAlignDropDown.destroy()),this.displayDropDown&&(this.removeDropDownClasses(this.displayDropDown.element),this.displayDropDown.destroy()),this.tableRowsDropDown&&(this.removeDropDownClasses(this.tableRowsDropDown.element),this.tableRowsDropDown.destroy()),this.tableColumnsDropDown&&(this.removeDropDownClasses(this.tableColumnsDropDown.element),this.tableColumnsDropDown.destroy()),this.tableCellVerticalAlignDropDown&&(this.removeDropDownClasses(this.tableCellVerticalAlignDropDown.element),this.tableCellVerticalAlignDropDown.destroy()),this.numberFormatListDropDown&&(this.removeDropDownClasses(this.numberFormatListDropDown.element),this.numberFormatListDropDown.destroy()),this.bulletFormatListDropDown&&(this.removeDropDownClasses(this.bulletFormatListDropDown.element),this.bulletFormatListDropDown.destroy())},e.prototype.setRtl=function(e){this.formatDropDown&&this.formatDropDown.setProperties({enableRtl:e.enableRtl}),this.fontNameDropDown&&this.fontNameDropDown.setProperties({enableRtl:e.enableRtl}),this.fontSizeDropDown&&this.fontSizeDropDown.setProperties({enableRtl:e.enableRtl}),this.alignDropDown&&this.alignDropDown.setProperties({enableRtl:e.enableRtl}),this.imageAlignDropDown&&this.imageAlignDropDown.setProperties({enableRtl:e.enableRtl}),this.displayDropDown&&this.displayDropDown.setProperties({enableRtl:e.enableRtl}),this.numberFormatListDropDown&&this.numberFormatListDropDown.setProperties({enableRtl:e.enableRtl}),this.bulletFormatListDropDown&&this.bulletFormatListDropDown.setProperties({enableRtl:e.enableRtl})},e.prototype.updateCss=function(e,t){e&&t.cssClass&&(E(t.oldCssClass)?e.setProperties({cssClass:(e.cssClass+" "+t.cssClass).trim()}):e.setProperties({cssClass:(e.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},e.prototype.setCssClass=function(e){for(var t=[this.formatDropDown,this.fontNameDropDown,this.fontSizeDropDown,this.alignDropDown,this.imageAlignDropDown,this.displayDropDown,this.numberFormatListDropDown,this.bulletFormatListDropDown,this.tableRowsDropDown,this.tableColumnsDropDown,this.tableCellVerticalAlignDropDown],n=0;n<t.length;n++)this.updateCss(t[n],e)},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Ui,this.beforeRender,this),this.parent.on(xi,this.onIframeMouseDown,this),this.parent.on(uo,this.setRtl,this),this.parent.on(Ni,this.removeEventListener,this),this.parent.on(Bi,this.onPropertyChanged,this),this.parent.on(xo,this.setCssClass,this))},e.prototype.onIframeMouseDown=function(){Na(document,"mousedown")},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(xi,this.onIframeMouseDown),this.parent.off(uo,this.setRtl),this.parent.off(Ui,this.beforeRender),this.parent.off(Ni,this.removeEventListener),this.parent.off(Bi,this.onPropertyChanged),this.parent.off(xo,this.setCssClass))},e}(),Ou=function(){function e(e){this.parent=e,this.addEventListener(),this.serviceLocator=new jr,this.serviceLocator.register("rendererFactory",new zr)}return e.prototype.addEventListener=function(){this.parent.on(Li,this.toolbarClick,this),this.parent.on(qi,this.dropDownSelect,this),this.parent.on(ro,this.renderSelection,this),this.parent.on(Ni,this.removeEventListener,this)},e.prototype.toolbarClick=function(e){if(!E(e.item)){if(!E(e.item.controlParent)){var t=e.item.controlParent.activeEle;t&&(t.tabIndex=-1)}"NumberFormatList"!==e.item.command&&"BulletFormatList"!==e.item.command||(e.originalEvent.target.classList.contains("e-order-list")||e.originalEvent.target.classList.contains("e-unorder-list"))&&(e.item.command="Lists",e.item.subCommand="NumberFormatList"===e.item.subCommand?"OL":"UL"),"Lists"===e.item.command&&e.originalEvent.target.classList.contains("e-caret")&&(e.originalEvent.target.parentElement.classList.contains("e-rte-bulletformatlist-dropdown")||e.originalEvent.target.parentElement.classList.contains("e-rte-numberformatlist-dropdown"))&&(e.item.command=e.item.subCommand=null),this.parent.notify(Ai,e),this.parent.notify("markdown-toolbar-click",e)}},e.prototype.dropDownSelect=function(e){if(this.parent.notify(Zi,{}),!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||!e.item||"Images"!==e.item.command&&"Display"!==e.item.command&&"Table"!==e.item.command){var t=e.item.controlParent&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.tableQTBar&&this.parent.quickToolbarModule.tableQTBar.element.contains(e.item.controlParent.element)?"Table":null;if("Lists"===e.item.command){var n={listStyle:e.item.value,listImage:e.item.listImage,type:e.item.subCommand};this.parent.formatter.process(this.parent,e,e.originalEvent,n)}else this.parent.formatter.process(this.parent,e,e.originalEvent,t)}this.parent.notify(Ji,{})},e.prototype.renderSelection=function(e){this.parent.notify(Zi,{}),this.parent.formatter.process(this.parent,e,e.originalEvent,null),this.parent.notify(Ji,{})},e.prototype.removeEventListener=function(){this.parent.off(Li,this.toolbarClick),this.parent.off(qi,this.dropDownSelect),this.parent.off(ro,this.renderSelection),this.parent.off(Ni,this.removeEventListener)},e}(),Mu=function(){function e(e,t){this.parent=e,this.isToolbar=!1,this.locator=t,this.isTransformChild=!1,this.renderFactory=this.locator.getService("rendererFactory"),function(e){vs.forEach((function(t,n){vs[n].text=Fs(e,gs,vs[n])})),Cs.forEach((function(t,n){Cs[n].text=Fs(e,bs,Cs[n])})),Ss.forEach((function(t,n){Ss[n].text=Fs(e,Es,Ss[n])})),Ts.forEach((function(t,n){Ts[n].text=Fs(e,ks,Ts[n])})),Ns.forEach((function(t,n){Ns[n].text=Fs(e,xs,Ns[n])})),Ps.forEach((function(t,n){Ps[n].text=Fs(e,Ls,Ps[n])}))}(this.parent),Ia(this.parent),this.renderFactory.addRenderer(Ci.Toolbar,new Lu(this.parent)),this.toolbarRenderer=this.renderFactory.getRenderer(Ci.Toolbar),this.baseToolbar=new Pu(this.parent,this.locator),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?w(this.tools,fs,Da(this.parent.toolbarSettings.itemConfigs),!0):this.tools=fs}return e.prototype.initializeInstance=function(){this.contentRenderer=this.renderFactory.getRenderer(Ci.Content),this.editableElement=this.contentRenderer.getEditPanel(),this.editPanel=this.contentRenderer.getPanel()},e.prototype.toolbarBindEvent=function(){this.parent.inlineMode.enable||(this.keyBoardModule=new Bt(this.getToolbarElement(),{keyAction:this.toolBarKeyDown.bind(this),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"}))},e.prototype.toolBarKeyDown=function(e){if("escape"===e.action)this.parent.contentModule.getEditPanel().focus()},e.prototype.createToolbarElement=function(){this.tbElement=this.parent.createElement("div",{id:this.parent.getID()+"_toolbar"}),!Ce.isDevice&&this.parent.inlineMode.enable&&wa()||(this.parent.toolbarSettings.enableFloating&&!this.parent.inlineMode.enable?(this.tbWrapper=this.parent.createElement("div",{id:this.parent.getID()+"_toolbar_wrapper",innerHTML:this.tbElement.outerHTML,className:Xo}),this.tbElement=this.tbWrapper.firstElementChild,this.parent.element.insertBefore(this.tbWrapper,this.editPanel)):this.parent.element.insertBefore(this.tbElement,this.editPanel))},e.prototype.getToolbarMode=function(){var e;switch(this.parent.toolbarSettings.type){case wi.Expand:e="Extended";break;case wi.Scrollable:e="Scrollable";break;default:e="MultiRow"}return wa()&&this.parent.toolbarSettings.type===wi.Expand&&(e=wi.Scrollable),e},e.prototype.checkToolbarResponsive=function(e){return!(!Ce.isDevice||wa())&&(t=this.parent.toolbarSettings.type===wi.Expand?wi.MultiRow:this.parent.toolbarSettings.type,this.baseToolbar.render({container:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items,mode:t,target:e}),this.parent.toolbarSettings.type===wi.Expand&&(ke([e],["e-rte-tb-mobile"]),this.parent.inlineMode.enable?this.addFixedTBarClass():ke([e],["e-tb-static"])),this.wireEvents(),this.dropDownModule.renderDropDowns({container:e,containerType:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items}),this.parent.notify(Ri,{container:this.tbElement,containerType:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items}),!0);var t},e.prototype.checkIsTransformChild=function(){this.isTransformChild=!1;for(var e=He('[style*="transform"]',document),t=0;t<e.length;t++)if(!E(e[t].contains)&&e[t].contains(this.parent.element)){this.isTransformChild=!0;break}},e.prototype.toggleFloatClass=function(e){var t,n,i=!1,o=!1,r=this.parent.floatingToolbarOffset;e&&this.parent.iframeSettings.enable&&this.parent.inputElement.ownerDocument===e.target?n=e.target.body:e&&e.target!==document?n=e.target:(i=!0,n=document.body);var s=this.getToolbarHeight()+this.getExpandTBarPopHeight();if(this.isTransformChild){t=0;var a=0,l=this.parent.element.offsetHeight;if(i){var c=window.getComputedStyle(n);a=parseFloat(c.marginTop.split("px")[0])+parseFloat(c.paddingTop.split("px")[0])}var h=this.parent.element.getBoundingClientRect().top,d=Ce.isMSPointer&&i?window.pageYOffset:n.parentElement.scrollTop,p=n.getBoundingClientRect(),u=i?p.top+d:p.top;h>u+r||h<-l||h<0&&!(h-(i?0:u)+l>s+r)?(o=!1,Te([this.tbElement],[Ho])):h<u+r&&(t=h<0?-h+u:u-h,t=i?t-a:t,ke([this.tbElement],[Ho]),o=!0)}else{var m=this.parent.element.getBoundingClientRect();if(window.innerHeight<m.top)return;t=e&&e.target!==document?n.getBoundingClientRect().top:0,m.bottom<r+s+t||m.bottom<0||m.top>r+t?o=!1:(m.top<r||m.top<r+t)&&(o=!0)}o?(ke([this.tbElement],[Ao]),Fe(this.tbElement,{width:this.parent.element.offsetWidth+"px",top:r+t+"px"})):(Te([this.tbElement],[Ao]),Fe(this.tbElement,{top:"0px",width:"100%"}))},e.prototype.renderToolbar=function(){if(this.initializeInstance(),this.createToolbarElement(),!this.checkToolbarResponsive(this.tbElement)){this.parent.inlineMode.enable?this.parent.notify("renderInlineToolbar",{}):(this.baseToolbar.render({container:"toolbar",items:this.parent.toolbarSettings.items,mode:this.getToolbarMode(),target:this.tbElement}),this.parent.inlineMode.enable||(this.parent.toolbarSettings.enableFloating&&(this.checkIsTransformChild(),this.toggleFloatClass()),ke([this.parent.element],[br]),this.parent.toolbarSettings.type===wi.Expand&&ke([this.parent.element],[Bo]))),this.wireEvents(),this.parent.inlineMode.enable&&!wa()&&this.addFixedTBarClass(),this.parent.inlineMode.enable||(this.dropDownModule.renderDropDowns({container:this.tbElement,containerType:"toolbar",items:this.parent.toolbarSettings.items}),this.parent.notify(Ri,{container:this.tbElement,containerType:"toolbar",items:this.parent.toolbarSettings.items}),this.refreshToolbarOverflow());var e=this.parent.element.querySelector(".e-rte-srctextarea"),t=this.parent.element.querySelector(".e-source-content");(!this.parent.iframeSettings.enable&&!E(e)&&"block"===e.style.display||this.parent.iframeSettings.enable&&!E(t)&&"block"===t.style.display)&&(this.parent.notify(Ki,{targetItem:"SourceCode",updateItem:"Preview",baseToolbar:this.parent.getBaseToolbarObject()}),this.parent.disableToolbarItem(this.parent.toolbarSettings.items))}},e.prototype.addFixedTBarClass=function(){ke([this.tbElement],[Ro])},e.prototype.removeFixedTBarClass=function(){Te([this.tbElement],[Ro])},e.prototype.showFixedTBar=function(){ke([this.tbElement],[Yo]),Ce.isIos&&ke([this.tbElement],[ir])},e.prototype.hideFixedTBar=function(){this.isToolbar?this.isToolbar=!1:Te([this.tbElement],[Yo,ir])},e.prototype.updateItem=function(e){var t=this.tools[e.updateItem.toLocaleLowerCase()],n=Ta(ka(this.tools[e.targetItem.toLocaleLowerCase()].subCommand),e.baseToolbar.toolbarObj.items)[0];if(E(n))this.addTBarItem(e,0);else{var i=this.parent.inlineMode.enable?"_quick_":"_toolbar_";e.baseToolbar.toolbarObj.items[n].id=this.parent.getID()+i+t.id,e.baseToolbar.toolbarObj.items[n].prefixIcon=t.icon,e.baseToolbar.toolbarObj.items[n].tooltipText=t.tooltip,e.baseToolbar.toolbarObj.items[n].subCommand=t.subCommand,e.baseToolbar.toolbarObj.dataBind()}},e.prototype.updateToolbarStatus=function(e){this.tbElement&&(!this.parent.inlineMode.enable||!wa()&&Ce.isDevice)&&function(e,t,n){Ia(n);for(var i=e.dropDownModule,o=e.args,r=0,s=Object.keys(e.args);r<s.length;r++)for(var a=s[r],l=0;l<e.tbItems.length;l++){var c=e.tbItems[l].subCommand,h=c&&c.toLocaleLowerCase();if(c&&h===a||"UL"===c&&"unorderedlist"===a||"OL"===c&&"orderedlist"===a||"pre"===h&&"insertcode"===a)if("boolean"===typeof o[a])!0===o[a]?ke([e.tbElements[l]],[Zo]):Te([e.tbElements[l]],[Zo]);else if(("string"===typeof o[a]||null===o[a])&&ya(a,e.parent.toolbarSettings.items)>-1){var d=o[a]?o[a]:"",p="";switch(a){case"formats":if(E(i.formatDropDown)||t||!E(i.formatDropDown)&&i.formatDropDown.isDestroyed)break;var u=e.parent.format.types,m=E(e.parent.format.default)?u[0].text:e.parent.format.default;p=Ca(u,d,"subCommand","text"),i.formatDropDown.content='<span style="display: inline-flex;width:'+e.parent.format.width+'" ><span class="e-rte-dropdown-btn-text">'+(E(p)?m:p)+"</span></span>",i.formatDropDown.dataBind();break;case"alignments":if(E(i.alignDropDown)||!E(i.alignDropDown)&&i.alignDropDown.isDestroyed)break;p=Ca(vs,d,"subCommand","iconCss"),i.alignDropDown.iconCss=E(p)?"e-icons e-justify-left":p,i.alignDropDown.dataBind();break;case"fontname":if(E(i.fontNameDropDown)||t||!E(i.fontNameDropDown)&&i.fontNameDropDown.isDestroyed)break;var f=e.parent.fontFamily.items;p=Ca(f,d,"value","text");var g=E(e.parent.fontFamily.default)?f[0].text:e.parent.fontFamily.default,v=E(p)?g:p;e.tbElements[l].title=v,i.fontNameDropDown.content='<span style="display: inline-flex;width:'+e.parent.fontFamily.width+'" ><span class="e-rte-dropdown-btn-text">'+v+"</span></span>",i.fontNameDropDown.dataBind();break;case"fontsize":if(E(i.fontSizeDropDown)||!E(i.fontSizeDropDown)&&i.fontSizeDropDown.isDestroyed)break;var y=e.parent.fontSize.items,b=E(e.parent.fontSize.default)?y[1].text:e.parent.fontSize.default;p=Ca(y,""===d?b.replace(/\s/g,""):d,"value","text"),i.fontSizeDropDown.content='<span style="display: inline-flex;width:'+e.parent.fontSize.width+'" ><span class="e-rte-dropdown-btn-text">'+Ea(p)+"</span></span>",i.fontSizeDropDown.dataBind()}}}}({args:e,dropDownModule:this.dropDownModule,parent:this.parent,tbElements:He("."+Wo,this.tbElement),tbItems:this.baseToolbar.toolbarObj.items},!!this.parent.inlineMode.enable,this.parent)},e.prototype.fullScreen=function(e){this.parent.fullScreenModule.showFullScreen(e)},e.prototype.hideScreen=function(e){this.parent.fullScreenModule.hideFullScreen(e)},e.prototype.getBaseToolbar=function(){return this.baseToolbar},e.prototype.addTBarItem=function(e,t){e.baseToolbar.toolbarObj.addItems([e.baseToolbar.getObject(e.updateItem,"toolbar")],t)},e.prototype.enableTBarItems=function(e,t,n,i){var o=Ta(ka(t),e.toolbarObj.items);this.tbItems=He("."+Wo,e.toolbarObj.element);for(var r=0;r<o.length;r++){var s=this.tbItems[o[r]];s&&e.toolbarObj.enableItems(s,n)}Ae(".e-rte-srctextarea",this.parent.element)||i||xa(e,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())},e.prototype.removeTBarItems=function(e){E(this.baseToolbar.toolbarObj)&&(this.baseToolbar=this.parent.getBaseToolbarObject());var t=Ta(ka(e),this.baseToolbar.toolbarObj.items);this.tbItems=this.parent.inlineMode.enable?He("."+Wo,this.baseToolbar.toolbarObj.element):He("."+Wo,this.parent.element);for(var n=0;n<t.length;n++)this.baseToolbar.toolbarObj.removeItems(this.tbItems[t[n]])},e.prototype.getExpandTBarPopHeight=function(){var e=0;if(this.parent.toolbarSettings.type===wi.Expand&&this.tbElement.classList.contains("e-extended-toolbar")){var t=Ae(".e-toolbar-extended",this.tbElement);t&&this.tbElement.classList.contains("e-expand-open")||t&&t.classList.contains("e-popup-open")?(ke([t],[Ko]),e+=t.offsetHeight,Te([t],[Ko])):Te([this.tbElement],[er])}return e},e.prototype.getToolbarHeight=function(){return this.tbElement.offsetHeight},e.prototype.getToolbarElement=function(){return Ae("."+Mo,this.parent.element)},e.prototype.refreshToolbarOverflow=function(){this.baseToolbar.toolbarObj.refreshOverflow()},e.prototype.isToolbarDestroyed=function(){return this.baseToolbar.toolbarObj&&!this.baseToolbar.toolbarObj.isDestroyed},e.prototype.destroyToolbar=function(){if(this.isToolbarDestroyed()){this.parent.unWireScrollElementsEvents(),this.unWireEvents(),this.parent.notify(Hi,{}),this.dropDownModule.destroyDropDowns(),this.baseToolbar.toolbarObj.destroy(),this.removeEventListener(),Te([this.parent.element],[br]),Te([this.parent.element],[Bo]);var e=Ae("."+Xo,this.parent.element),t=Ae("."+Mo,this.parent.element);E(e)?E(t)||Oe(t):Oe(e)}},e.prototype.destroy=function(){this.isToolbarDestroyed()&&(this.destroyToolbar(),this.keyBoardModule&&this.keyBoardModule.destroy())},e.prototype.scrollHandler=function(e){this.parent.inlineMode.enable||this.parent.toolbarSettings.enableFloating&&this.getDOMVisibility(this.tbElement)&&this.toggleFloatClass(e.args)},e.prototype.getDOMVisibility=function(e){return!(!e.offsetParent&&0===e.offsetWidth&&0===e.offsetHeight)},e.prototype.mouseDownHandler=function(){Ce.isDevice&&this.parent.inlineMode.enable&&!wa()&&this.showFixedTBar()},e.prototype.focusChangeHandler=function(){Ce.isDevice&&this.parent.inlineMode.enable&&!wa()&&(this.isToolbar=!1,this.hideFixedTBar())},e.prototype.dropDownBeforeOpenHandler=function(){this.isToolbar=!0},e.prototype.tbFocusHandler=function(e){var t=document.activeElement,n=Ie(t,".e-rte-toolbar");if(t===this.parent.getToolbarElement()||n===this.parent.getToolbarElement())for(var i=this.parent.getToolbarElement().querySelectorAll(".e-expended-nav"),o=0;o<i.length;o++)E(this.parent.getToolbarElement().querySelector(".e-insert-table-btn"))?i[o].setAttribute("tabindex","0"):i[o].setAttribute("tabindex","1")},e.prototype.tbKeydownHandler=function(e){(e.target.classList.contains("e-dropdown-btn")||e.target.getAttribute("id")===this.parent.getID()+"_toolbar_CreateTable")&&e.target.setAttribute("tabindex","0")},e.prototype.toolbarClickHandler=function(e){var t=Ie(e.originalEvent.target,".e-hor-nav");t&&this.parent.toolbarSettings.type===wi.Expand&&!E(t)?t.classList.contains("e-nav-active")?(ke([this.tbElement],[er]),this.parent.setContentHeight("toolbar",!0)):(Te([this.tbElement],[er]),this.parent.setContentHeight("toolbar",!1)):(Ce.isDevice||this.parent.inlineMode.enable)&&(this.isToolbar=!0),E(t)&&this.parent.toolbarSettings.type===wi.Expand&&Te([this.tbElement],[er])},e.prototype.wireEvents=function(){this.parent.inlineMode.enable&&wa()||(we.add(this.tbElement,"focusin",this.tbFocusHandler,this),we.add(this.tbElement,"keydown",this.tbKeydownHandler,this))},e.prototype.unWireEvents=function(){we.remove(this.tbElement,"focusin",this.tbFocusHandler),we.remove(this.tbElement,"keydown",this.tbKeydownHandler)},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.dropDownModule=new Du(this.parent,this.locator),this.toolbarActionModule=new Ou(this.parent),this.parent.on(Ti,this.renderToolbar,this),this.parent.on(oo,this.scrollHandler,this),this.parent.on(Mi,this.toolbarBindEvent,this),this.parent.on(Oi,this.updateToolbarStatus,this),this.parent.on(Bi,this.onPropertyChanged,this),this.parent.on(Di,this.onRefresh,this),this.parent.on(Ni,this.destroy,this),this.parent.on(_i,this.fullScreen,this),this.parent.on(Vi,this.hideScreen,this),this.parent.on(Ki,this.updateItem,this),this.parent.on(Qi,this.dropDownBeforeOpenHandler,this),this.parent.on(eo,this.parent.setContentHeight,this.parent),this.parent.on(ao,this.focusChangeHandler,this),this.parent.on(to,this.mouseDownHandler,this),this.parent.on(no,this.mouseDownHandler,this),this.parent.on(xo,this.setCssClass,this),this.parent.inlineMode.enable||wa()||this.parent.on(Li,this.toolbarClickHandler,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Ti,this.renderToolbar),this.parent.off(oo,this.scrollHandler),this.parent.off(Mi,this.toolbarBindEvent),this.parent.off(Oi,this.updateToolbarStatus),this.parent.off(Bi,this.onPropertyChanged),this.parent.off(Di,this.onRefresh),this.parent.off(Ni,this.destroy),this.parent.off(_i,this.parent.fullScreenModule.showFullScreen),this.parent.off(Vi,this.parent.fullScreenModule.hideFullScreen),this.parent.off(Ki,this.updateItem),this.parent.off(Qi,this.dropDownBeforeOpenHandler),this.parent.off(eo,this.parent.setContentHeight),this.parent.off(ao,this.focusChangeHandler),this.parent.off(to,this.mouseDownHandler),this.parent.off(no,this.mouseDownHandler),this.parent.off(xo,this.setCssClass),this.parent.inlineMode.enable||wa()||this.parent.off(Li,this.toolbarClickHandler))},e.prototype.setCssClass=function(e){this.toolbarObj&&e.cssClass&&(E(e.oldCssClass)?this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass+" "+e.cssClass).trim()}):this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},e.prototype.onRefresh=function(){this.refreshToolbarOverflow(),this.parent.setContentHeight("",!0)},e.prototype.onPropertyChanged=function(e){if(!E(e.newProp.inlineMode))for(var t=0,n=Object.keys(e.newProp.inlineMode);t<n.length;t++){if("enable"===n[t])this.refreshToolbar()}e.module===this.getModuleName()&&this.refreshToolbar()},e.prototype.refreshToolbar=function(){E(this.baseToolbar.toolbarObj)&&(this.baseToolbar=this.parent.getBaseToolbarObject());var e=Ae("."+Xo,this.parent.element);(Ae("."+Mo,this.parent.element)||e)&&this.destroyToolbar(),this.parent.toolbarSettings.enable&&(this.addEventListener(),this.renderToolbar(),this.parent.wireScrollElementsEvents(),Ae(".e-rte-srctextarea",this.parent.element)||xa(this.baseToolbar,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus()),this.parent.notify(Eo,{}))},e.prototype.getModuleName=function(){return"toolbar"},e}(),Ru=function(){function e(){}return e.prototype.process=function(e,t,n,i){var o,r=this,s=e.contentModule.getDocument().getSelection(),a=s.rangeCount>0?s.getRangeAt(s.rangeCount-1):null;if("HTML"===e.editorMode&&(o=this.editorManager.nodeSelection.save(a,e.contentModule.getDocument())),E(t)||!t.item.command||"Table"===t.item.command||"Actions"===t.item.command||"Links"===t.item.command||"Images"===t.item.command||"Files"===t.item.command||!a||e.contentModule.getEditPanel().contains(this.getAncestorNode(a.commonAncestorContainer))||e.contentModule.getEditPanel()===a.commonAncestorContainer||e.contentModule.getPanel()===a.commonAncestorContainer){if(E(t)){var l=n.action;if("tab"!==l&&"enter"!==l&&"space"!==l&&"escape"!==l)t={},"Markdown"===e.editorMode&&"insert-table"===l&&(i={headingText:e.localeObj.getConstant("TableHeadingText"),colText:e.localeObj.getConstant("TableColText")}),w(t,t,{originalEvent:n,cancel:!1,requestType:l||n.key+"Key",itemCollection:i},!0),e.trigger(Xi,t,(function(e){e.cancel&&("paste"!==l&&"cut"!==l&&"copy"!==l||n.preventDefault())}));var c=!!E(e.tableModule)||!!e.tableModule&&e.tableModule.ensureInsideTableList;(9===n.which&&c||9!==n.which)&&(13===n.which&&"HTML"===e.editorMode&&(i={enterAction:e.enterKey}),this.editorManager.observer.notify("keydown"===n.type?wr:Nr,{event:n,callBack:this.onSuccess.bind(this,e),value:i,enterAction:e.enterKey}))}else!E(t)&&t.item.command&&t.item.subCommand&&(t.item.command!==t.item.subCommand&&"Font"!==t.item.command||("FontName"===t.item.subCommand||"FontSize"===t.item.subCommand)&&"dropDownSelect"===t.name||("BackgroundColor"===t.item.subCommand||"FontColor"===t.item.subCommand)&&"colorPickerChanged"===t.name)&&(w(t,t,{requestType:t.item.subCommand,cancel:!1,itemCollection:i,selectType:t.name},!0),e.trigger(Xi,t,(function(t){if(!t.cancel){0===r.getUndoRedoStack().length&&"Links"!==t.item.command&&"Images"!==t.item.command&&r.saveData(),e.isBlur=!1,e.contentModule.getEditPanel().focus(),"HTML"===e.editorMode&&o.restore();var s=t.item.subCommand.toLocaleLowerCase();"paste"===s||"cut"===s||"copy"===s?e.clipboardAction(s,n):(r.editorManager.observer.notify("checkUndoStack",{subCommand:t.item.subCommand}),r.editorManager.execCommand(t.item.command,t.item.subCommand,n,r.onSuccess.bind(r,e),t.item.value,"Pre"===t.item.subCommand&&"dropDownSelect"===t.selectType?{name:t.selectType}:i,"#"+e.getID()+" iframe",e.enterKey))}})));(E(n)||n&&"copy"!==n.action)&&this.enableUndo(e)}},e.prototype.getAncestorNode=function(e){return e=3===e.nodeType?e.parentNode:e},e.prototype.onKeyHandler=function(e,t){var n=this;this.editorManager.observer.notify(Nr,{event:t,callBack:function(){e.notify(ki,{}),n.enableUndo(e)}})},e.prototype.onSuccess=function(e,t){e.notify(ki,{}),t&&(E(t.event)||"copy"!==t.event.action)&&(this.enableUndo(e),e.notify(Wi,t)),e.trigger(Yi,t,(function(t){if(e.setPlaceHolder(),"Images"===t.requestType||"Links"===t.requestType&&"HTML"===e.editorMode){var n=t;if("Links"===t.requestType&&t.event&&"keydown"===t.event.type&&32===t.event.keyCode)return;e.notify("insertCompleted",{args:n.event,type:t.requestType,isNotify:!0,elements:n.elements})}e.autoResize()}))},e.prototype.saveData=function(e){this.editorManager.undoRedoManager.saveData(e)},e.prototype.getUndoStatus=function(){return this.editorManager.undoRedoManager.getUndoStatus()},e.prototype.getUndoRedoStack=function(){return this.editorManager.undoRedoManager.undoRedoStack},e.prototype.enableUndo=function(e){var t=this.getUndoStatus();!e.inlineMode.enable||Ce.isDevice&&!wa()?e.toolbarModule&&xa(e.toolbarModule.baseToolbar,t):xa(e.quickToolbarModule.inlineQTBar.quickTBarObj,t)},e}(),Au="INSERT-IMAGE",Hu="INSERT-TABLE",Bu="INSERT-LINK",Iu="INSERT-ROW",Fu="INSERT-COLUMN",ju="DELETE-ROW",zu="DELETE-COLUMN",_u="REMOVE-TABLE",Vu="TABLE-HEADER",qu="TABLE_VERTICAL_ALIGN",Uu="TABLE_MERGE",Wu="TABLE_VERTICAL_SPLIT",Xu="TABLE_HORIZONTAL_SPLIT",Yu="alignment-type",Ku="indent-type",Gu="p",$u=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video","body"],Qu=["td","th"],Ju=["table","tbody","td","tfoot","th","thead","tr"],Zu="selection-type",em="inserthtml-type",tm="insert-text-type",nm="clear-type",im=["area","base","br","embed","hr","img","input","param","source","track","wbr","iframe","td"],om=function(){function e(){this.startNodeName=[],this.endNodeName=[]}return e.prototype.saveInstance=function(e,t){return this.range=e.cloneRange(),this.rootNode=this.documentFromRange(e),this.body=t,this.startContainer=this.getNodeArray(e.startContainer,!0),this.endContainer=this.getNodeArray(e.endContainer,!1),this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.html=this.body.innerHTML,this},e.prototype.documentFromRange=function(e){return 9===e.startContainer.nodeType?e.startContainer:e.startContainer.ownerDocument},e.prototype.getRange=function(e){var t=this.get(e),n=t&&t.rangeCount>0?t.getRangeAt(t.rangeCount-1):e.createRange();return n.startContainer!==e||n.endContainer!==e||n.startOffset||n.endOffset||(n.setStart(e.body,0),n.collapse(!0)),n},e.prototype.get=function(e){return e.defaultView.getSelection()},e.prototype.save=function(e,t){return e=e?e.cloneRange():this.getRange(t),this.saveInstance(e,t.body)},e.prototype.getIndex=function(e){var t=0;if(e=e.previousSibling||"BR"!==e.tagName?e.previousSibling:e)for(e.nodeType;e;null)t++,e.nodeType,e=e.previousSibling;return t},e.prototype.isChildNode=function(e,t){for(var n=0;n<t.childNodes.length;n++)if(e.indexOf(t.childNodes[n])>-1)return!0;return!1},e.prototype.getNode=function(e,t,n){return t!==e||3!==e.nodeType&&e.firstChild&&-1===n.indexOf(e.firstChild)&&!this.isChildNode(n,e)?-1===n.indexOf(e.firstChild)&&e.firstChild&&!this.isChildNode(n,e)?e.firstChild:e.nextSibling?e.nextSibling:e.parentNode?e.parentNode:null:null},e.prototype.getNodeCollection=function(e){var t=e.startContainer.childNodes[e.startOffset]||e.startContainer,n=e.endContainer.childNodes[e.endOffset>0?e.endOffset-1:e.endOffset]||e.endContainer;if((t===n||"BR"===t.nodeName&&t===e.endContainer.childNodes[e.endOffset])&&0===t.childNodes.length)return[t];if(e.startOffset===e.endOffset&&0!==e.startOffset&&"PRE"===e.startContainer.nodeName)return["BR"===t.nodeName||"#text"===t.nodeName?t:t.childNodes[0]];var i=[];do{-1===i.indexOf(t)&&i.push(t),t=this.getNode(t,n,i)}while(t);return i},e.prototype.getParentNodeCollection=function(e){return this.getParentNodes(this.getNodeCollection(e),e)},e.prototype.getParentNodes=function(e,t){e=e.reverse();for(var n=0;n<e.length;n++)-1!==e.indexOf(e[n].parentNode)||3===e[n].nodeType&&t.startContainer!==t.endContainer&&t.startContainer.parentNode!==t.endContainer.parentNode?(e.splice(n,1),n--):3===e[n].nodeType&&(e[n]=e[n].parentNode);return e},e.prototype.getSelectionNodeCollection=function(e){return this.getSelectionNodes(this.getNodeCollection(e))},e.prototype.getSelectionNodeCollectionBr=function(e){return this.getSelectionNodesBr(this.getNodeCollection(e))},e.prototype.getSelectionNodes=function(e){e=e.reverse();for(var t=new RegExp(String.fromCharCode(8203),"g"),n=0;n<e.length;n++)(3!==e[n].nodeType||""===e[n].textContent.trim()||1===e[n].textContent.length&&e[n].textContent.match(t))&&(e.splice(n,1),n--);return e.reverse()},e.prototype.getSelectionNodesBr=function(e){e=e.reverse();for(var t=new RegExp(String.fromCharCode(8203),"g"),n=0;n<e.length;n++)"BR"!==e[n].nodeName&&(3!==e[n].nodeType||""===e[n].textContent.trim()||1===e[n].textContent.length&&e[n].textContent.match(t))&&(e.splice(n,1),n--);return e.reverse()},e.prototype.getInsertNodeCollection=function(e){return this.getInsertNodes(this.getNodeCollection(e))},e.prototype.getInsertNodes=function(e){e=e.reverse();for(var t=0;t<e.length;t++)(0!==e[t].childNodes.length&&3!==e[t].nodeType||3===e[t].nodeType&&""===e[t].textContent)&&(e.splice(t,1),t--);return e.reverse()},e.prototype.getNodeArray=function(e,t,n){var i=[];for(t?this.startNodeName=[]:this.endNodeName=[];e!==(n||this.rootNode)&&!E(e);null)t?this.startNodeName.push(e.nodeName.toLowerCase()):this.endNodeName.push(e.nodeName.toLowerCase()),i.push(this.getIndex(e)),e=e.parentNode;return i},e.prototype.setRangePoint=function(e,t,n,i){for(var o=this.rootNode,r=n.length,s=i;r--;null)o=o&&o.childNodes[n[r]];return o&&s>=0&&"html"!==o.nodeName&&(3===o.nodeType&&"&nbsp;"===o.nodeValue.replace(/\u00a0/g,"&nbsp;")&&(s=o.textContent.length),e[t?"setStart":"setEnd"](o,s)),e},e.prototype.restore=function(){var e=this.range.cloneRange();return e=this.setRangePoint(e,!0,this.startContainer,this.startOffset),e=this.setRangePoint(e,!1,this.endContainer,this.endOffset),this.selectRange(this.rootNode,e),e},e.prototype.selectRange=function(e,t){this.setRange(e,t),this.save(t,e)},e.prototype.setRange=function(e,t){var n=this.get(e);n.removeAllRanges(),n.addRange(t)},e.prototype.setSelectionText=function(e,t,n,i,o){var r=e.createRange();r.setStart(t,i),r.setEnd(n,o),this.setRange(e,r)},e.prototype.setSelectionContents=function(e,t){var n=e.createRange();n.selectNode(t),this.setRange(e,n)},e.prototype.setSelectionNode=function(e,t){var n=e.createRange();n.selectNodeContents(t),this.setRange(e,n)},e.prototype.getSelectedNodes=function(e){return this.getNodeCollection(this.getRange(e))},e.prototype.Clear=function(e){this.get(e).removeAllRanges()},e.prototype.insertParentNode=function(e,t,n){n.surroundContents(t),this.selectRange(e,n)},e.prototype.setCursorPoint=function(e,t,n){var i=e.createRange(),o=e.defaultView.getSelection();i.setStart(t,n),i.collapse(!0),o.removeAllRanges(),o.addRange(i)},e}(),rm={"toolbar-focus":"alt+f10",escape:"27","insert-link":"ctrl+k","insert-image":"ctrl+shift+i","insert-table":"ctrl+shift+e",undo:"ctrl+z",redo:"ctrl+y",copy:"ctrl+c",cut:"ctrl+x",paste:"ctrl+v",bold:"ctrl+b",italic:"ctrl+i",underline:"ctrl+u",strikethrough:"ctrl+shift+s",uppercase:"ctrl+shift+u",lowercase:"ctrl+shift+l",superscript:"ctrl+shift+=",subscript:"ctrl+=",indents:"ctrl+]",outdents:"ctrl+[","html-source":"ctrl+shift+h","full-screen":"ctrl+shift+f","decrease-fontsize":"ctrl+shift+<","increase-fontsize":"ctrl+shift+>","justify-center":"ctrl+e","justify-full":"ctrl+j","justify-left":"ctrl+l","justify-right":"ctrl+r","clear-format":"ctrl+shift+r","ordered-list":"ctrl+shift+o","unordered-list":"ctrl+alt+o",space:"32",enter:"13",tab:"tab",delete:"46"},sm=["BR","IMG"],am=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","strike","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"];function lm(){var e=!1;return Ce.isDevice&&Ce.isIos&&(e=!0),e}function cm(e,t){if("BODY"===e.nodeName&&!E(t)){var n=top.window.document.querySelector(t);E(n)||n.contentWindow.focus()}}var hm="e-editor-select-start",dm="e-editor-select-end",pm=function(){function e(e,t){this.parent=e,this.nodeSelection=new om,this.currentDocument=t}return e.prototype.contents=function(e){return e&&"IFRAME"!==e.tagName?Array.prototype.slice.call(e.childNodes||[]):[]},e.prototype.isBlockNode=function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&$u.indexOf(e.tagName.toLowerCase())>=0},e.prototype.isLink=function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&"a"===e.tagName.toLowerCase()},e.prototype.blockParentNode=function(e){for(;e&&e.parentNode!==this.parent&&(!e.parentNode||!this.hasClass(e.parentNode,"e-node-inner"));null)if(e=e.parentNode,this.isBlockNode(e))return e;return e},e.prototype.rawAttributes=function(e){var t={},n=e.attributes;if(n.length>0)for(var i=0;i<n.length;i++){var o=n[i];t[o.nodeName]=o.value}return t},e.prototype.attributes=function(e){if(!e)return"";for(var t="",n=this.rawAttributes(e),i=Object.keys(n).sort(),o=0;o<i.length;o++){var r=i[o],s=n[r];s.indexOf("'")<0&&s.indexOf('"')>=0?t+=" "+r+"='"+s+"'":s.indexOf('"')>=0&&s.indexOf("'")>=0?t+=" "+r+'="'+(s=s.replace(/"/g,"&quot;"))+'"':t+=" "+r+'="'+s+'"'}return t},e.prototype.clearAttributes=function(e){for(var t=e.attributes,n=t.length-1;n>=0;n--){var i=t[n];e.removeAttribute(i.nodeName)}},e.prototype.openTagString=function(e){return"<"+e.tagName.toLowerCase()+this.attributes(e)+">"},e.prototype.closeTagString=function(e){return"</"+e.tagName.toLowerCase()+">"},e.prototype.createTagString=function(e,t,n){return"<"+e.toLowerCase()+this.attributes(t)+">"+n+"</"+e.toLowerCase()+">"},e.prototype.isList=function(e){return!!e&&["UL","OL"].indexOf(e.tagName)>=0},e.prototype.isElement=function(e){return e===this.parent},e.prototype.isEditable=function(e){return(!e.getAttribute||"true"===e.getAttribute("contenteditable"))&&["STYLE","SCRIPT"].indexOf(e.tagName)<0},e.prototype.hasClass=function(e,t){return e&&e.classList&&e.classList.contains(t)},e.prototype.replaceWith=function(e,t){e.parentNode.insertBefore(this.parseHTMLFragment(t),e),Oe(e)},e.prototype.parseHTMLFragment=function(e){var t=Se("template");return t.innerHTML=e,t.content instanceof DocumentFragment?t.content:document.createRange().createContextualFragment(e)},e.prototype.wrap=function(e,t){return e.parentNode.insertBefore(t,e),(t=e.previousSibling).appendChild(e),t},e.prototype.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},e.prototype.wrapInner=function(e,t){for(e.appendChild(t),(t=e.querySelector(".e-rte-wrap-inner")).classList.remove("e-rte-wrap-inner"),0===t.classList.length&&t.removeAttribute("class");e.firstChild!==t;)t.appendChild(e.firstChild);return t},e.prototype.unWrap=function(e){for(var t=e.parentNode,n=[];e.firstChild;)n.push(e.firstChild),t.insertBefore(e.firstChild,e);return n=n.length>0?n:[e.parentNode],t.removeChild(e),n},e.prototype.getSelectedNode=function(e,t){return e.nodeType===Node.ELEMENT_NODE&&e.childNodes.length>0&&e.childNodes[t-1]&&e.childNodes[t-1].nodeType===Node.ELEMENT_NODE&&(e.childNodes[t-1].classList.contains(hm)||e.childNodes[t-1].classList.contains(dm))?e=e.childNodes[t-1]:e.nodeType===Node.ELEMENT_NODE&&e.childNodes.length>0&&e.childNodes[t]&&(e=e.childNodes[t]),e.nodeType===Node.TEXT_NODE&&(e=e.parentNode),e},e.prototype.nodeFinds=function(e,t){for(var n=[],i=0;i<t.length;i++)e.contains(t[i])&&e!==t[i]&&n.push(t[i]);return n},e.prototype.isEditorArea=function(){var e;for(e=this.getRangePoint(0).commonAncestorContainer;e&&!this.isElement(e);null)e=e.parentNode;return!!this.isElement(e)},e.prototype.getRangePoint=function(e){var t=this.getSelection(),n=[];if(t&&t.getRangeAt&&t.rangeCount){n=[];for(var i=0;i<t.rangeCount;i++)n.push(t.getRangeAt(i))}else n=[this.currentDocument.createRange()];return"undefined"!==typeof e?n[e]:n},e.prototype.getSelection=function(){return this.nodeSelection.get(this.currentDocument)},e.prototype.getPreviousNode=function(e){for(e=e.previousElementSibling;e&&"\n"===e.textContent;null)e=e.previousElementSibling;return e},e.prototype.encode=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML.replace(/<br\s*[\/]?>/gi,"\n")},e.prototype.saveMarker=function(e,t){var n,i,o=this.parent.querySelector("."+hm),r=this.parent.querySelector("."+dm);if(""===o.textContent&&E(r)&&"tab"!==t&&(1===o.childNodes.length&&"BR"===o.childNodes[0].nodeName?o.innerHTML="&#65279;&#65279;<br>":o.innerHTML="&#65279;&#65279;"),this.hasClass(o,hm)&&o.classList.length>1){var s=this.createTagString(Gu,o,this.encode(o.textContent));this.replaceWith(o,s),(o=this.parent.querySelector("."+hm)).classList.remove(hm),n=o.childNodes[0]}else n=this.unWrap(o)[0];if(this.hasClass(r,dm)&&r.classList.length>1){s=this.createTagString(Gu,r,this.encode(r.textContent));this.replaceWith(r,s),(r=this.parent.querySelector("."+dm)).classList.remove(dm),i=r.childNodes[0]}else i=r?this.unWrap(r)[0]:n;return e.startContainer=e.getNodeArray(n,!0),e.endContainer=e.getNodeArray(i,!1),e},e.prototype.marker=function(e,t){return'<span class="'+e+'">'+t+"</span>"},e.prototype.setMarker=function(e){var t=e.range,n=t.startContainer.childNodes,i=(n.length>1&&"TABLE"===n[0].nodeName?function(e){var t=e;do{t.childNodes.length>0&&(t=t.childNodes[0])}while(t.childNodes.length>0);return t}(n[t.startOffset+1]):n[t.startOffset>0?t.startOffset-1:t.startOffset])||t.startContainer,o=t.endContainer.childNodes[t.endOffset>0?t.endOffset-1:t.endOffset]||t.endContainer;if(i.nodeType===Node.ELEMENT_NODE&&o.nodeType===Node.ELEMENT_NODE&&(i.contains(o)||o.contains(i))){var r=i.contains(o)?i:o;if(r.nodeType!==Node.TEXT_NODE){for(var s=[],a=[],l=r;r.contains(l);null)s.indexOf(l)<0&&l.childNodes&&l.childNodes.length?(s.push(l),l=l.childNodes[0]):l.nextSibling?l=l.nextSibling:l.parentNode&&(l=l.parentNode,s.push(l)),a.indexOf(l)<0&&(l.nodeType===Node.TEXT_NODE||Qu.indexOf(l.parentNode.tagName.toLocaleLowerCase())>=0&&("BR"===l.tagName||"IMG"===l.tagName))&&a.push(l);a.length&&(i=i.contains(o)?a[0]:i,o=a[a.length-1])}}if(i!==o){if(i.nodeType!==Node.TEXT_NODE&&("BR"===i.tagName&&Qu.indexOf(i.parentNode.tagName.toLocaleLowerCase())>=0||"IMG"===i.tagName))this.replaceWith(i,this.marker(hm,this.encode(i.textContent))),t.startContainer.querySelector("."+hm).appendChild(i);else if(3!=i.nodeType&&"#text"!=i.nodeName){var c=this.marker(hm,"");Pe([this.parseHTMLFragment(c)],i)}else this.replaceWith(i,this.marker(hm,this.encode(i.textContent)));if(o.nodeType!==Node.TEXT_NODE&&"BR"===o.tagName&&Qu.indexOf(o.parentNode.tagName.toLocaleLowerCase())>=0)this.replaceWith(o,this.marker(dm,this.encode(o.textContent))),t.endContainer.querySelector("."+dm).appendChild(o);else this.ensureSelfClosingTag(o,dm,t)}else this.ensureSelfClosingTag(i,hm,t)},e.prototype.ensureSelfClosingTag=function(e,t,n){var i=!1;if(3===e.nodeType)this.replaceWith(e,this.marker(t,this.encode(e.textContent)));else if("BR"===e.tagName){this.replaceWith(e,this.marker(t,this.encode(e.textContent))),n.startContainer.querySelector("."+t).appendChild(e)}else{if("IMG"===e.tagName){var o=document.createElement("p");e.parentElement.insertBefore(o,e),o.appendChild(e),e=o.children[0]}if("TABLE"===e.tagName)if(i=!0,""===e.textContent){var r=e.querySelectorAll("td");e=E((e=r[r.length-1]).childNodes[0])?e:e.childNodes[0]}else{for(var s=e.lastChild;3!==s.nodeType&&"#text"!==s.nodeName&&"BR"!==s.nodeName;)s=s.lastChild;e=s}for(var a=0;a<sm.length;a++)e=e.tagName!==sm[a]||i?e:e.parentNode;if(3===e.nodeType&&"#text"===e.nodeName)this.replaceWith(e,this.marker(t,this.encode(e.textContent)));else if("BR"===e.nodeName){this.replaceWith(e,this.marker(dm,this.encode(e.textContent))),n.endContainer.querySelector("."+dm).appendChild(e)}else{var l=this.marker(t,"");Pe([this.parseHTMLFragment(l)],e)}}},e.prototype.createTempNode=function(e){var t=e.textContent;if("BR"===e.tagName){var n="<p></p>",i=e.parentNode;Qu.indexOf(i.tagName.toLocaleLowerCase())>=0&&(e=this.wrap(e,this.parseHTMLFragment(n)))}else if(e.nodeType!==Node.TEXT_NODE&&(e.classList.contains(hm)||e.classList.contains(dm))||t.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length>0||t.length&&t.indexOf("\n")<0){n="<p></p>";var o=e;e=this.wrap(e,this.parseHTMLFragment(n)),!(o.nodeType===Node.ELEMENT_NODE&&o.firstChild&&"BR"===o.firstChild.nodeName&&(o.classList.contains(hm)||o.classList.contains(dm)))&&e.nextElementSibling&&"BR"===e.nextElementSibling.tagName&&e.appendChild(e.nextElementSibling)}return e},e.prototype.getImageTagInSelection=function(){var e=this.getSelection();return this.isEditorArea()&&e.rangeCount?e.focusNode.querySelectorAll("img"):null},e.prototype.blockNodes=function(){var e=[],t=this.getSelection();if(this.isEditorArea()&&t.rangeCount)for(var n=this.getRangePoint(),i=0;i<n.length;i++){var o=void 0,r=n[i],s=this.getSelectedNode(r.startContainer,r.startOffset),a=this.getSelectedNode(r.endContainer,r.endOffset);if(this.isBlockNode(s)&&e.indexOf(s)<0&&e.push(s),(o=this.blockParentNode(s))&&e.indexOf(o)<0)if(Qu.indexOf(o.tagName.toLocaleLowerCase())>=0&&("BR"===s.tagName||s.nodeType===Node.TEXT_NODE||s.classList.contains(hm)||s.classList.contains(dm))){var l=s.previousSibling&&s.previousSibling.nodeType===Node.TEXT_NODE?s.previousSibling:s;s.nextSibling||s.previousSibling||"BR"!==s.tagName?e.push(this.createTempNode(l)):e.push(l)}else e.push(o);for(var c=[],h=s;h!==a&&h!==this.parent;null)c.indexOf(h)<0&&h.childNodes&&h.childNodes.length?(c.push(h),h=h.childNodes[0]):h&&8!==h.nodeType&&("BR"===h.tagName||h.nodeType===Node.TEXT_NODE&&""!==h.textContent.trim()||h.nodeType!==Node.TEXT_NODE&&(h.classList.contains(hm)||h.classList.contains(dm)))&&Qu.indexOf(h.parentNode.tagName.toLocaleLowerCase())>=0?h=this.createTempNode(h):h.nextSibling&&8!==h.nextSibling.nodeType&&("BR"===h.nextSibling.tagName||h.nextSibling.nodeType===Node.TEXT_NODE||h.nextSibling.classList.contains(hm)||h.nextSibling.classList.contains(dm))&&Qu.indexOf(h.nextSibling.parentNode.tagName.toLocaleLowerCase())>=0?h=this.createTempNode(h.nextSibling):h.nextSibling?h=h.nextSibling:h.parentNode&&(h=h.parentNode,c.push(h)),e.indexOf(h)<0&&h.nodeType===Node.ELEMENT_NODE&&Qu.indexOf(h.parentNode.tagName.toLocaleLowerCase())>=0&&(h.classList.contains(hm)||h.classList.contains(dm))&&e.push(this.createTempNode(h)),this.isBlockNode(h)&&this.ignoreTableTag(h)&&c.indexOf(h)<0&&e.indexOf(h)<0&&(h!==a||r.endOffset>0)&&e.push(h),"IMG"===h.nodeName&&"true"===h.parentElement.contentEditable&&e.push(h);(o=this.blockParentNode(a))&&this.ignoreTableTag(o)&&e.indexOf(o)<0&&!E(o.previousElementSibling)&&"IMG"!==o.previousElementSibling.tagName&&e.push(o)}for(var d=e.length-1;d>0;d--){if((c=this.nodeFinds(e[d],e)).length){var p=e[d].querySelectorAll("ul, ol");if("LI"===e[d].tagName&&p.length>0)continue;e.splice(d,1)}}return e},e.prototype.ignoreTableTag=function(e){return!(Ju.indexOf(e.tagName.toLocaleLowerCase())>=0)},e}(),um=function(){function e(e){this.parent=e,this.domNode=this.parent.domNode,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Tr,this.applyListsHandler,this),this.parent.observer.on(kr,this.keyDownHandler,this),this.parent.observer.on(Mr,this.spaceKeyAction,this)},e.prototype.testList=function(e){var t=[/^[\d]+[.]+$/,/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi,/^[a-zA-Z][.]+$/],n=E(e)?null:e.innerText.trim().split(".")[0]+".";if(!E(n))for(var i=0;i<t.length;i++)if(t[i].test(n))return!0;return!1},e.prototype.testCurrentList=function(e){var t=[/^[1]+[.]+$/,/^[i]+[.]+$/,/^[a]+[.]+$/];if(!E(e.startContainer.textContent.slice(0,e.startOffset)))for(var n=e.startContainer.textContent.replace(/\u200B/g,"").slice(0,e.startOffset).trim(),i=0;i<t.length;i++)if(t[i].test(n)&&2===n.length)return!0;return!1},e.prototype.spaceList=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument);this.saveSelection=this.parent.nodeSelection.save(t,this.parent.currentDocument);var n=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset),i=(this.parent.domNode.getSelectedNode(t.endContainer,t.endOffset),n.previousElementSibling),o=n.nextElementSibling,r=E(i)?null:i.innerText.trim().substring(0,1),s=E(o)?null:o.innerText.trim().substring(0,1),a=this.testCurrentList(t),l=this.testList(i),c=this.testList(o);l||c||"*"===r||"*"===s||(a?(t.startContainer.textContent=t.startContainer.textContent.slice(t.startOffset,t.startContainer.textContent.length),this.applyListsHandler({subCommand:"OL",callBack:e.callBack}),e.event.preventDefault()):"*"!==t.startContainer.textContent.replace(/\u200B/g,"").slice(0,t.startOffset).trim()&&"-"!==t.startContainer.textContent.replace(/\u200B/g,"").slice(0,t.startOffset).trim()||(t.startContainer.textContent=t.startContainer.textContent.slice(t.startOffset,t.startContainer.textContent.length),this.applyListsHandler({subCommand:"UL",callBack:e.callBack}),e.event.preventDefault()))},e.prototype.enterList=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),n="LI"===t.startContainer.nodeName?t.startContainer:t.startContainer.parentElement.closest("LI"),i="LI"===t.endContainer.nodeName?t.endContainer:t.endContainer.parentElement.closest("LI");if(!E(n)&&!E(i)&&n===i&&"LI"===n.tagName&&""===n.textContent.trim()&&0===n.querySelectorAll("IMG").length){if(n.innerHTML.indexOf("&nbsp;")>=0)return;65279===n.textContent.charCodeAt(0)&&(n.textContent="");var o=n.parentElement;if(E(o.parentElement.closest("UL"))&&E(o.parentElement.closest("OL"))){if(!E(n.nextElementSibling)){var r=this.parent.domNode.blockParentNode(n);this.parent.nodeCutter.GetSpliceNode(t,r)}var s=void 0;"DIV"===e.enterAction?(s=Se("div")).innerHTML="<br>":"P"===e.enterAction?(s=Se("p")).innerHTML="<br>":s=Se("br"),this.parent.domNode.insertAfter(s,o),e.event.preventDefault(),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0),""===o.textContent?Oe(o):Oe(n)}}},e.prototype.backspaceList=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),n=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset),i=this.parent.domNode.getSelectedNode(t.endContainer,t.endOffset);if((n="BR"===n.nodeName?n.parentElement:n)===(i="BR"===i.nodeName?i.parentElement:i)&&!E(Ie(n,"li"))&&(""===n.textContent.trim()&&65279===n.textContent.charCodeAt(0)||1===n.textContent.length&&8203===n.textContent.charCodeAt(0))&&(n.textContent=""),n===i&&"LI"===n.tagName&&0===n.textContent.length&&E(n.previousElementSibling)&&n.removeAttribute("style"),n===i&&""===n.textContent){if("LI"===n.parentElement.tagName&&"LI"===i.parentElement.tagName)Oe(n);else if(n.closest("ul")||n.closest("ol")){if((o=E(n.closest("ul"))?n.closest("ol"):n.closest("ul")).firstElementChild===n&&!E(o.children[1])&&("OL"===o.children[1].tagName||"UL"===o.children[1].tagName))if(o.tagName===o.children[1].tagName){for(;o.children[1].lastChild;)this.parent.domNode.insertAfter(o.children[1].lastChild,o.children[1]);Oe(o.children[1])}else o.parentElement.insertBefore(o.children[1],o)}}else if(!E(n.firstChild)&&"BR"===n.firstChild.nodeName&&!E(n.childNodes[1])&&("UL"===n.childNodes[1].nodeName||"OL"===n.childNodes[1].nodeName)){var o;if((o=E(n.closest("ul"))?n.closest("ol"):n.closest("ul")).tagName===n.childNodes[1].nodeName){for(;n.childNodes[1].lastChild;)this.parent.domNode.insertAfter(n.children[1].lastChild,n);Oe(n.childNodes[1])}else o.parentElement.insertBefore(n.children[1],o)}},e.prototype.keyDownHandler=function(e){if(13===e.event.which&&this.enterList(e),32===e.event.which&&this.spaceList(e),8===e.event.which&&this.backspaceList(e),46===e.event.which&&"delete"===e.event.action){var t=(s=this.parent.nodeSelection.getRange(this.parent.currentDocument)).commonAncestorContainer,n=s.startContainer,i=s.endContainer,o=3===n.nodeType?n.parentElement:n,r=3===i.nodeType?i.parentElement:i;"UL"!==t.nodeName&&"OL"!==t.nodeName||o===r||E(Ie(o,"ul"))&&E(Ie(o,"ol"))||E(Ie(r,"ul"))&&E(Ie(r,"ol"))||t.lastElementChild!==Ie(r,"li")||s.collapsed||Oe(t)}if(9===e.event.which){var s=this.parent.nodeSelection.getRange(this.parent.currentDocument);e.event.action&&"indent"===e.event.action||(this.saveSelection=this.parent.nodeSelection.save(s,this.parent.currentDocument));var a=void 0,l=s.startOffset,c=s.endOffset;if((o=this.parent.domNode.getSelectedNode(s.startContainer,s.startOffset))===(r=this.parent.domNode.getSelectedNode(s.endContainer,s.endOffset))&&("BR"===o.nodeName||"#text"===o.nodeName)&&Qu.indexOf(o.parentNode.tagName.toLocaleLowerCase())>=0)return;e.event.action&&"indent"===e.event.action||this.domNode.setMarker(this.saveSelection),a=this.domNode.blockNodes();for(var h=[],d=!0,p=0;p<a.length;p++)"LI"===a[p].parentNode.tagName?h.push(a[p].parentNode):"LI"===a[p].tagName&&"P"!==a[p].childNodes[0].tagName&&"OL"!==a[p].childNodes[0].tagName&&"UL"!==a[p].childNodes[0].tagName&&h.push(a[p]);h.length>1||h.length&&(0===l&&0===c||e.ignoreDefault)?(e.event.preventDefault(),e.event.stopPropagation(),this.currentAction=this.getAction(h[0]),e.event.shiftKey?(this.revertList(h,e),this.revertClean()):d=this.nestedList(h),d&&(this.cleanNode(),this.parent.editableElement.focus()),e.event.action&&"indent"===e.event.action||(this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore(),e.callBack&&e.callBack({requestType:this.currentAction,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes(),event:e.event}))):e.event.action&&"indent"===e.event.action||(e.event&&e.event.shiftKey&&"Tab"===e.event.key&&(e.event.action="tab"),this.saveSelection=this.domNode.saveMarker(this.saveSelection,e.event.action),this.saveSelection.restore())}else switch(e.event.action){case"ordered-list":this.applyListsHandler({subCommand:"OL",callBack:e.callBack}),e.event.preventDefault();break;case"unordered-list":this.applyListsHandler({subCommand:"UL",callBack:e.callBack}),e.event.preventDefault()}},e.prototype.spaceKeyAction=function(e){32===e.event.which&&this.spaceList(e)},e.prototype.getAction=function(e){return"OL"===e.parentNode.nodeName?"OL":"UL"},e.prototype.revertClean=function(){for(var e=this.parent.editableElement.querySelectorAll("ul, ol"),t=0;t<e.length;t++){var n=e[t].querySelectorAll("ul, ol");if(n.length>0)for(var i=0;i<n.length;i++){var o=n[i].previousSibling;o&&"LI"===o.tagName&&o.appendChild(n[i])}}},e.prototype.noPreviousElement=function(e){var t,n,i=e.querySelectorAll("ol, ul"),o=e.querySelectorAll("li"),r=this.domNode.contents(o[0])[0];if(o.length>0&&("OL"===r.nodeName||"UL"===r.nodeName)?t=o[0]:n=i[0],t)for(var s=this.domNode.contents(e)[0];s&&!this.domNode.isList(s);null){var a=s.nextSibling;Le([s],t),Fe(e,{"list-style-type":"none"}),Fe(t,{"list-style-type":""}),s=a}else if(n){Le([c=Se("li")],n);for(s=this.domNode.contents(e)[0];s&&!this.domNode.isList(s);null){a=s.nextSibling;c.appendChild(s),s=a}Le([n],e.parentNode),Oe(e),Le([l=Se("li",{styles:"list-style-type: none;"})],n.parentNode),Pe([n],l)}else{var l,c;Le([l=Se("li",{styles:"list-style-type: none;"})],e.parentNode),Le([c=Se(e.parentNode.tagName)],l),Pe([e],c)}},e.prototype.nestedList=function(e){for(var t=!1,n=0;n<e.length;n++){var i=this.domNode.getPreviousNode(e[n]);if(i){t=!0;var o=void 0,r=void 0,s=e[n].querySelectorAll("ol, ul"),a=e[n].querySelectorAll("li"),l=this.domNode.contents(a[0])[0];if(a.length>0&&("OL"===l.nodeName||"UL"===l.nodeName)?r=a[0]:o=s[0],o){Le([d=Se("li")],o);for(var c=this.domNode.contents(e[n])[0];c&&!this.domNode.isList(c);null){var h=c.nextSibling;d.appendChild(c),c=h}Pe([o],i),Oe(e[n])}else if(r){if("LI"===i.tagName){for(c=this.domNode.contents(e[n])[0];c&&!this.domNode.isList(c);null){h=c.nextSibling;Le([c],r),Fe(e[n],{"list-style-type":"none"}),Fe(r,{"list-style-type":""}),c=h}Pe([r.parentNode],i),Oe(e[n])}}else{var d;if("LI"===i.tagName)Pe([d=Se(e[n].parentNode.tagName)],i),Pe([e[n]],d);else"OL"!==i.tagName&&"UL"!==i.tagName||Pe([e[n]],i)}}else{var p=e[n];t=!0,this.noPreviousElement(p)}}return t},e.prototype.applyListsHandler=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument);if(t.startContainer===t.endContainer&&t.startContainer===this.parent.editableElement&&t.startOffset===t.endOffset&&0===t.startOffset&&0===this.parent.editableElement.textContent.length&&"TABLE"!=this.parent.editableElement.childNodes[0].nodeName&&"IMG"!=this.parent.editableElement.childNodes[0].nodeName){var n=t.startContainer.childNodes[0];this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,n,n,0,0),t=this.parent.nodeSelection.getRange(this.parent.currentDocument)}this.saveSelection=this.parent.nodeSelection.save(t,this.parent.currentDocument),this.currentAction=e.subCommand,this.currentAction=e.subCommand="NumberFormatList"===this.currentAction?"OL":"BulletFormatList"===this.currentAction?"UL":this.currentAction,this.domNode.setMarker(this.saveSelection);var i=this.domNode.blockNodes();if("BR"===e.enterAction){this.setSelectionBRConfig();var o=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),r=this.parent.nodeSelection.getSelectionNodes(o),s=[];0===r.length&&r.push(i[0]);for(var a=0;a<r.length;a++){for(var l=r[a],c=void 0;!this.parent.domNode.isBlockNode(l)&&l!==this.parent.editableElement;)c=l,l=l.parentElement;this.parent.domNode.isBlockNode(l)&&l===this.parent.editableElement&&s.push(c)}for(a=0;a<s.length;a++)if(!this.parent.domNode.isBlockNode(s[a])){for(var h=l=s[a];l===this.parent.editableElement;)h=l,l=l.parentElement;var d=void 0;this.parent.domNode.isBlockNode(h.parentElement)&&h.parentElement===this.parent.editableElement?(d=Se("p"),h.parentElement.insertBefore(d,h),d.appendChild(h)):d=h;for(var p=d.previousSibling;!E(p)&&"BR"!==p.nodeName&&!this.parent.domNode.isBlockNode(p);)d.firstChild.parentElement.insertBefore(p,d.firstChild),p=d.previousSibling;E(p)||"BR"!==p.nodeName||Oe(p);for(var u=d.nextSibling;!E(u)&&"BR"!==u.nodeName&&!this.parent.domNode.isBlockNode(u);)d.appendChild(u),u=d.nextSibling;E(u)||"BR"!==u.nodeName||Oe(u)}this.setSelectionBRConfig(),i=this.parent.domNode.blockNodes()}for(a=0;a<i.length;a++)"TABLE"!==i[a].tagName||t.collapsed||i.splice(a,1),i.length>0&&"LI"!==i[a].tagName&&"LI"===i[a].parentNode.tagName&&(i[a]=i[a].parentNode);this.applyLists(i,this.currentAction,e.selector,e.item,e),e.callBack&&e.callBack({requestType:this.currentAction,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},e.prototype.setSelectionBRConfig=function(){var e=this.parent.editableElement.querySelector("."+hm),t=this.parent.editableElement.querySelector("."+dm);E(t)?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e,0):this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,e,t,0,0)},e.prototype.applyLists=function(e,t,n,i,o){if(this.isRevert(e,t)&&E(i))this.revertList(e,o),this.removeEmptyListElements();else{this.checkLists(e,t,i);for(var r=0;r<e.length;r++)if(E(i)||E(i.listStyle)||("listImage"===i.listStyle?Fe(e[r],{"list-style-image":i.listImage}):(Fe(e[r],{"list-style-image":"none"}),Fe(e[r],{"list-style-type":i.listStyle.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}))),"true"===e[r].getAttribute("contenteditable")&&1===e[r].childNodes.length&&"TABLE"===e[r].childNodes[0].nodeName){var s=document.createElement(t);s.innerHTML="<li><br/></li>",e[r].appendChild(s)}else if("LI"!==e[r].tagName&&E(i)){!1;var a="<"+t+">",l="</"+t+">",c="li"+("IMG"===e[r].tagName?"":this.domNode.attributes(e[r])),h=e[r].tagName.toLowerCase()===Gu?e[r].innerHTML:e[r].outerHTML,d=a+this.domNode.createTagString(c,null,h)+l;this.domNode.replaceWith(e[r],d)}else if(!E(i)&&"LI"!==e[r].tagName){!1;a="<"+t+("IMG"===e[r].tagName?"":this.domNode.attributes(e[r]))+">",l="</"+t+">",c="li",h=e[r].tagName.toLowerCase()===Gu?e[r].innerHTML:e[r].outerHTML,d=a+this.domNode.createTagString(c,null,h)+l;this.domNode.replaceWith(e[r],d)}}this.cleanNode(),this.parent.editableElement.focus(),lm()&&cm(this.parent.editableElement,n),this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore()},e.prototype.removeEmptyListElements=function(){for(var e=this.parent.editableElement.querySelectorAll("ol, ul"),t=0;t<e.length;t++)""===e[t].textContent.trim()&&Oe(e[t])},e.prototype.isRevert=function(e,t){for(var n=!0,i=0;i<e.length;i++){if("LI"!==e[i].tagName)return!1;e[i].parentNode.tagName!==t&&(n=!1)}return n},e.prototype.checkLists=function(e,t,n){for(var i=[],o=0;o<e.length;o++){var r=e[o].parentNode;E(n)||"LI"!==e[o].tagName||E(n.listStyle)||("listImage"===n.listStyle?Fe(r,{"list-style-image":n.listImage}):(Fe(r,{"list-style-image":"none"}),Fe(r,{"list-style-type":n.listStyle.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}))),("LI"===e[o].tagName&&r.tagName!==t&&i.indexOf(r)<0||"LI"===e[o].tagName&&r.tagName===t&&i.indexOf(r)<0&&null!==n)&&i.push(r)}for(var s=i.length-1;s>=0;s--){var a=i[s],l="<"+t.toLowerCase()+" "+this.domNode.attributes(a)+">"+a.innerHTML+"</"+t.toLowerCase()+">";this.domNode.replaceWith(i[s],l)}},e.prototype.cleanNode=function(){for(var e=this.parent.editableElement.querySelectorAll("ol + ol, ul + ul"),t=0;t<e.length;t++){var n=e[t];if(this.domNode.isList(n.previousElementSibling)&&this.domNode.openTagString(n)===this.domNode.openTagString(n.previousElementSibling)){for(var i=this.domNode.contents(n),o=0;o<i.length;o++)n.previousElementSibling.appendChild(i[o]);n.parentNode.removeChild(n)}}},e.prototype.findUnSelected=function(e,t){if((e=e.slice().reverse()).length>0){var n=[],i=[],o=[],r=[];o=t[t.length-1].childNodes;for(var s=0;s<o.length;s++)if("OL"===o[s].tagName||"UL"===o[s].tagName){var a=o[s].querySelectorAll("li");if(a.length>0)for(var l=0;l<a.length;l++)r.push(a[l])}for(var c=0;c<r.length;c++){for(var h=0,d=0;d<e.length;d++)r[c].contains(e[d])||(h+=1);h===e.length&&i.push(r[c])}if(i.length>0)for(var p=0;p<i.length;p++)"OL"!==this.domNode.contents(i[p])[0].nodeName&&"UL"!==this.domNode.contents(i[p])[0].nodeName&&n.push(i[p]);n.length>0&&this.nestedList(n)}},e.prototype.revertList=function(e,t){for(var n=[],i=e.length-1;i>=0;i--)for(var o=i-1;o>=0;o--)if(e[o].contains(e[i])||e[o]===e[i]){n.push(e[i]),e.splice(i,1);break}this.findUnSelected(n,e);var r=[];for(i=0;i<e.length;i++){var s=e[i];3===this.domNode.contents(s)[0].nodeType&&0===this.domNode.contents(s)[0].textContent.trim().length&&Oe(this.domNode.contents(s)[0]);var a=e[i].parentNode,l=s.getAttribute("class");if(0===n.length){var c=e[i].querySelectorAll("ul, ol")[0];if(c)if(c.querySelectorAll("li")){var h=Se(c.tagName);Pe([h],c.parentNode);var d=Se("li",{styles:"list-style-type: none;"});Pe([d],h),Pe([c],d)}}if(s.parentNode.insertBefore(this.closeTag(a.tagName),s),"LI"===a.parentNode.tagName)s.parentNode.insertBefore(this.closeTag("LI"),s);else{if(l&&' class="'+l+'"',0===s.querySelectorAll($u.join(", ")).length){var p="<p"+(E(l)?' class="e-rte-wrap-inner"':' class="'+l+' e-rte-wrap-inner"')+this.domNode.attributes(a)+"></"+"p>";"BR"!==t.enterAction&&this.domNode.wrapInner(s,this.domNode.parseHTMLFragment(p))}else if(3===this.domNode.contents(s)[0].nodeType){var u=this.domNode.createTagString(Gu,a,this.parent.domNode.encode(this.domNode.contents(s)[0].textContent));this.domNode.replaceWith(this.domNode.contents(s)[0],u)}else if(this.domNode.contents(s)[0].classList.contains(hm)||this.domNode.contents(s)[0].classList.contains(dm)){u=this.domNode.createTagString(Gu,a,this.domNode.contents(s)[0].outerHTML);this.domNode.replaceWith(this.domNode.contents(s)[0],u)}else{var m=s.firstChild;l=m.getAttribute("class"),Re(m,this.domNode.rawAttributes(a)),l&&m.getAttribute("class")&&Re(m,{class:l+" "+m.getAttribute("class")})}Pe([this.openTag("LI")],s),Le([this.closeTag("LI")],s)}this.domNode.insertAfter(this.openTag(a.tagName),s),"LI"===a.parentNode.tagName&&(a=a.parentNode.parentNode),r.indexOf(a)<0&&r.push(a)}for(i=0;i<r.length;i++){var f=r[i],g=f.innerHTML;g=(g=g.replace(/<span class="e-rte-list-close-([a-z]*)"><\/span>/g,"</$1>")).replace(/<span class="e-rte-list-open-([a-z]*)"><\/span>/g,"<$1 "+this.domNode.attributes(f)+">"),this.domNode.replaceWith(f,this.domNode.openTagString(f)+g.trim()+this.domNode.closeTagString(f))}var v=this.parent.editableElement.querySelectorAll("ul:empty, ol:empty");for(i=0;i<v.length;i++)Oe(v[i]);var y=this.parent.editableElement.querySelectorAll("li:empty");for(i=0;i<y.length;i++)Oe(y[i])},e.prototype.openTag=function(e){return this.domNode.parseHTMLFragment('<span class="e-rte-list-open-'+e.toLowerCase()+'"></span>')},e.prototype.closeTag=function(e){return this.domNode.parseHTMLFragment('<span class="e-rte-list-close-'+e.toLowerCase()+'"></span>')},e}(),mm=function(){function e(){}return e.WrapBefore=function(e,t,n){return t.innerText=e.textContent,n?this.AppendBefore(t,e,!0):this.AppendBefore(t,e),e.parentNode&&e.parentNode.removeChild(e),t.childNodes[0]},e.Wrap=function(e,t){return this.AppendBefore(t,e),t.appendChild(e),e},e.unwrap=function(e){for(var t=e.parentNode,n=[];e.firstChild;null)n.push(t.insertBefore(e.firstChild,e));return t.removeChild(e),n},e.AppendBefore=function(e,t,n){return t.parentNode?n?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.insertBefore(e,t):t},e}(),fm=function(){function e(){this.enterAction="P",this.position=-1,this.nodeSelection=new om}return e.prototype.GetSpliceNode=function(e,t){return t=this.SplitNode(e,t,!0),t=this.SplitNode(e,t,!1)},e.prototype.SplitNode=function(e,t,n){if(t){var i=e.cloneRange(),o=t.parentNode,r=this.nodeSelection.getIndex(t);i.collapse(n),n?i.setStartBefore(t):i.setEndAfter(t);var s,a=i.extractContents();if(n){if(t=o.childNodes[r],(a=this.spliceEmptyNode(a,!1))&&a.childNodes.length>0)if(!!(1!==a.childNodes.length||"IMG"===a.childNodes[0].nodeName||!this.isImgElm(a)||""!==a.textContent))if(t)mm.AppendBefore(a,t);else o.appendChild(a),(s=document.createElement("div")).innerHTML="&#65279;&#65279;",t=s.firstChild,o.appendChild(t)}else if(t=o.childNodes.length>1?o.childNodes[r]:o.childNodes[0],(a=this.spliceEmptyNode(a,!0))&&a.childNodes.length>0)if(!!(1!==a.childNodes.length||"IMG"===a.childNodes[0].nodeName||!this.isImgElm(a)||""!==a.textContent))if(t)mm.AppendBefore(a,t,!0);else o.appendChild(a),(s=document.createElement("div")).innerHTML="&#65279;&#65279;",o.insertBefore(s.firstChild,o.firstChild),t=o.firstChild;return t}return null},e.prototype.isImgElm=function(e){var t=!0;if(1===e.childNodes.length&&"IMG"!==e.childNodes[0].nodeName)for(var n=e.childNodes[0],i=0;!E(n.childNodes)&&i<n.childNodes.length;i++)"IMG"===n.childNodes[i].nodeName&&(t=!1);else t=!0;return t},e.prototype.spliceEmptyNode=function(e,t){var n;return(n=1===e.childNodes.length&&"#text"===e.childNodes[0].nodeName&&""===e.childNodes[0].textContent||""===e.textContent?-1:e.childNodes.length-1)>-1&&!t?this.spliceEmptyNode(e.childNodes[n],t):n>-1?this.spliceEmptyNode(e.childNodes[0],t):3!==e.nodeType&&11!==e.nodeType&&"IMG"!==e.nodeName&&e.parentNode.removeChild(e),e},e.prototype.GetCursorStart=function(e,t,n){for(var i=(e=n?e:e.reverse())[0],o=0;o<e.length&&(n?e[o]<t:e[o]>=t);o++)i=e[o];return i},e.prototype.GetCursorRange=function(e,t,n){var i=e.createRange(),o=[];o.push(0);for(var r=this.TrimLineBreak(n.data),s=r.indexOf(" ",0);-1!==s;)o.indexOf(s)<0&&o.push(s),new RegExp("\\s").test(r[s-1])&&o.indexOf(s-1)<0&&o.push(s-1),new RegExp("\\s").test(r[s+1])&&o.push(s+1),s=r.indexOf(" ",s+1);if(o.push(r.length),o.indexOf(t.startOffset)>=0||o.indexOf(t.startOffset-1)>=0&&(1!==t.startOffset||1===t.startOffset&&new RegExp("\\s").test(r[0]))||o[o.length-1]-1===t.startOffset)i=t,this.position=1;else{var a=this.GetCursorStart(o,t.startOffset,!0);this.position=t.startOffset-a,i.setStart(t.startContainer,a),i.setEnd(t.startContainer,this.GetCursorStart(o,t.startOffset,!1))}return i},e.prototype.GetCursorNode=function(e,t,n){return this.GetSpliceNode(this.GetCursorRange(e,t,n),n)},e.prototype.TrimLineBreak=function(e){return e.replace(/(\r\n\t|\n|\r\t)/gm," ")},e}(),gm=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Sr,this.applyFormats,this),this.parent.observer.on(xr,this.onKeyUp,this),this.parent.observer.on(kr,this.onKeyDown,this)},e.prototype.getParentNode=function(e){for(;e.parentNode&&e.parentNode!==this.parent.editableElement;null)e=e.parentNode;return e},e.prototype.onKeyUp=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),n=t.endContainer,i=n.lastChild;if(13===e.event.which&&t.startContainer===n&&3!==n.nodeType){var o=Se("p");if(o.innerHTML="<br>",!E(i)&&i&&"BR"===i.nodeName&&i.previousSibling&&"TABLE"===i.previousSibling.nodeName)n.replaceChild(o,i),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,o,0);else{var r=this.parent.nodeSelection.getSelectionNodeCollectionBr(t)[0];!E(r)&&"BR"===r.nodeName&&r.previousSibling&&"TABLE"===r.previousSibling.nodeName&&(n.replaceChild(o,r),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,o,0))}}},e.prototype.onKeyDown=function(e){if(13===e.event.which){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),n=0===t.startContainer.textContent.length||"PRE"===t.startContainer.nodeName?t.startContainer:t.startContainer.parentElement,i=0===t.endContainer.textContent.length||"PRE"===t.endContainer.nodeName?t.endContainer:t.endContainer.parentElement,o=Ie(n,"pre"),r=Ie(i,"pre");if(!E(o)&&!E(o.parentElement)&&"LI"===o.parentElement.tagName)return;if((E(o)&&!E(r)||!E(o)&&E(r))&&(e.event.preventDefault(),this.deleteContent(t),this.removeCodeContent(t),t=this.parent.nodeSelection.getRange(this.parent.currentDocument),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,i,0)),13===e.event.which&&!E(o)&&!E(r)){e.event.preventDefault(),this.deleteContent(t),this.removeCodeContent(t);var s=(t=this.parent.nodeSelection.getRange(this.parent.currentDocument)).startContainer.childNodes[t.endOffset],a=t.startContainer.childNodes[t.endOffset-1],l=t.startContainer;if(E(s)||E(a)||!E(s.nextSibling)||"BR"!==s.nodeName||"BR"!==a.nodeName)if(8203===l.textContent.charCodeAt(0)&&1===l.textContent.length||0===l.textContent.length){for(;"PRE"!==l.parentElement.nodeName&&(1===l.textContent.length||0===l.textContent.length);)l=l.parentElement;!E(l.previousSibling)&&"BR"===l.previousSibling.nodeName&&E(l.nextSibling)?this.paraFocus(l.parentElement):this.isNotEndCursor(o,t)}else this.isNotEndCursor(o,t);else this.paraFocus(t.startContainer,e.enterAction)}}},e.prototype.removeCodeContent=function(e){var t=new RegExp(String.fromCharCode(65279),"g");if(!E(e.endContainer.textContent.match(t))){var n=65279===e.endContainer.textContent.charCodeAt(e.endOffset-1)?e.endOffset-2:e.endOffset;e.endContainer.textContent=e.endContainer.textContent.replace(t,""),""===e.endContainer.textContent?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e.endContainer.parentElement,0):this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e.endContainer,n)}},e.prototype.deleteContent=function(e){e.startContainer===e.endContainer&&e.startOffset===e.endOffset||e.deleteContents()},e.prototype.paraFocus=function(e,t){var n;"DIV"===t?(n=Se("div")).innerHTML="<br>":"BR"===t?n=Se("br"):(n=Se("p")).innerHTML="<br>",this.parent.domNode.insertAfter(n,e),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0),Oe(e.lastChild)},e.prototype.isNotEndCursor=function(e,t){var n=new fm,i=t.startOffset===e.lastChild.textContent.length&&e.lastChild.textContent===t.startContainer.textContent;if(0===e.textContent.indexOf(t.startContainer.textContent)&&(0===t.startOffset&&0===t.endOffset||"PRE"===t.startContainer.nodeName)){this.insertMarker(e,t);var o=Se("br");e.childNodes[t.endOffset].parentElement.insertBefore(o,e.childNodes[t.endOffset])}else{var r=n.SplitNode(t,e,!0);this.insertMarker(e,t);var s=e.previousElementSibling;"PRE"===s.tagName&&(s.insertAdjacentHTML("beforeend","<br>"+r.innerHTML),Oe(e))}this.setCursorPosition(i,e)},e.prototype.setCursorPosition=function(e,t){var n=!1,i=this.parent.editableElement.querySelector(".tempSpan"),o=i.parentElement;if(""===i.parentNode.textContent?n=!0:this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,i,0),e)if(n)o===t?(this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,i,0),Oe(i)):this.focusSelectionParent(i,o);else{var r=Se("br");this.parent.domNode.insertAfter(r,i),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,i,0),Oe(i)}else n?this.focusSelectionParent(i,o):Oe(i)},e.prototype.focusSelectionParent=function(e,t){Oe(e),t.innerHTML="\u200b",this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t,0)},e.prototype.insertMarker=function(e,t){var n=Se("span",{className:"tempSpan"});"PRE"===t.startContainer.nodeName?e.childNodes[t.endOffset].parentElement.insertBefore(n,e.childNodes[t.endOffset]):t.startContainer.parentElement.insertBefore(n,t.startContainer)},e.prototype.applyFormats=function(e){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),n=!1;this.parent.editableElement!==t.endContainer||E(this.parent.editableElement.children[t.endOffset-1])||"TABLE"!==this.parent.editableElement.children[t.endOffset-1].tagName||t.collapsed||(n=!0);var i=this.parent.nodeSelection.save(t,this.parent.currentDocument);this.parent.domNode.setMarker(i);var o=this.parent.domNode.blockNodes();if("BR"===e.enterAction){this.setSelectionBRConfig();var r=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),s=this.parent.nodeSelection.getSelectionNodes(r),a=[];0===s.length&&s.push(o[0]);for(var l=0;l<s.length;l++){for(var c=s[l],h=void 0;!this.parent.domNode.isBlockNode(c)&&c!==this.parent.editableElement;)h=c,c=c.parentElement;this.parent.domNode.isBlockNode(c)&&c===this.parent.editableElement&&a.push(h)}for(l=0;l<a.length;l++)if(!this.parent.domNode.isBlockNode(a[l])){for(var d=c=a[l];c===this.parent.editableElement;)d=c,c=c.parentElement;var p=void 0;this.parent.domNode.isBlockNode(d.parentElement)&&d.parentElement===this.parent.editableElement?(p=Se("div"),d.parentElement.insertBefore(p,d),p.appendChild(d)):p=d;for(var u=p.previousSibling;!E(u)&&"BR"!==u.nodeName&&!this.parent.domNode.isBlockNode(u);)p.firstChild.parentElement.insertBefore(u,p.firstChild),u=p.previousSibling;E(u)||"BR"!==u.nodeName||Oe(u);for(var m=p.nextSibling;!E(m)&&"BR"!==m.nodeName&&!this.parent.domNode.isBlockNode(m);)p.appendChild(m),m=p.nextSibling;E(m)||"BR"!==m.nodeName||Oe(m)}this.setSelectionBRConfig(),o=this.parent.domNode.blockNodes()}for(l=0;l<o.length;l++){var f=void 0,g=void 0;if("blockquote"===e.subCommand.toLowerCase()?(f=this.getParentNode(o[l]),g=this.parent.domNode.isList(f)||"TABLE"===f.tagName?f.outerHTML:f.innerHTML):g=(f=o[l]).innerHTML,!(e.subCommand.toLowerCase()===f.tagName.toLowerCase()&&("pre"!==e.subCommand.toLowerCase()||!E(e.exeValue)&&"dropDownSelect"===e.exeValue.name)||E(f.parentNode)||"TABLE"===f.tagName&&"pre"===e.subCommand.toLowerCase())){this.cleanFormats(f,e.subCommand);var v="pre"===e.subCommand.toLowerCase()&&"pre"===f.tagName.toLowerCase()?"p":e.subCommand,y=this.parent.domNode.createTagString(v,f,g.replace(/>\s+</g,"><"));"LI"===f.tagName?(f.innerHTML="",f.insertAdjacentHTML("beforeend",y)):this.parent.domNode.replaceWith(f,y)}}this.preFormatMerge();var b=this.parent.editableElement.querySelector("."+hm),C=this.parent.editableElement.querySelector("."+dm);E(b)||E(C)||(b=b.lastChild,C=C.lastChild),i=this.parent.domNode.saveMarker(i,null),lm()&&cm(this.parent.editableElement,e.selector),n?this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,b,C,0,C.textContent.length):i.restore(),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},e.prototype.setSelectionBRConfig=function(){var e=this.parent.editableElement.querySelector("."+hm),t=this.parent.editableElement.querySelector("."+dm);E(t)?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e,0):this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,e,t,0,0)},e.prototype.preFormatMerge=function(){var e=this.parent.editableElement.querySelectorAll("PRE");if(!E(e))for(var t=0;t<e.length;t++){var n=e[t].previousElementSibling;E(n)||"PRE"!==n.tagName||(n.insertAdjacentHTML("beforeend","<br>"+e[t].innerHTML),Oe(e[t]))}},e.prototype.cleanFormats=function(e,t){var n=["display","font-size","margin-top","margin-bottom","margin-left","margin-right","font-weight"];t=t.toLowerCase();for(var i=0;i<n.length&&"p"!==t&&"blockquote"!==t&&"pre"!==t;i++)e.style.removeProperty(n[i])},e}(),vm=function(){function e(){}return e.Insert=function(e,t,n,i){var o,r;"string"===typeof t?((r=document.createElement("div")).innerHTML=t,o=i?r:r.firstChild):i&&(E(t)||E(t.classList)||!t.classList.contains("pasteContent"))?((r=document.createElement("div")).appendChild(t),o=r):o=t;var s=new om,a=new fm,l=s.getRange(e);if(l.startContainer===n&&l.startContainer===l.endContainer&&0===l.startOffset&&l.startOffset===l.endOffset&&0===n.textContent.length&&"P"===n.children[0].tagName&&(s.setSelectionText(e,l.startContainer.children[0],l.startContainer.children[0],0,0),l=s.getRange(e)),"BR"===l.startContainer.nodeName&&0===l.startOffset&&l.startOffset===l.endOffset&&l.startContainer===l.endContainer){var c=Array.prototype.slice.call(l.startContainer.parentElement.children).indexOf(l.startContainer);s.setSelectionText(e,l.startContainer.parentElement,l.startContainer.parentElement,c+1,c+1),l=s.getRange(e)}var h=l.startOffset===l.endOffset&&0===l.startOffset&&l.startContainer===l.endContainer,d=l.collapsed,p=this.getNodeCollection(l,s,o),u="table"===o.nodeName.toLowerCase()?this.closestEle(p[0].parentNode,n):p[0];if(i||!E(o)&&!E(o.classList)&&o.classList.contains("pasteContent"))this.pasteInsertHTML(p,o,l,s,a,e,d,u,n);else if(n!==l.startContainer&&(!d&&(u.nodeType!==Node.ELEMENT_NODE||-1===Ju.indexOf(u.tagName.toLocaleLowerCase()))||"table"===o.nodeName.toLowerCase()&&u&&-1===Ju.indexOf(u.tagName.toLocaleLowerCase()))){var m=a.GetSpliceNode(l,u),f=m.previousSibling,g=m.parentNode;if(1===p.length||"table"===o.nodeName.toLowerCase()&&0===m.childElementCount)s.setSelectionContents(e,m),l=s.getRange(e);else{var v=a.GetSpliceNode(l,p[p.length-1].parentElement);v=E(v)?m:v,s.setSelectionText(e,m,v,0,3===v.nodeType?v.textContent.length:v.childNodes.length),l=s.getRange(e)}l.extractContents(),"TABLE"===t.tagName&&this.removeEmptyElements(n);for(var y=0;y<p.length;y++)if(3!==p[y].nodeType&&null!=p[y].parentNode){if("IMG"===p[y].nodeName)continue;p[y].parentNode.removeChild(p[y])}if(f)mm.AppendBefore(o,f,!0);else{for(var b=null;g!==n&&g.firstChild&&""===g.textContent.trim();){b=g,g=g.parentNode}null!==b&&(g=b),g.firstChild&&(g!==n||"TABLE"===o.nodeName&&h&&g===l.startContainer&&g===l.endContainer)?""===g.textContent.trim()&&g!==n?(mm.AppendBefore(o,g,!1),Oe(g)):mm.AppendBefore(o,g.firstChild,!1):g.appendChild(o)}"IMG"===o.nodeName?this.imageFocus(o,s,e):3!==o.nodeType?s.setSelectionText(e,o,o,0,o.childNodes.length):s.setSelectionText(e,o,o,0,o.textContent.length)}else{if(l.deleteContents(),h&&""===l.startContainer.textContent&&"BR"!==l.startContainer.nodeName&&(l.startContainer.innerHTML=""),Ce.isIE){var C=e.createDocumentFragment();C.appendChild(o),l.insertNode(C)}else if(1===l.startContainer.nodeType&&"hr"===l.startContainer.nodeName.toLowerCase()&&"hr"===l.endContainer.nodeName.toLowerCase()){var w=l.startContainer.nextElementSibling;w&&(w.querySelector("br")&&Oe(w.querySelector("br")),w.appendChild(o))}else"BR"===l.startContainer.nodeName?l.startContainer.parentElement.insertBefore(o,l.startContainer):l.insertNode(o);3!==o.nodeType&&o.childNodes.length>0?s.setSelectionText(e,o,o,1,1):"IMG"===o.nodeName?this.imageFocus(o,s,e):3!==o.nodeType?s.setSelectionContents(e,o):s.setSelectionText(e,o,o,o.textContent.length,o.textContent.length)}},e.pasteInsertHTML=function(e,t,n,i,o,r,s,a,l){var c,h,d,p,u=n.startOffset===n.endOffset&&n.startContainer===n.endContainer;if(u&&n.startContainer===l&&""===l.textContent){var m=this.getImmediateBlockNode(e[e.length-1],l);i.setSelectionText(r,m,m,0,0),n=i.getRange(r)}l!==n.startContainer&&(!s&&(a.nodeType!==Node.ELEMENT_NODE||-1===Ju.indexOf(a.tagName.toLocaleLowerCase()))||"table"===t.nodeName.toLowerCase()&&a&&-1===Ju.indexOf(a.tagName.toLocaleLowerCase()))&&(h=E((p=o.GetSpliceNode(n,a)).previousSibling)?p.parentNode.previousSibling:p.previousSibling,1===e.length?(i.setSelectionContents(r,p),n=i.getRange(r),d=!0):(c=E(c=o.GetSpliceNode(n,e[e.length-1].parentElement))?p:c,i.setSelectionText(r,p,c,0,3===c.nodeType?c.textContent.length:c.childNodes.length),n=i.getRange(r),d=!1));var f=!1;this.removingComments(t);for(var g,v=t.childNodes,y=0;y<v.length;y++)if($u.indexOf(v[y].nodeName.toLocaleLowerCase())>=0){f=!0;break}var b=document.createDocumentFragment();if(f){this.insertTempNode(n,t,e,o,l);var C=!0,w=void 0,S=void 0,k=void 0;for(n.deleteContents();t.firstChild;)if("#text"!==t.firstChild.nodeName||""!==t.firstChild.textContent.trim())if("#text"===t.firstChild.nodeName&&C||this.inlineNode.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0&&C){if(g=t.firstChild,E(t.previousElementSibling)){var T=Se("p");t.parentElement.insertBefore(T,t)}t.previousElementSibling.appendChild(t.firstChild)}else g=t.firstChild,"#text"===t.firstChild.nodeName||this.inlineNode.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0?(w?(k.appendChild(t.firstChild),b.appendChild(k)):((S=Se("p")).appendChild(t.firstChild),b.appendChild(S)),k=S,w=!0):(b.appendChild(t.firstChild),w=!1),C=!1;else Oe(t.firstChild);t.parentNode.replaceChild(b,t)}else if(u){var x=Se("span",{className:"tempSpan"}),N=Ie(n.startContainer.parentElement,"a");if(3===n.startContainer.nodeType&&N&&Ie(N,"span")){var L=this.getImmediateBlockNode(n.startContainer,l);L.querySelectorAll("br").length>0&&Oe(L.querySelector("br")),Ie(N,"span").appendChild(x)}else n.insertNode(x);for(;t.firstChild;)g=t.firstChild,b.appendChild(t.firstChild);x.parentNode.replaceChild(b,x)}else{for(;t.firstChild;)g=t.firstChild,b.appendChild(t.firstChild);d?p.parentNode.replaceChild(b,p):(n.deleteContents(),Oe(c),E(h)?l.appendChild(b):h.parentNode.appendChild(b))}"#text"===g.nodeName?this.placeCursorEnd(g,t,i,r,l):this.cursorPos(g,t,i,r,l)},e.placeCursorEnd=function(e,t,n,i,o){for(e="BR"===e.nodeName?E(e.previousSibling)?e.parentNode:e.previousSibling:e;!E(e)&&"#text"!==e.nodeName&&"IMG"!==e.nodeName&&"BR"!==e.nodeName&&"HR"!==e.nodeName;)e=e.lastChild;"IMG"===(e=E(e)?t:e).nodeName?this.imageFocus(e,n,i):n.setSelectionText(i,e,e,e.textContent.length,e.textContent.length),this.removeEmptyElements(o)},e.getNodeCollection=function(e,t,n){var i=[];return e.startOffset===e.endOffset&&e.startContainer===e.endContainer&&"BR"!=e.startContainer.nodeName&&("TD"===e.startContainer.nodeName||3!==e.startContainer.nodeType&&n.classList&&n.classList.contains("pasteContent"))?i.push(e.startContainer.childNodes[e.endOffset]):i=t.getInsertNodeCollection(e),i},e.insertTempNode=function(e,t,n,i,o){if(e.startContainer!==o||E(e.startContainer.childNodes[e.endOffset-1])||"TABLE"!==e.startContainer.childNodes[e.endOffset-1].nodeName)if(e.startContainer!==o||E(e.startContainer.childNodes[e.endOffset])||"TABLE"!==e.startContainer.childNodes[e.endOffset].nodeName)if(e.startContainer===e.endContainer&&3!==e.startContainer.nodeType&&"HR"===t.firstChild.nodeName)e.startContainer.classList.contains("e-content")||"BODY"===e.startContainer.nodeName?e.startContainer.appendChild(t):e.startContainer.parentNode.insertBefore(t,e.startContainer);else{var r=this.getImmediateBlockNode(n[n.length-1],o);if((E(r)||E(r.parentElement))&&3!==e.endContainer.nodeType&&(r=e.endContainer,e.setEnd(r,e.endContainer.textContent.length)),"BODY"===r.nodeName&&e.startContainer===e.endContainer&&1===e.startContainer.nodeType&&(r=e.startContainer),r.closest("LI")&&t&&t.firstElementChild&&("OL"===t.firstElementChild.tagName||"UL"===t.firstElementChild.tagName))for(var s=void 0;t.firstElementChild.lastElementChild&&"LI"===t.firstElementChild.lastElementChild.tagName;)(s=t.firstElementChild.lastElementChild).style.removeProperty("margin-left"),s.style.removeProperty("margin-top"),s.style.removeProperty("margin-bottom"),t.firstElementChild.insertAdjacentElement("afterend",s);if("TD"===r.nodeName||"TH"===r.nodeName){var a=Se("span",{className:"tempSpan"});e.insertNode(a),a.parentNode.replaceChild(t,a)}else{var l=new om,c=this.getNodeCollection(e,l,t)[this.getNodeCollection(e,l,t).length-1],h=void 0;(h="BR"!==c.nodeName&&"HR"!==c.nodeName||E(c.parentElement)||0!==c.parentElement.textContent.trim().length?i.GetSpliceNode(e,r):c).parentNode.replaceChild(t,h)}}else e.startContainer.insertBefore(t,e.startContainer.childNodes[e.endOffset]);else E(e.startContainer.childNodes[e.endOffset-1].nextSibling)?e.startContainer.appendChild(t):e.startContainer.insertBefore(t,e.startContainer.childNodes[e.endOffset-1].nextSibling)},e.cursorPos=function(e,t,n,i,o){e.classList.add("lastNode"),o.innerHTML=function(e){var t=document.createElement("div");t.innerHTML=e,t.setAttribute("class","tempDiv");var n=document.createElement("div");if(t.childNodes.length>0){for(var i=void 0,o=void 0,r=void 0;t.firstChild;)"#text"===t.firstChild.nodeName&&(t.firstChild.textContent.indexOf("\n")<0||""!==t.firstChild.textContent.trim())||am.indexOf(t.firstChild.nodeName.toLocaleLowerCase())>=0?(i?o.appendChild(t.firstChild):(r=Se("p"),n.appendChild(r),r.appendChild(t.firstChild)),o=r,i=!0):"#text"===t.firstChild.nodeName&&("\n"===t.firstChild.textContent||t.firstChild.textContent.indexOf("\n")>=0&&""===t.firstChild.textContent.trim())?Oe(t.firstChild):(n.appendChild(t.firstChild),i=!1);for(var s=n.querySelectorAll("table"),a=0;a<s.length;a++){"0"===s[a].getAttribute("border")&&s[a].removeAttribute("border");for(var l=s[a].querySelectorAll("td"),c=0;c<l.length;c++)"none"===l[c].style.borderLeft&&l[c].style.removeProperty("border-left"),"none"===l[c].style.borderRight&&l[c].style.removeProperty("border-right"),"none"===l[c].style.borderBottom&&l[c].style.removeProperty("border-bottom"),"none"===l[c].style.borderTop&&l[c].style.removeProperty("border-top"),"none"===l[c].style.border&&l[c].style.removeProperty("border");s[a].classList.contains(fr)||s[a].classList.add(fr)}var h=n.querySelectorAll("img");for(a=0;a<h.length;a++)h[a].classList.contains(mr)||h[a].classList.add(mr),h[a].classList.contains(Qo)||h[a].classList.contains($o)||h[a].classList.add(Qo)}return n.innerHTML}(o.innerHTML),E(e=o.querySelector(".lastNode"))||(this.placeCursorEnd(e,t,n,i,o),e.classList.remove("lastNode"),0===e.classList.length&&e.removeAttribute("class"))},e.imageFocus=function(e,t,n){var i=document.createTextNode(" ");e.parentNode.insertBefore(i,e.nextSibling),t.setSelectionText(n,e.nextSibling,e.nextSibling,0,0)},e.getImmediateBlockNode=function(e,t){do{e=e.parentNode}while(e&&$u.indexOf(e.nodeName.toLocaleLowerCase())<0);return e},e.removingComments=function(e){var t=e.innerHTML;t=t.replace(/<!--[\s\S]*?-->/g,""),e.innerHTML=t},e.findDetachEmptyElem=function(e){return E(e.parentElement)?null:""===e.parentElement.textContent.trim()&&"true"!==e.parentElement.contentEditable?this.findDetachEmptyElem(e.parentElement):e},e.removeEmptyElements=function(e){for(var t=e.querySelectorAll(":empty"),n=0;n<t.length;n++)if(im.indexOf(t[n].tagName.toLowerCase())<0){var i=this.findDetachEmptyElem(t[n]);E(i)||Oe(i)}},e.closestEle=function(e,t){for(var n=e;n&&1===n.nodeType;){if(n.parentNode===t||!E(n.parentNode.tagName)&&-1!==Qu.indexOf(n.parentNode.tagName.toLocaleLowerCase()))return n;n=n.parentNode}return null},e.inlineNode=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"],e}(),ym=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Bu,this.linkCommand,this)},e.prototype.linkCommand=function(e){switch(e.value.toString().toLocaleLowerCase()){case"createlink":case"editlink":this.createLink(e);break;case"openlink":this.openLink(e);break;case"removelink":this.removeLink(e)}},e.prototype.createLink=function(e){var t=!E(e.item.selectParent)&&e.item.selectParent.length>0&&Ie(e.item.selectParent[0],"a");if(t=E(t)?!E(e.item.selectParent)&&e.item.selectParent.length>0?e.item.selectParent[0]:null:t,E(t)||"A"!==t.tagName){var n=new om,i=n.getRange(this.parent.currentDocument);"#text"===i.endContainer.nodeName&&i.startContainer.textContent.length===i.endOffset+1&&" "===i.endContainer.textContent.charAt(i.endOffset)&&"A"===i.endContainer.nextSibling.nodeName&&(n.setSelectionText(this.parent.currentDocument,i.startContainer,i.endContainer,i.startOffset,i.endOffset+1),i=n.getRange(this.parent.currentDocument));var o=!!E(e.item.text)||e.item.text.replace(/ /g,"").localeCompare(i.toString().replace(/\n/g," ").replace(/ /g,""))<0;if(e.event&&"keydown"===e.event.type&&(32===e.event.keyCode||13===e.event.keyCode)||"Paste"===e.item.action||i.collapsed||o){var r=this.createAchorNode(e);if(r.innerText=""===e.item.text?e.item.url:e.item.text,e.item.selection.restore(),vm.Insert(this.parent.currentDocument,r,this.parent.editableElement),!e.event||"keydown"!==e.event.type||32!==e.event.keyCode&&13!==e.event.keyCode){c="Paste"===e.item.action?r.childNodes[0].textContent.length:0;e.item.selection.setSelectionText(this.parent.currentDocument,r.childNodes[0],r.childNodes[0],c,r.childNodes[0].textContent.length)}else{var s=e.item.selection.range.startContainer;s.textContent=this.removeText(s.textContent,e.item.text)}}else this.createLinkNode(e)}else{var a=t,l="";if(E(e.item.url)||a.setAttribute("href",e.item.url),E(e.item.title)||a.setAttribute("title",e.item.title),E(e.item.text)||""===e.item.text||(l=a.innerText,a.innerText=e.item.text),E(e.item.target)?a.removeAttribute("target"):a.setAttribute("target",e.item.target),l===e.item.text)e.item.selection.setSelectionText(this.parent.currentDocument,a,a,1,1),e.item.selection.restore();else{var c="Paste"===e.item.action?a.childNodes[0].textContent.length:0;e.item.selection.setSelectionText(this.parent.currentDocument,a.childNodes[0],a.childNodes[0],c,a.childNodes[0].textContent.length)}}e.callBack&&e.callBack({requestType:"Links",editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e.prototype.createLinkNode=function(e){for(var t,n,i=new om,o=new fm,r=i.getRange(this.parent.currentDocument),s=this.getSelectionNodes(i.getNodeCollection(r)),a=i.save(r,this.parent.currentDocument),l=[],c=[],h=[],d=[],p=[],u=0;u<s.length;u++)s[u]=o.GetSpliceNode(r,s[u]),l[u]=s[u];for(var m=0;m<l.length;m++){var f=!0;for(t=l[m];!0===f;){if("A"===t.parentNode.nodeName){var g=t.parentNode;t.parentNode.parentNode.insertBefore(g.firstChild,g),t.parentNode.removeChild(g)}this.isBlockNode(t.parentNode)||0===l.length||0===m||m===l.length-1||3===r.startContainer.nodeType?(c[m]=t,f=!1):t=t.parentNode}}m=0;for(var v=0;m<c.length;m++)if(0===m&&(p[v]=c[m]),c.length>1&&m<c.length-1){if(c[m].parentElement===c[m+1].parentElement&&c[m]===c[m+1])continue;p[v+1]=c[m+1],v++}var y=0;d[y]=this.createAchorNode(e);for(m=0;m<p.length;m++)if(0===m&&(n=p[m].cloneNode(!0),d[m].appendChild(n)),m<p.length-1)if(p[m].parentNode===p[m+1].parentNode){var b=p[m+1].cloneNode(!0);d[y].appendChild(b)}else d[y+=1]=this.createAchorNode(e),n=p[m+1].cloneNode(!0),d[y].appendChild(n);this.parent.nodeSelection.setRange(document,a.range);m=0;for(var C=0,w=0;m<=p.length;m++)0===m&&(p[m].parentNode.insertBefore(d[C],p[m].nextSibling),1===this.parent.domNode.blockNodes().length&&this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument,d[C]),h[w]=p[m],w++),m<p.length-1&&(p[m].parentNode===p[m+1].parentNode?(h[w]=p[m+1],w++):(C+=1,p[m+1].parentNode.insertBefore(d[C],p[m+1]),h[w]=p[m+1],w++));for(m=0;m<h.length;m++)h[m].parentNode&&h[m].parentNode.removeChild(h[m])},e.prototype.createAchorNode=function(e){var t=Se("a",{className:"e-rte-anchor",attrs:{href:e.item.url,title:E(e.item.title)||""===e.item.title?e.item.url:e.item.title}});return E(e.item.target)||t.setAttribute("target",e.item.target),t},e.prototype.getSelectionNodes=function(e){e=e.reverse();for(var t=0;t<e.length;t++)3===e[t].nodeType&&""!==e[t].textContent.trim()||"IMG"!==e[t].nodeName&&(e.splice(t,1),t--);return e.reverse()},e.prototype.isBlockNode=function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE&&$u.indexOf(e.tagName.toLowerCase())>=0},e.prototype.removeText=function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]===t&&(n.splice(i,1),i--);return n.join(" ")+" "},e.prototype.openLink=function(e){document.defaultView.open(e.item.url,e.item.target),this.callBack(e)},e.prototype.removeLink=function(e){var t=this.parent.domNode.blockNodes();if(t.length<2){this.parent.domNode.setMarker(e.item.selection);for(var n=Ie(e.item.selectParent[0],"a"),i=n||e.item.selectParent[0],o=i.parentNode,r=[];i.firstChild;null)r.push(o.insertBefore(i.firstChild,i));o.removeChild(i),r&&1===r.length&&(e.item.selection.startContainer=e.item.selection.getNodeArray(r[r.length-1],!0),e.item.selection.endContainer=e.item.selection.startContainer),e.item.selection=this.parent.domNode.saveMarker(e.item.selection)}else for(var s=0;s<t.length;s++)for(var a=t[s].querySelectorAll("a"),l=0;l<a.length;l++)document.getSelection().containsNode(a[l],!0)&&(a[l].outerHTML=a[l].innerHTML);e.item.selection.restore(),this.callBack(e)},e.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e}(),bm=function(){function e(e){this.alignments={JustifyLeft:"left",JustifyCenter:"center",JustifyRight:"right",JustifyFull:"justify"},this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Yu,this.applyAlignment,this),this.parent.observer.on(kr,this.onKeyDown,this)},e.prototype.onKeyDown=function(e){switch(e.event.action){case"justify-center":this.applyAlignment({subCommand:"JustifyCenter",callBack:e.callBack}),e.event.preventDefault();break;case"justify-full":this.applyAlignment({subCommand:"JustifyFull",callBack:e.callBack}),e.event.preventDefault();break;case"justify-left":this.applyAlignment({subCommand:"JustifyLeft",callBack:e.callBack}),e.event.preventDefault();break;case"justify-right":this.applyAlignment({subCommand:"JustifyRight",callBack:e.callBack}),e.event.preventDefault()}},e.prototype.getTableNode=function(e){return[Ie(e.startContainer.nodeType===Node.ELEMENT_NODE?e.startContainer:e.startContainer.parentNode,"td,th")]},e.prototype.applyAlignment=function(e){var t="Table"===e.value,n=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.nodeSelection.save(n,this.parent.currentDocument);if(t)Fe(this.getTableNode(n)[0],{"text-align":this.alignments[e.subCommand]});else{this.parent.domNode.setMarker(i);for(var o=this.parent.domNode.blockNodes(),r=0;r<o.length;r++){Fe(o[r],{"text-align":this.alignments[e.subCommand]})}var s=this.parent.domNode.getImageTagInSelection();for(r=0;r<s.length;r++){var a=[];a.push(s[r]),this.parent.imgObj.imageCommand({item:{selectNode:a},subCommand:e.subCommand,value:e.subCommand,callBack:e.callBack,selector:e.selector})}this.parent.editableElement.focus(),i=this.parent.domNode.saveMarker(i),lm()&&cm(this.parent.editableElement,e.selector),i.restore()}e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:t?this.getTableNode(n):this.parent.domNode.blockNodes()})},e}(),Cm=function(){function e(e){this.indentValue=20,this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Ku,this.applyIndents,this),this.parent.observer.on(kr,this.onKeyDown,this)},e.prototype.onKeyDown=function(e){switch(e.event.action){case"indents":this.applyIndents({subCommand:"Indent",callBack:e.callBack}),e.event.preventDefault();break;case"outdents":this.applyIndents({subCommand:"Outdent",callBack:e.callBack}),e.event.preventDefault()}},e.prototype.applyIndents=function(e){var t=this.parent.editableElement,n=t.classList.contains("e-rtl"),i=this.parent.nodeSelection.getRange(this.parent.currentDocument),o=this.parent.nodeSelection.save(i,this.parent.currentDocument);this.parent.domNode.setMarker(o);for(var r=this.parent.domNode.blockNodes(),s=r.slice(),a=[],l=0;l<s.length;l++)"LI"!==s[l].tagName&&"LI"===s[l].parentNode.tagName?(r.splice(r.indexOf(s[l]),1),a.push(s[l].parentNode)):"LI"===s[l].tagName&&(r.splice(r.indexOf(s[l]),1),a.push(s[l]));a.length>0&&this.parent.observer.notify(kr,{event:{preventDefault:function(){},stopPropagation:function(){},shiftKey:"Indent"!==e.subCommand,which:9,action:"indent"},ignoreDefault:!0});for(l=0;l<r.length;l++){var c=r[l],h=n?c.style.marginRight:c.style.marginLeft,d=void 0;"Indent"===e.subCommand?(d=""===h?this.indentValue+"px":parseInt(h,null)+this.indentValue+"px",n?c.style.marginRight=d:c.style.marginLeft=d):(d=""===h||"0px"===h?"":parseInt(h,null)-this.indentValue+"px",n?c.style.marginRight=d:c.style.marginLeft=d)}t.focus(),lm()&&cm(t,e.selector),(o=this.parent.domNode.saveMarker(o)).restore(),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},e}(),wm="e-imgright",Em="e-imgleft",Sm="e-imgcenter",km="e-imgbreak",Tm="e-caption-inline",xm=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Au,this.imageCommand,this)},e.prototype.imageCommand=function(e){switch(e.value.toString().toLowerCase()){case"image":case"replace":this.createImage(e);break;case"insertlink":this.insertImageLink(e);break;case"openimagelink":this.openImageLink(e);break;case"editimagelink":this.editImageLink(e);break;case"removeimagelink":this.removeImageLink(e);break;case"remove":this.removeImage(e);break;case"alttext":this.insertAltTextImage(e);break;case"dimension":this.imageDimension(e);break;case"caption":this.imageCaption(e);break;case"justifyleft":this.imageJustifyLeft(e);break;case"justifycenter":this.imageJustifyCenter(e);break;case"justifyright":this.imageJustifyRight(e);break;case"inline":this.imageInline(e);break;case"break":this.imageBreak(e)}},e.prototype.createImage=function(e){var t=this,n=!1;if(e.item.url=E(e.item.url)||"undefined"===e.item.url?e.item.src:e.item.url,E(e.item.selectParent)||"IMG"!==e.item.selectParent[0].tagName){var i=Se("img");this.setStyle(i,e),E(e.item.selection)||e.item.selection.restore(),E(e.selector)||"pasteCleanupModule"!==e.selector?vm.Insert(this.parent.currentDocument,i,this.parent.editableElement):e.callBack({requestType:"Images",editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:[i]})}else{var o=e.item.selectParent[0];this.setStyle(o,e),n=!0}if(e.callBack&&(E(e.selector)||!E(e.selector)&&"pasteCleanupModule"!==e.selector)){var r=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],s="Replace"===e.value||n?e.item.selectParent[0]:Ce.isIE?r.previousSibling:r.previousElementSibling;s.addEventListener("load",(function(){"Replace"===e.value&&n||e.callBack({requestType:"Images",editorMode:"HTML",event:e.event,range:t.parent.nodeSelection.getRange(t.parent.currentDocument),elements:[s]})}))}},e.prototype.setStyle=function(e,t){E(t.item.url)||e.setAttribute("src",t.item.url),e.setAttribute("class","e-rte-image"+(E(t.item.cssClass)?"":" "+t.item.cssClass)),E(t.item.altText)||e.setAttribute("alt",t.item.altText),E(t.item.width)||E(t.item.width.width)||e.setAttribute("width",this.calculateStyleValue(t.item.width.width)),E(t.item.height)||E(t.item.height.height)||e.setAttribute("height",this.calculateStyleValue(t.item.height.height)),E(t.item.width)||E(t.item.width.minWidth)||(e.style.minWidth=this.calculateStyleValue(t.item.width.minWidth)),E(t.item.width)||E(t.item.width.maxWidth)||(e.style.maxWidth=this.calculateStyleValue(t.item.width.maxWidth)),E(t.item.height)||E(t.item.height.minHeight)||(e.style.minHeight=this.calculateStyleValue(t.item.height.minHeight)),E(t.item.height)||E(t.item.height.maxHeight)||(e.style.maxHeight=this.calculateStyleValue(t.item.height.maxHeight))},e.prototype.calculateStyleValue=function(e){return"string"===typeof e&&(e.indexOf("px")||e.indexOf("%")||e.indexOf("auto"))?e:e+"px"},e.prototype.insertImageLink=function(e){var t=Se("a",{attrs:{href:e.item.url}});e.item.selectNode[0].parentElement.classList.contains("e-img-wrap")&&(e.item.selection.restore(),t.setAttribute("contenteditable","true")),t.appendChild(e.item.selectNode[0]),E(e.item.target)||t.setAttribute("target",e.item.target),vm.Insert(this.parent.currentDocument,t,this.parent.editableElement),this.callBack(e)},e.prototype.openImageLink=function(e){document.defaultView.open(e.item.url,e.item.target),this.callBack(e)},e.prototype.removeImageLink=function(e){var t=e.item.selectParent[0];if(t.classList.contains("e-img-caption")){var n=Ae(".e-img-wrap",t),i=Ae(".e-img-inner",t),o=i.cloneNode(!0);Oe(Ae("a",t)),Oe(i),n.appendChild(e.item.insertElement),n.appendChild(o)}else Oe(t),Ce.isIE&&e.item.selection.restore(),vm.Insert(this.parent.currentDocument,e.item.insertElement,this.parent.editableElement);this.callBack(e)},e.prototype.editImageLink=function(e){e.item.selectNode[0].parentElement.href=e.item.url,E(e.item.target)?e.item.selectNode[0].parentElement.removeAttribute("target"):e.item.selectNode[0].parentElement.target=e.item.target,this.callBack(e)},e.prototype.removeImage=function(e){Ie(e.item.selectNode[0],"a")&&("A"!==e.item.selectNode[0].parentElement.nodeName||E(e.item.selectNode[0].parentElement.innerText))?Oe(Ie(e.item.selectNode[0],"a")):E(Ie(e.item.selectNode[0],".e-img-caption"))?Oe(e.item.selectNode[0]):Oe(Ie(e.item.selectNode[0],".e-img-caption")),this.callBack(e)},e.prototype.insertAltTextImage=function(e){e.item.selectNode[0].setAttribute("alt",e.item.altText),this.callBack(e)},e.prototype.imageDimension=function(e){var t=e.item.selectNode[0];t.style.height="",t.style.width="","auto"!==e.item.width?t.style.width=L(e.item.width):t.removeAttribute("width"),"auto"!==e.item.height?t.style.height=L(e.item.height):t.removeAttribute("height"),this.callBack(e)},e.prototype.imageCaption=function(e){vm.Insert(this.parent.currentDocument,e.item.insertElement,this.parent.editableElement),this.callBack(e)},e.prototype.imageJustifyLeft=function(e){var t=e.item.selectNode[0];E(t)||(t.removeAttribute("class"),ke([t],"e-rte-image"),E(Ie(t,".e-img-caption"))||(Te([Ie(t,".e-img-caption")],wm),ke([Ie(t,".e-img-caption")],Em)),"A"===t.parentElement.nodeName?(Te([t.parentElement],wm),ke([t.parentElement],Em),ke([t],Em)):ke([t],Em),this.callBack(e))},e.prototype.imageJustifyCenter=function(e){var t=e.item.selectNode[0];E(t)||(t.removeAttribute("class"),ke([t],"e-rte-image"),E(Ie(t,".e-img-caption"))||(Te([Ie(t,".e-img-caption")],Em),Te([Ie(t,".e-img-caption")],wm),ke([Ie(t,".e-img-caption")],Sm)),"A"===t.parentElement.nodeName?(Te([t.parentElement],Em),Te([t.parentElement],wm),ke([t.parentElement],Sm),ke([t],Sm)):ke([t],Sm),this.callBack(e))},e.prototype.imageJustifyRight=function(e){var t=e.item.selectNode[0];E(t)||(t.removeAttribute("class"),ke([t],"e-rte-image"),E(Ie(t,".e-img-caption"))||(Te([Ie(t,".e-img-caption")],Em),ke([Ie(t,".e-img-caption")],wm)),"A"===t.parentElement.nodeName?(Te([t.parentElement],Em),ke([t.parentElement],wm),ke([t],wm)):ke([t],wm),this.callBack(e))},e.prototype.imageInline=function(e){var t=e.item.selectNode[0];t.removeAttribute("class"),ke([t],"e-rte-image"),ke([t],"e-imginline"),E(Ie(t,".e-img-caption"))||(Te([Ie(t,".e-img-caption")],km),Te([Ie(t,".e-img-caption")],Sm),Te([Ie(t,".e-img-caption")],Em),Te([Ie(t,".e-img-caption")],wm),ke([Ie(t,".e-img-caption")],Tm)),this.callBack(e)},e.prototype.imageBreak=function(e){var t=e.item.selectNode[0];t.removeAttribute("class"),ke([t],km),ke([t],"e-rte-image"),E(Ie(t,".e-img-caption"))||(Te([Ie(t,".e-img-caption")],Tm),Te([Ie(t,".e-img-caption")],Sm),Te([Ie(t,".e-img-caption")],Em),Te([Ie(t,".e-img-caption")],wm),ke([Ie(t,".e-img-caption")],km)),this.callBack(e)},e.prototype.callBack=function(e){e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e}(),Nm=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Hu,this.createTable,this),this.parent.observer.on(Iu,this.insertRow,this),this.parent.observer.on(Fu,this.insertColumn,this),this.parent.observer.on(ju,this.deleteRow,this),this.parent.observer.on(zu,this.deleteColumn,this),this.parent.observer.on(_u,this.removeTable,this),this.parent.observer.on(Vu,this.tableHeader,this),this.parent.observer.on(qu,this.tableVerticalAlign,this),this.parent.observer.on(Uu,this.cellMerge,this),this.parent.observer.on(Xu,this.HorizontalSplit,this),this.parent.observer.on(Wu,this.VerticalSplit,this),this.parent.observer.on("TABLE_MOVE",this.tableMove,this)},e.prototype.createTable=function(e){var t=Se("table",{className:"e-rte-table"}),n=Se("tbody");E(e.item.width.width)||(t.style.width=this.calculateStyleValue(e.item.width.width)),E(e.item.width.minWidth)||(t.style.minWidth=this.calculateStyleValue(e.item.width.minWidth)),E(e.item.width.maxWidth)||(t.style.maxWidth=this.calculateStyleValue(e.item.width.maxWidth));for(var i=parseInt(e.item.width.width,10)>100?100/e.item.columns:parseInt(e.item.width.width,10)/e.item.columns,o=0;o<e.item.rows;o++){for(var r=Se("tr"),s=0;s<e.item.columns;s++){var a=Se("td");a.appendChild(Se("br")),a.style.width=i+"%",r.appendChild(a)}n.appendChild(r)}if(t.appendChild(n),e.item.selection.restore(),vm.Insert(this.parent.currentDocument,t,this.parent.editableElement),this.removeEmptyNode(),e.item.selection.setSelectionText(this.parent.currentDocument,t.querySelector("td"),t.querySelector("td"),0,0),null===t.nextElementSibling){var l=void 0;"DIV"===e.enterAction?(l=Se("div")).appendChild(Se("br")):"BR"===e.enterAction?l=Se("br"):(l=Se("p")).appendChild(Se("br")),this.insertAfter(l,t)}return t.querySelector("td").classList.add("e-cell-select"),e.callBack&&e.callBack({requestType:"Table",editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:[t]}),t},e.prototype.calculateStyleValue=function(e){return"string"===typeof e&&(e.indexOf("px")||e.indexOf("%")||e.indexOf("auto"))?e:e+"px"},e.prototype.removeEmptyNode=function(){for(var e=this.parent.editableElement.querySelectorAll("ul:empty, ol:empty"),t=0;t<e.length;t++)Oe(e[t]);var n=this.parent.editableElement.querySelectorAll("li *:empty:not(img)");for(t=0;t<n.length;t++)Oe(n[t]),n.length===t+1&&(n=this.parent.editableElement.querySelectorAll("li *:empty:not(img)"),t=-1);var i=this.parent.editableElement.querySelectorAll("li:empty");for(t=0;t<i.length;t++)Oe(i[t])},e.prototype.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},e.prototype.getSelectedCellMinMaxIndex=function(e){for(var t=this.curTable.querySelectorAll(".e-cell-select"),n=0,i=e.length,o=0,r=e[0].length,s=0;n<t.length;n++){var a=this.getCorrespondingIndex(t[n],e),l=this.FindIndex(a[0],a[1],e);i=Math.min(a[0],i),o=Math.max(l[0],o),r=Math.min(a[1],r),s=Math.max(l[1],s)}return{startRow:i,endRow:o,startColumn:r,endColumn:s}},e.prototype.insertRow=function(e){var t="InsertRowBefore"!==e.item.subCommand,n=e.item.selection.range.startContainer;if("TH"!==n.nodeName&&"TD"!==n.nodeName&&(n=Ie(n.parentElement,"td,th")),"th"!==n.nodeName.toLowerCase()||"InsertRowBefore"!==e.item.subCommand){if(this.curTable=Ie(this.parent.nodeSelection.range.startContainer.parentElement,"table"),0===this.curTable.querySelectorAll(".e-cell-select").length){var i=this.curTable.rows[this.curTable.rows.length-1],o=i.cloneNode(!0);o.removeAttribute("rowspan"),this.insertAfter(o,i)}else{for(var r=this.getCorrespondingColumns(),s=this.getSelectedCellMinMaxIndex(r),a=t?s.endRow:s.startRow,l=Se("tr"),c=this.curTable.querySelectorAll("th.e-cell-select").length>0,h=0;h<r[a].length;h++)if(t&&a<r.length-1&&r[a][h]===r[a+1][h]||!t&&0<a&&r[a][h]===r[a-1][h])(0===h||0<h&&r[a][h]!==r[a][h-1])&&r[a][h].setAttribute("rowspan",(parseInt(r[a][h].getAttribute("rowspan"),10)+1).toString());else{var d=Se("td");d.appendChild(Se("br")),l.appendChild(d),d.setAttribute("style",r[c&&t&&r[a+1]?a+1:a][h].getAttribute("style"))}var p=void 0;p=c&&t?this.curTable.querySelector("tbody").childNodes[0]:this.curTable.rows[a],"InsertRowBefore"===e.item.subCommand||c?p.parentElement.insertBefore(l,p):this.insertAfter(l,p)}e.item.selection.setSelectionText(this.parent.currentDocument,e.item.selection.range.startContainer,e.item.selection.range.startContainer,0,0),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},e.prototype.insertColumn=function(e){var t=e.item.selection.range.startContainer;"TH"!==t.nodeName&&"TD"!==t.nodeName&&(t=Ie(t.parentElement,"td,th"));for(var n,i=Ie(t,"tr"),o=Ie(i,"table").rows,r=Array.prototype.slice.call(i.querySelectorAll(":scope > td, :scope > th")).indexOf(t),s=parseInt(e.item.width,10)/i.querySelectorAll(":scope > td, :scope > th").length,a=parseInt(e.item.width,10)/(i.querySelectorAll(":scope > td, :scope > th").length+1),l=Ie(i,"table"),c=Ie(i,"table").querySelectorAll("th,td"),h=0;h<c.length;h++)c[h].dataset.oldWidth=c[h].offsetWidth/l.offsetWidth*100+"%";for(h=0;h<o.length;h++){var d=(n=o[h].querySelectorAll(":scope > td, :scope > th")[r]).cloneNode(!0);d.innerHTML="",d.appendChild(Se("br")),d.removeAttribute("class"),d.removeAttribute("colspan"),d.removeAttribute("rowspan"),"InsertColumnLeft"===e.item.subCommand?n.parentElement.insertBefore(d,n):this.insertAfter(d,n),d.style.width=a.toFixed(4)+"%",delete d.dataset.oldWidth}for(h=0;h<c.length;h++)c[h].style.width=(Number(c[h].dataset.oldWidth.split("%")[0])*a/s).toFixed(4)+"%",delete c[h].dataset.oldWidth;e.item.selection.setSelectionText(this.parent.currentDocument,t,t,0,0),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e.prototype.deleteColumn=function(e){var t=e.item.selection.range.startContainer;3===t.nodeType&&(t=Ie(t.parentElement,"td,th"));var n=Ie(t,"TH"===t.tagName?"thead":"tbody"),i=n&&Array.prototype.indexOf.call(n.childNodes,t.parentNode);if(this.curTable=Ie(t,"table"),1===Ie(t,"tr").querySelectorAll("th,td").length)e.item.selection.restore(),Oe(Ie(t.parentElement,"table"));else{for(var o=void 0,r=this.getCorrespondingColumns(),s=this.getSelectedCellMinMaxIndex(r),a=s.startColumn,l=s.endColumn,c=0;c<r.length;c++)for(var h=r[c],d=0;d<h.length;d++){var p=h[d],u=this.getCorrespondingIndex(p,r),m=parseInt(p.getAttribute("colspan"),10)||1;u[1]+(m-1)>=a&&u[1]<=l&&(m>1?p.setAttribute("colspan",(m-1).toString()):(Oe(p),o=d,Ce.isIE&&(e.item.selection.setSelectionText(this.parent.currentDocument,this.curTable.querySelector("td"),this.curTable.querySelector("td"),0,0),this.curTable.querySelector("td, th").classList.add("e-cell-select"))))}if(o>-1){var f=n.children[i],g=f&&f.children[o<=f.children.length-1?o:o-1];g&&(e.item.selection.setSelectionText(this.parent.currentDocument,g,g,0,0),g.classList.add("e-cell-select"))}}if(e.callBack){var v=this.parent.nodeSelection.getRange(this.parent.currentDocument).startContainer;if("TD"!==v.nodeName){var y=this.parent.nodeSelection.getRange(this.parent.currentDocument).startOffset,b=v.children[y];b&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,b,0)}e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},e.prototype.deleteRow=function(e){var t=e.item.selection.range.startContainer;3===t.nodeType&&(t=Ie(t.parentElement,"td,th"));var n,i=Array.prototype.indexOf.call(t.parentNode.childNodes,t);this.curTable=Ie(t,"table");var o,r,s=this.getCorrespondingColumns(),a=this.getSelectedCellMinMaxIndex(s);if(1===this.curTable.rows.length)e.item.selection.restore(),Oe(Ie(t.parentElement,"table"));else for(o=a.endRow;o>=a.startRow;o--){for(n=this.curTable.rows[o],r=0;r<s[o].length;r++){if((0===r||s[o][r]!==s[o][r-1])&&1<parseInt(s[o][r].getAttribute("rowspan"),10)){var l=parseInt(s[o][r].getAttribute("rowspan"),10)-1;1===l?s[o][r].removeAttribute("rowspan"):s[o][r].setAttribute("rowspan",l.toString())}if(o<s.length-1&&s[o][r]===s[o+1][r]&&(0===o||s[o][r]!==s[o-1][r])){var c=s[o][r],h=void 0;for(h=r;0<h&&s[o][h]===s[o][h-1];h--)0===h?this.curTable.rows[o+1].prepend(c):s[o+1][h-1].insertAdjacentElement("afterend",c)}}var d=n.rowIndex;this.curTable.deleteRow(d);var p=E(this.curTable.rows[d])?this.curTable.querySelectorAll("tbody tr")[d-1]:this.curTable.querySelectorAll("tbody tr")[d],u=p&&p.querySelectorAll("td")[i];u?(e.item.selection.setSelectionText(this.parent.currentDocument,u,u,0,0),u.classList.add("e-cell-select")):(e.item.selection.setSelectionText(this.parent.currentDocument,this.curTable.querySelector("td"),this.curTable.querySelector("td"),0,0),this.curTable.querySelector("td, th").classList.add("e-cell-select"))}e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e.prototype.removeTable=function(e){var t=e.item.selection.range.startContainer,n=Ie((t=3===t.nodeType?t.parentNode:t).parentElement,"table");n&&(e.item.selection.restore(),Oe(n)),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e.prototype.tableHeader=function(e){var t=!1,n=e.item.selection.range.startContainer,i=Ie((n=3===n.nodeType?n.parentNode:n).parentElement,"table");if([].slice.call(i.childNodes).forEach((function(e){"THEAD"===e.nodeName&&(t=!0)})),i&&!t){for(var o=i.querySelector("tr").childElementCount,r=0,s=0;s<o;s++)r+=parseInt(i.querySelector("tr").children[s].getAttribute("colspan"),10)||1;for(var a=i.createTHead().insertRow(0),l=0;l<r;l++){var c=Se("th");c.appendChild(Se("br")),a.appendChild(c)}}else i.deleteTHead();e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e.prototype.tableVerticalAlign=function(e){"AlignTop"===e.item.subCommand?e.item.tableCell.style.verticalAlign="top":"AlignMiddle"===e.item.subCommand?e.item.tableCell.style.verticalAlign="middle":e.item.tableCell.style.verticalAlign="bottom",e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e.prototype.cellMerge=function(e){E(this.curTable)&&(this.curTable=Ie(this.parent.nodeSelection.range.startContainer.parentElement,"table"));var t=this.curTable.querySelectorAll(".e-cell-select");if(!(t.length<2)){this.mergeCellContent();var n=this.getSelectedMinMaxIndexes(this.getCorrespondingColumns()),i=t[0],o=i.parentElement.querySelectorAll(".e-cell-select");n.startColumn<n.endColumn&&i.setAttribute("colspan",(n.endColumn-n.startColumn+1).toString()),n.startRow<n.endRow&&i.setAttribute("rowspan",(n.endRow-n.startRow+1).toString());for(var r=0,s=o.length-1;s>=0;s--)r+=parseFloat(o[s].style.width);i.style.width=r+"%";for(var a=1;a<=t.length-1;a++)Oe(t[a]);for(a=0;a<this.curTable.rows.length;a++)""===this.curTable.rows[a].innerHTML&&Oe(this.curTable.rows[a]);this.updateRowSpanStyle(n.startRow,n.endRow,this.getCorrespondingColumns()),this.updateColSpanStyle(n.startColumn,n.endColumn,this.getCorrespondingColumns()),e.item.selection.setSelectionText(this.parent.currentDocument,e.item.selection.range.startContainer,e.item.selection.range.startContainer,0,0),this.parent.nodeSelection.range&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,this.parent.nodeSelection.range.endContainer,0),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},e.prototype.updateColSpanStyle=function(e,t,n){var i,o,r,s,a=0,l=0,c=n;if(e<(t=Math.min(t,c[0].length-1))){for(;o<=t;o++)if(!(e<o&&c[0][o]===c[0][o-1])&&1<(a=Math.min(parseInt(c[0][o].getAttribute("colspan"),10)||1,t-e+1))&&c[0][o]===c[0][o+1])for(l=a-1,i=1;i<c.length;i++){if(c[i][o]!==c[i-1][o])for(r=o;r<o+a;r++)if(1<(s=parseInt(c[i][r].getAttribute("colspan"),10)||1)&&c[i][r]===c[i][r+1])r+=l=Math.min(l,s-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}l&&this.updateCellAttribute(c,l,"colspan",0,c.length-1,e,t)}},e.prototype.updateRowSpanStyle=function(e,t,n){var i,o,r,s,a=0,l=0,c=n;if(e<(t=Math.min(t,c.length-1))){for(i=e;i<=t;i++)if(!(e<i&&c[i][0]===c[i-1][0])&&c[i][0]&&1<(a=Math.min(parseInt(c[i][0].getAttribute("rowspan"),10)||1,t-e+1))&&c[i][0]===c[i+1][0])for(l=a-1,o=1;o<c[0].length;o++)if(c[i][o]!==c[i][o-1]){for(r=i;r<i+a;r++)if(1<(s=parseInt(c[r][o].getAttribute("rowspan"),10)||1)&&c[r][o]===c[r+1][o])r+=l=Math.min(l,s-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}l&&this.updateCellAttribute(c,l,"rowspan",e,t,0,c[0].length-1)}},e.prototype.updateCellAttribute=function(e,t,n,i,o,r,s){var a,l,c;for(a=i;a<=o;a++)for(l=r;l<=s;l++)i<a&&e[a][l]===e[a-1][l]||r<l&&e[a][l]===e[a][l-1]||1<(c=parseInt(e[a][l].getAttribute(n),10)||1)&&(1<c-t?e[a][l].setAttribute(n,(c-t).toString()):e[a][l].removeAttribute(n))},e.prototype.mergeCellContent=function(){for(var e=this.curTable.querySelectorAll(".e-cell-select"),t="<br>"===e[0].innerHTML?"":e[0].innerHTML,n=1;n<e.length;n++)"<br>"!==e[n].innerHTML&&(t=t?t+"<br>"+e[n].innerHTML:t+e[n].innerHTML);e[0].innerHTML=t},e.prototype.getSelectedMinMaxIndexes=function(e){var t=this.curTable.querySelectorAll(".e-cell-select");if(0<t.length){for(var n=e.length,i=0,o=e[0].length,r=0,s=0;s<t.length;s++){var a=this.getCorrespondingIndex(t[s],e),l=this.FindIndex(a[0],a[1],e);n=Math.min(a[0],n),i=Math.max(l[0],i),o=Math.min(a[1],o),r=Math.max(l[1],r)}return{startRow:n,endRow:i,startColumn:o,endColumn:r}}return null},e.prototype.HorizontalSplit=function(e){var t=e.item.selection.range.startContainer;if(this.curTable=Ie(t.parentElement,"table"),!(this.curTable.querySelectorAll(".e-cell-select").length>1)){this.activeCell=this.curTable.querySelector(".e-cell-select");var n=this.activeCell.cloneNode(!0);n.removeAttribute("class"),n.innerHTML="</br>";var i=this.getCorrespondingIndex(this.activeCell,this.getCorrespondingColumns()),o=this.getCorrespondingColumns(),r=this.activeCell.getAttribute("rowspan")?parseInt(this.activeCell.getAttribute("rowspan"),10):1;if(r>1){var s=Math.ceil(r/2);1<s?this.activeCell.setAttribute("rowspan",s.toString()):this.activeCell.removeAttribute("rowspan"),1<r-s?n.setAttribute("rowspan",(r-s).toString()):n.removeAttribute("rowspan");var a,l=void 0;for(a=i[0]+Math.ceil(r/2),l=0===i[1]?i[1]:i[1]-1;0<=l&&(o[a][l]===o[a][l-1]||0<a&&o[a][l]===o[a-1][l]);)l--;-1===l?this.curTable.rows[a].firstChild?this.curTable.rows[a].prepend(n):this.curTable.appendChild(n):o[a][l].insertAdjacentElement("afterend",n)}else{var c=Se("tr");c.appendChild(n);for(var h=o[i[0]],d=0;d<=h.length-1;d++)h[d]!==h[d-1]&&h[d]!==this.activeCell&&h[d].setAttribute("rowspan",((parseInt(h[d].getAttribute("rowspan"),10)?parseInt(h[d].getAttribute("rowspan"),10):1)+1).toString());this.activeCell.parentNode.insertAdjacentElement("afterend",c)}e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},e.prototype.VerticalSplit=function(e){var t=e.item.selection.range.startContainer;if(this.curTable=Ie(t.parentElement,"table"),!(this.curTable.querySelectorAll(".e-cell-select").length>1)){this.activeCell=this.curTable.querySelector(".e-cell-select");var n=this.curTable.rows,i=this.activeCell.cloneNode(!0);i.removeAttribute("class"),i.innerHTML="</br>";var o=parseFloat(this.activeCell.style.width)/2;if("TH"===this.activeCell.tagName&&isNaN(o)){for(var r=this.curTable.querySelector("tr").childElementCount,s=0;s<r;s++)parseInt(this.curTable.querySelector("tr").children[s].getAttribute("colspan"),10)||1;o=parseFloat((this.activeCell.offsetWidth/2/this.curTable.offsetWidth*100).toFixed(1))}var a=this.getCorrespondingIndex(this.activeCell,this.getCorrespondingColumns()),l=this.getCorrespondingColumns(),c=parseInt(this.activeCell.getAttribute("colspan"),10);if(c>1)1<Math.ceil(c/2)?this.activeCell.setAttribute("colspan",(c/2).toString()):this.activeCell.removeAttribute("colspan"),1<c-c/2?i.setAttribute("colspan",(c-c/2).toString()):i.removeAttribute("colspan");else for(s=0;s<=n.length-1;s++)if(0===s||l[s][a[1]]!==l[s-1][a[1]]){var h=l[s][a[1]];h!==this.activeCell&&h.setAttribute("colspan",((parseInt(h.getAttribute("colspan"),10)?parseInt(h.getAttribute("colspan"),10):1)+1).toString())}this.activeCell.style.width=o+"%",i.style.width=o+"%",this.activeCell.parentNode.insertBefore(i,this.activeCell.nextSibling),e.callBack&&e.callBack({requestType:e.item.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},e.prototype.getCorrespondingColumns=function(){for(var e=[],t=this.curTable.rows,n=0;n<=t.length-1;n++)for(var i=t[n],o=0,r=0;r<=i.children.length-1;r++){for(var s=i.children[r],a=s,l=parseInt(a.getAttribute("colspan"),10)||1,c=parseInt(a.getAttribute("rowspan"),10)||1,h=n;h<n+c;h++)for(var d=o;d<o+l;d++)e[h]||(e[h]=[]),e[h][d]?o++:e[h][d]=s;o+=0}return e},e.prototype.FindIndex=function(e,t,n){var i,o;for(i=e+1,o=t+1;i<n.length;){if(n[i][t]!==n[e][t]){i--;break}i++}for(i===n.length&&i--;o<n[e].length;){if(n[e][o]!==n[e][t]){o--;break}o++}return o===n[e].length&&o--,[i,o]},e.prototype.getCorrespondingIndex=function(e,t){for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)if(t[n][i]===e)return[n,i];return[]},e.prototype.highlightCells=function(e,t,n,i,o){var r,s,a,l,c=e,h=t,d=n,p=i,u=new Lm;for(r=c;r<=h;r++){for(((1<(parseInt(o[r][d].getAttribute("rowspan"),10)||1)||1<(parseInt(o[r][d].getAttribute("colspan"),10)||1))&&(l=this.FindIndex((a=this.getCorrespondingIndex(o[r][d],o))[0],a[1],o))||(1<(parseInt(o[r][p].getAttribute("rowspan"),10)||1)||1<(parseInt(o[r][p].getAttribute("colspan"),10)||1))&&(l=this.FindIndex((a=this.getCorrespondingIndex(o[r][p],o))[0],a[1],o)))&&(c=Math.min(a[0],c),h=Math.max(l[0],h),d=Math.min(a[1],d),p=Math.max(l[1],p)),s=d;s<=p;s++)((1<(parseInt(o[c][s].getAttribute("rowspan"),10)||1)||1<(parseInt(o[c][s].getAttribute("colspan"),10)||1))&&(l=this.FindIndex((a=this.getCorrespondingIndex(o[c][s],o))[0],a[1],o))||(1<(parseInt(o[h][s].getAttribute("rowspan"),10)||1)||1<(parseInt(o[h][s].getAttribute("colspan"),10)||1))&&(l=this.FindIndex((a=this.getCorrespondingIndex(o[h][s],o))[0],a[1],o)))&&(c=Math.min(a[0],c),h=Math.max(l[0],h),d=Math.min(a[1],d),p=Math.max(l[1],p));u=c===e&&h===t&&d===n&&p===i?{startRow:e,endRow:t,startColumn:n,endColumn:i}:this.highlightCells(c,h,d,p,o)}return u},e.prototype.tableMove=function(e){this.activeCell=e.selectNode[0];var t=e.event.target,n=this.activeCell.tagName,i=t.tagName;if(this.curTable=Ie(t,"table"),this.curTable.querySelectorAll(".e-cell-select").length>1&&this.parent.nodeSelection.Clear(this.parent.currentDocument),"TD"===t.tagName||"TH"===t.tagName||n===i){for(var o=Array.prototype.slice.call(this.activeCell.parentElement.parentElement.children).indexOf(this.activeCell.parentElement),r=Array.prototype.slice.call(this.activeCell.parentElement.children).indexOf(this.activeCell),s=Array.prototype.slice.call(t.parentElement.parentElement.children).indexOf(t.parentElement),a=Array.prototype.slice.call(t.parentElement.children).indexOf(t),l=this.curTable.querySelectorAll(".e-cell-select"),c=l.length-1;c>=0;c--)this.activeCell!==l[c]&&l[c].classList.remove("e-cell-select");if(o!==s||r!==a){for(var h=this.getCorrespondingColumns(),d=this.getCorrespondingIndex(this.activeCell,h),p=this.getCorrespondingIndex(t,h),u=this.highlightCells(Math.min(d[0],p[0]),Math.max(d[0],p[0]),Math.min(d[1],p[1]),Math.max(d[1],p[1]),h),m=u.startRow;m<=u.endRow;m++)for(var f=u.startColumn;f<=u.endColumn;f++)h[m][f].classList.add("e-cell-select");this.parent.nodeSelection.range&&(this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,this.parent.nodeSelection.range.endContainer,this.parent.nodeSelection.range.endContainer,0,0),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,this.parent.nodeSelection.range.endContainer,0))}}},e}(),Lm=function(){},Pm=function(){function e(){}return e.prototype.getFormattedNode=function(e,t,n){var i=this.getFormatParent(e,t,n);return null!==i&&i!==n?i:null},e.prototype.getFormatParent=function(e,t,n){do{e=e.parentNode}while(e&&e!==n&&!this.isFormattedNode(e,t));return e},e.prototype.isFormattedNode=function(t,n){switch(n){case"bold":return e.isBold(t);case"italic":return e.isItalic(t);case"underline":return e.isUnderline(t);case"strikethrough":return e.isStrikethrough(t);case"superscript":return e.isSuperscript(t);case"subscript":return e.isSubscript(t);case"fontcolor":return this.isFontColor(t);case"fontname":return this.isFontName(t);case"fontsize":return this.isFontSize(t);case"backgroundcolor":return this.isBackgroundColor(t);default:return!1}},e.isBold=function(e){return-1!==["strong","b"].indexOf(e.nodeName.toLowerCase())||!(-1===this.inlineTags.indexOf(e.nodeName.toLowerCase())||!e.style||"bold"!==e.style.fontWeight)},e.isItalic=function(e){return-1!==["em","i"].indexOf(e.nodeName.toLowerCase())||!(-1===this.inlineTags.indexOf(e.nodeName.toLowerCase())||!e.style||"italic"!==e.style.fontStyle)},e.isUnderline=function(e){return-1!==["u"].indexOf(e.nodeName.toLowerCase())||!(-1===this.inlineTags.indexOf(e.nodeName.toLowerCase())||!e.style||"underline"!==e.style.textDecoration)},e.isStrikethrough=function(e){return-1!==["del","strike"].indexOf(e.nodeName.toLowerCase())||!(-1===this.inlineTags.indexOf(e.nodeName.toLowerCase())||!e.style||"line-through"!==e.style.textDecoration)},e.isSuperscript=function(e){return-1!==["sup"].indexOf(e.nodeName.toLowerCase())},e.isSubscript=function(e){return-1!==["sub"].indexOf(e.nodeName.toLowerCase())},e.prototype.isFontColor=function(t){var n=t.style&&t.style.color;return-1!==e.inlineTags.indexOf(t.nodeName.toLowerCase())&&null!==n&&""!==n&&void 0!==n},e.prototype.isBackgroundColor=function(t){var n=t.style&&t.style.backgroundColor;return-1!==e.inlineTags.indexOf(t.nodeName.toLowerCase())&&null!==n&&""!==n&&void 0!==n},e.prototype.isFontSize=function(t){var n=t.style&&t.style.fontSize;return-1!==e.inlineTags.indexOf(t.nodeName.toLowerCase())&&null!==n&&""!==n&&void 0!==n},e.prototype.isFontName=function(t){var n=t.style&&t.style.fontFamily;return-1!==e.inlineTags.indexOf(t.nodeName.toLowerCase())&&null!==n&&""!==n&&void 0!==n},e.inlineTags=["a","abbr","acronym","b","bdo","big","cite","code","dfn","em","i","kbd","label","q","samp","small","span","strong","sub","sup","tt","u","var","del"],e}(),Dm=function(){function e(){}return e.applyFormat=function(e,t,n,i,o,r){this.enterAction=i;if(["bold","italic","underline","strikethrough","superscript","subscript","uppercase","lowercase","fontcolor","fontname","fontsize","backgroundcolor"].indexOf(t)>-1){"backgroundcolor"===t&&""===o&&(o="transparent");var s,a=new om,l=new pm(n,e),c=new fm,h=new Pm,d=a.getRange(e),p=a.save(d,e),u=d.collapsed?a.getSelectionNodeCollection(d):a.getSelectionNodeCollectionBr(d),m=!1,f=!1,g=!1,v=["fontcolor","fontname","fontsize","backgroundcolor"].indexOf(t)>-1;if(d.collapsed){var y=h.getFormattedNode(d.startContainer,t,n),b=E(y)?null:null===y.getAttribute("style")?y.nodeName:y.nodeName+"[style='"+y.getAttribute("style")+"']";if(u.length>0)m=!0,d=c.GetCursorRange(e,d,u[0]);else if(3===d.startContainer.nodeType&&(d.startContainer.parentElement.childElementCount>0&&d.startOffset>0&&"br"!==d.startContainer.parentElement.firstElementChild.tagName.toLowerCase()||!E(y)&&y===d.startContainer.parentElement.closest(b)&&0!=d.startContainer.parentElement.closest(b).textContent.replace(new RegExp(String.fromCharCode(8203),"g"),"").trim().length))m=!0,d=c.GetCursorRange(e,d,d.startContainer),u.push(d.startContainer);else{var C=this.insertCursorNode(e,a,d,h,c,t,o,n);a.endContainer=a.startContainer=a.getNodeArray(C,!0);var w="BR"===C.nodeName&&C.parentNode.childNodes;E(w)||1!==w.length||"BR"!==w[0].nodeName||0!==u.length?a.endOffset=a.startOffset=1:(a.setSelectionText(e,d.startContainer,d.endContainer,0,0),g=!0),"BR"===C.nodeName&&0===C.parentNode.textContent.length&&(g=!0)}}s=d.collapsed;for(var S=!1,k=0;k<u.length;k++){var T=h.getFormattedNode(u[k],t,n);null===T&&("subscript"===t?S=null!==(T=h.getFormattedNode(u[k],"superscript",n)):"superscript"===t&&(S=null!==(T=h.getFormattedNode(u[k],"subscript",n)))),0===k&&null===T&&(f=!0),u[k]=null===T||f&&!v?this.insertFormat(e,u,k,T,s,f,v,d,c,t,o):this.removeFormat(u,k,T,s,f,v,d,c,t,o,a,n,l),a=this.applySelection(u,a,c,k,m)}lm()&&cm(n,r),g||p.restore(),S&&this.applyFormat(e,t,n,i)}},e.insertCursorNode=function(e,t,n,i,o,r,s,a){var l=t.getNodeCollection(n),c=new pm(a,e),h=l.length>0?l.length>1&&n.startContainer===n.endContainer?this.getCursorFormat(i,l,r,a):i.getFormattedNode(l[0],r,a):null,d=null;if(h){if(d=l[0],8203===h.firstChild.textContent.charCodeAt(0)&&3===h.firstChild.nodeType){var p=new RegExp(String.fromCharCode(8203),"g"),u=void 0;h.firstChild===d?(d.textContent=h.parentElement&&(c.isBlockNode(h.parentElement)&&h.parentElement.textContent.length<=1?h.parentElement.childElementCount>1:0===h.childElementCount)&&(h.parentElement.textContent.length>1||h.parentElement.firstChild&&1===h.parentElement.firstChild.nodeType)?d.textContent:d.textContent.replace(p,""),u=d,!0):(h.firstChild.textContent=h.firstChild.textContent.replace(p,""),u=h.firstChild);var m=void 0;if(0===u.textContent.length)if(E(u.previousSibling)){if(!E(u.parentElement)&&0===u.parentElement.textContent.length){var f=document.createElement("BR");u.parentElement.appendChild(f),Oe(u),d=f,t.setCursorPoint(e,d.parentElement,0)}}else d=u.previousSibling,m=u.textContent.length-1,t.setCursorPoint(e,u,m)}["fontcolor","fontname","fontsize","backgroundcolor"].indexOf(r)>-1?("fontcolor"===r?h.style.color=s:"fontname"===r?h.style.fontFamily=s:"fontsize"===r?h.style.fontSize=s:h.style.backgroundColor=s,d=h):mm.unwrap(h)}else l.length>1&&n.startOffset>0&&l[0].firstElementChild&&"br"===l[0].firstElementChild.tagName.toLowerCase()&&(l[0].innerHTML=""),1!==l.length||0!==n.startOffset||"BR"!==l[0].nodeName&&"BR"!==l[0].nextSibling.nodeName||Oe("#text"===l[0].nodeName?l[0].nextSibling:l[0]),d=this.getInsertNode(e,n,r,s).firstChild;return d},e.getCursorFormat=function(e,t,n,i){for(var o,r=0;r<t.length;r++)o=t[r].lastElementChild?t[r].lastElementChild:t[r];return e.getFormattedNode(o,n,i)},e.removeFormat=function(e,t,n,i,o,r,s,a,l,c,h,d,p){var u,m,f=null,g="#text"===s.startContainer.nodeName?s.startContainer.textContent.substring(s.startOffset,s.startContainer.textContent.length):s.startContainer.textContent;if(s.startContainer!==s.endContainer||0!==s.startOffset||s.endOffset!==s.startContainer.length){var v=[],y=e[t];do{v.push(h.getIndex(y)),y=y.parentNode}while(y&&y!==n);if("BR"!==e[t].nodeName&&(y=f=i&&n.textContent.length-1===s.startOffset?a.SplitNode(s,n,!0):a.GetSpliceNode(s,n)),i){for(var b=f;null!==b.firstChild&&3!==b.firstChild.nodeType;null)b=b.firstChild;b.innerHTML="&#8203;",e[t]=b.firstChild}else{for(;y&&y.childNodes.length>0&&v.length-1>=0&&y.childNodes.length>v[v.length-1];)y=y.childNodes[v[v.length-1]],v.pop();if("BR"!==e[t].nodeName)if(3!==y.nodeType||i&&""===y.nodeValue){var C=document.createElement("div");C.innerHTML="&#8203;",3!==y.nodeType?(y.insertBefore(C.firstChild,y.firstChild),e[t]=y.firstChild):(y.parentNode.insertBefore(C.firstChild,y),e[t]=y.previousSibling,y.parentNode.removeChild(y))}else e[t]=y}}if("backgroundcolor"===l&&(u=n.style.fontSize),"fontsize"===l){var w=Ie(e[t].parentElement,"span[style*=background-color]");E(w)||(m=w.style.backgroundColor)}var S=n.getAttribute("style"),k=n.tagName,T=mm.unwrap(n);if(T[0]&&!r)for(var x=T[t]?T[t]:T[0],N=x;x&&x.parentElement&&x.parentElement!==d;x)if(x.parentElement&&x.parentElement.tagName.toLocaleLowerCase()===n.tagName.toLocaleLowerCase()&&(x.parentElement.childElementCount>1||s.startOffset>1)){if(N.parentElement&&N.parentElement.tagName.toLocaleLowerCase()===n.tagName.toLocaleLowerCase()&&s.startOffset===s.endOffset&&1!==N.nodeType&&!E(N.textContent)&&N.parentElement.childElementCount>1&&(s.setStart(N,0),s.setEnd(N,N.textContent.length),a.SplitNode(s,N.parentElement,!1)),"span"===x.parentElement.tagName.toLocaleLowerCase()&&"underline"===n.style.textDecoration&&"underline"!==x.parentElement.style.textDecoration){x=x.parentElement;continue}mm.unwrap(x.parentElement),x=E(x.parentElement)||p.isBlockNode(x.parentElement)?x.parentElement:N}else x=x.parentElement;if(T.length>0&&r){for(var L=0;L<T.length;L++)(3!==T[L].nodeType||T[L].textContent&&T[L].textContent.trim().length>0)&&(T[L]=mm.Wrap(T[L],this.GetFormatNode(l,c,k,S)),T[L].textContent===g&&(0===L?s.setStartBefore(T[L]):L===T.length-1&&s.setEndAfter(T[L])));var P=e[t].parentElement;if(E(u)||""===u||(P.style.fontSize=u),E(m)||""===m||(P.style.backgroundColor=m),"backgroundcolor"===l&&!E(u)&&""!==u&&P.parentElement.innerHTML===P.outerHTML){var D=P.parentElement;D.parentElement.insertBefore(P,D),Oe(D)}if("fontsize"===l||"fontcolor"===l){for(var O=e[t].parentElement,M=e[t].parentElement;!E(M)&&"li"!==M.tagName.toLowerCase();)O=M=M.parentElement;E(O)||"li"!==O.tagName.toLowerCase()||O.textContent.trim()!==e[t].textContent.trim()||("fontsize"===l?O.style.fontSize=c:(O.style.color=c,O.style.textDecoration="inherit"))}}return e[t]},e.insertFormat=function(e,t,n,i,o,r,s,a,l,c,h){if(o)if("uppercase"!==c&&"lowercase"!==c){d=this.getInsertNode(e,a,c,h);t[n]=d.firstChild,l.position=1}else l.position=a.startOffset;else if(null===i&&r||s){if("BR"!==t[n].nodeName&&(t[n]=l.GetSpliceNode(a,t[n]),t[n].textContent=l.TrimLineBreak(t[n].textContent)),"uppercase"===c||"lowercase"===c)t[n].textContent="uppercase"===c?t[n].textContent.toLocaleUpperCase():t[n].textContent.toLocaleLowerCase();else if(!0!==s||""!==h){var d=this.GetFormatNode(c,h);if("fontsize"===c||"fontcolor"===c){for(var p=t[n].parentElement,u=t[n].parentElement;!E(u)&&"li"!==u.tagName.toLowerCase();)p=u=u.parentElement;if(E(p)||"li"!==p.tagName.toLowerCase()||p.textContent.trim()!==t[n].textContent.trim()||("fontsize"===c?p.style.fontSize=h:(p.style.color=h,p.style.textDecoration="inherit")),t[n]=this.applyStyles(t,n,d),"fontsize"===c){var m=Ie(t[n].parentElement,"span[style*=background-color]");E(m)||(t[n].parentElement.style.backgroundColor=m.style.backgroundColor)}}else t[n]=this.applyStyles(t,n,d)}}else t[n]=l.GetSpliceNode(a,t[n]);return t[n]},e.applyStyles=function(e,t,n){return"BR"===e[t].nodeName&&"BR"===this.enterAction||(e[t]=t===e.length-1||"BR"===e[t].nodeName?mm.Wrap(e[t],n):mm.WrapBefore(e[t],n,!0),e[t]=this.getChildNode(e[t],n)),e[t]},e.getInsertNode=function(e,t,n,i){var o=this.GetFormatNode(n,i);if(o.innerHTML="&#8203;",Ce.isIE){var r=e.createDocumentFragment();r.appendChild(o),t.insertNode(r)}else t.insertNode(o);return o},e.getChildNode=function(e,t){return void 0!==e&&null!==e||(t.innerHTML="&#8203;",e=t.firstChild),e},e.applySelection=function(e,t,n,i,o){return 1!==e.length||o?1===e.length&&o?(t.startContainer=t.getNodeArray(e[i],!0),t.endContainer=t.startContainer,t.startOffset=n.position,t.endOffset=n.position):0===i?(t.startContainer=t.getNodeArray(e[i],!0),t.startOffset=0):i===e.length-1&&(t.endContainer=t.getNodeArray(e[i],!1),t.endOffset=e[i].textContent.length):(t.startContainer=t.getNodeArray(e[i],!0),t.endContainer=t.startContainer,t.startOffset=0,t.endOffset=e[i].textContent.length),t},e.GetFormatNode=function(e,t,n,i){var o;switch(e){case"bold":return document.createElement("strong");case"italic":return document.createElement("em");case"underline":return o=document.createElement("span"),this.updateStyles(o,n,i),o.style.textDecoration="underline",o;case"strikethrough":return o=document.createElement("span"),this.updateStyles(o,n,i),o.style.textDecoration="line-through",o;case"superscript":return document.createElement("sup");case"subscript":return document.createElement("sub");case"fontcolor":return o=document.createElement("span"),this.updateStyles(o,n,i),o.style.color=t,o.style.textDecoration="inherit",o;case"fontname":return o=document.createElement("span"),this.updateStyles(o,n,i),o.style.fontFamily=t,o;case"fontsize":return o=document.createElement("span"),this.updateStyles(o,n,i),o.style.fontSize=t,o;default:return o=document.createElement("span"),this.updateStyles(o,n,i),o.style.backgroundColor=t,o}},e.updateStyles=function(e,t,n){null!==n&&"SPAN"===t&&e.setAttribute("style",n)},e.enterAction="P",e}(),Om=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Zu,this.applySelection,this),this.parent.observer.on(kr,this.keyDownHandler,this)},e.prototype.keyDownHandler=function(e){e.event.ctrlKey&&["bold","italic","underline","strikethrough","superscript","subscript","uppercase","lowercase"].indexOf(e.event.action)>-1&&(e.event.preventDefault(),Dm.applyFormat(this.parent.currentDocument,e.event.action,this.parent.editableElement,e.enterAction),this.callBack(e,e.event.action))},e.prototype.applySelection=function(e){Dm.applyFormat(this.parent.currentDocument,e.subCommand.toLocaleLowerCase(),this.parent.editableElement,e.enterAction,e.value,e.selector),this.callBack(e,e.subCommand)},e.prototype.callBack=function(e,t){e.callBack&&e.callBack({requestType:t,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e}(),Mm=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(em,this.applyHtml,this)},e.prototype.applyHtml=function(e){if(vm.Insert(this.parent.currentDocument,e.value,this.parent.editableElement,!0),"pasteCleanup"===e.subCommand){var t=this.parent.editableElement.querySelectorAll(".pasteContent_RTE"),n=[].slice.call(t),i=this.parent.editableElement.querySelectorAll(".pasteContent_Img"),o=[].slice.call(i);e.callBack({requestType:e.subCommand,editorMode:"HTML",elements:n,imgElem:o})}else e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e}(),Rm=function(){function e(){}return e.clear=function(e,t,n,i){this.domNode=new pm(t,e),this.defaultTag="P"===n?this.defaultTag:"div";var o=new om,r=new fm,s=o.getRange(e),a=s.collapsed,l=o.getInsertNodeCollection(s),c=o.save(s,e);if(!a){var h=void 0;if(h="BR"===l[0].nodeName&&Ie(l[0],"table")?r.GetSpliceNode(s,Ie(l[0],"table")):r.GetSpliceNode(s,l[l.length>1&&"IMG"===l[0].nodeName?1:0]),1===l.length)o.setSelectionContents(e,h),s=o.getRange(e);else{for(var d=1,p=l[l.length-d];l.length<=d&&"BR"===l[l.length-d].nodeName;)d++,p=l[l.length-d];var u=r.GetSpliceNode(s,p);o.setSelectionText(e,h,u,0,3===u.nodeType?u.textContent.length:u.childNodes.length),s=o.getRange(e)}var m=o.getNodeCollection(s),f=m.slice();this.clearInlines(o.getSelectionNodes(f),f,o.getRange(e),r,t),this.reSelection(e,c,m),s=o.getRange(e);var g=(m=o.getNodeCollection(s)).slice();this.clearBlocks(e,g,t,r,o),lm()&&cm(t,i),this.reSelection(e,c,m)}},e.reSelection=function(e,t,n){var i=t.getInsertNodes(n);t.startContainer=t.getNodeArray(i[0],!0,e),t.startOffset=0,t.endContainer=t.getNodeArray(i[i.length-1],!1,e);var o=i[i.length-1];t.endOffset=3===o.nodeType?o.textContent.length:o.childNodes.length,t.restore()},e.clearBlocks=function(e,t,n,i,o){for(var r=[],s=0;s<t.length;s++)this.BLOCK_TAGS.indexOf(t[s].nodeName.toLocaleLowerCase())>-1&&-1===r.indexOf(t[s])?r.push(t[s]):this.BLOCK_TAGS.indexOf(t[s].parentNode.nodeName.toLocaleLowerCase())>-1&&-1===r.indexOf(t[s].parentNode)&&n!==t[s].parentNode&&r.push(t[s].parentNode);r=this.spliceParent(r,t)[0],r=this.removeParent(r),this.unWrap(e,r,i,o)},e.spliceParent=function(e,t){for(var n=0;n<e.length;n++)for(var i=e[n].childNodes.length,o=0;o<i;o++)if(t.indexOf(e[n].childNodes[o])>0&&e[n].childNodes[o].childNodes.length>0&&(t=this.spliceParent([e[n].childNodes[o]],t)[1]),t.indexOf(e[n].childNodes[o])<=-1&&""!==e[n].childNodes[o].textContent.trim()){for(var r=0;r<i;r++)t.indexOf(e[n].childNodes[r])>-1&&t.splice(t.indexOf(e[n].childNodes[r]),1);o=e[n].childNodes.length;var s=e.indexOf(e[n].parentNode),a=t.indexOf(e[n].parentNode);s>-1&&e.splice(s,1),a>-1&&t.splice(a,1);var l=t.indexOf(e[n]);l>-1&&t.splice(l,1),e.splice(n,1),n--}return[e,t]},e.removeChild=function(e,t){var n=t.childNodes.length;if(n>0)for(var i=0;i<n;i++)e.indexOf(t.childNodes[i])>-1&&(e=this.removeChild(e,t.childNodes[i])).splice(e.indexOf(t.childNodes[i]),1);return e},e.removeParent=function(e){for(var t=0;t<e.length;t++)e.indexOf(e[t].parentNode)>-1&&((e=this.removeChild(e,e[t])).splice(t,1),t--);return e},e.unWrap=function(e,t,n,i){for(var o=0;o<t.length;o++)if(this.NONVALID_TAGS.indexOf(t[o].nodeName.toLowerCase())>-1&&t[o].parentNode&&this.NONVALID_PARENT_TAGS.indexOf(t[o].parentNode.nodeName.toLowerCase())>-1&&(i.setSelectionText(e,t[o],t[o],0,t[o].childNodes.length),mm.unwrap(n.GetSpliceNode(i.getRange(e),t[o].parentNode))),"p"!==t[o].nodeName.toLocaleLowerCase()){!(this.NONVALID_PARENT_TAGS.indexOf(t[o].nodeName.toLowerCase())<0&&"p"!==t[o].parentNode.nodeName.toLocaleLowerCase())||("blockquote"===t[o].nodeName.toLocaleLowerCase()||"li"===t[o].nodeName.toLocaleLowerCase())&&this.IGNORE_PARENT_TAGS.indexOf(t[o].childNodes[0].nodeName.toLocaleLowerCase())>-1||1===t[o].childNodes.length&&"p"===t[o].childNodes[0].nodeName.toLocaleLowerCase()||mm.Wrap(t[o],e.createElement(this.defaultTag));var r=mm.unwrap(t[o]);1===r.length&&"p"===r[0].parentNode.nodeName.toLocaleLowerCase()&&(mm.Wrap(t[o],e.createElement(this.defaultTag)),mm.unwrap(t[o]));for(var s=0;s<r.length;s++)if(this.NONVALID_TAGS.indexOf(r[s].nodeName.toLowerCase())>-1)this.unWrap(e,[r[s]],n,i);else if(this.BLOCK_TAGS.indexOf(r[s].nodeName.toLocaleLowerCase())>-1&&"p"!==r[s].nodeName.toLocaleLowerCase()){var a=this.removeParent([r[s]]);this.unWrap(e,a,n,i)}else this.BLOCK_TAGS.indexOf(r[s].nodeName.toLocaleLowerCase())>-1&&r[s].parentNode.nodeName.toLocaleLowerCase()===r[s].nodeName.toLocaleLowerCase()?mm.unwrap(r[s]):this.BLOCK_TAGS.indexOf(r[s].nodeName.toLocaleLowerCase())>-1&&"p"===r[s].nodeName.toLocaleLowerCase()&&(mm.Wrap(r[s],e.createElement(this.defaultTag)),mm.unwrap(r[s]))}else mm.Wrap(t[o],e.createElement(this.defaultTag)),mm.unwrap(t[o])},e.clearInlines=function(e,t,n,i,o){for(var r=0;r<e.length;r++){for(var s=e[r],a=void 0;!this.domNode.isBlockNode(s)&&s.parentElement&&!s.parentElement.classList.contains("e-img-inner");)a=s,s=s.parentElement;a&&Pm.inlineTags.indexOf(a.nodeName.toLocaleLowerCase())>-1&&(i.GetSpliceNode(n,a),this.removeInlineParent(a))}},e.removeInlineParent=function(e){for(var t=mm.unwrap(e),n=0;n<t.length;n++)1===t[n].parentNode.childNodes.length&&!t[n].parentNode.classList.contains("e-img-inner")&&Pm.inlineTags.indexOf(t[n].parentNode.nodeName.toLocaleLowerCase())>-1?this.removeInlineParent(t[n].parentNode):Pm.inlineTags.indexOf(t[n].nodeName.toLocaleLowerCase())>-1&&this.removeInlineParent(t[n])},e.BLOCK_TAGS=["address","article","aside","blockquote","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","li","main","nav","noscript","ol","p","pre","section","ul"],e.NONVALID_PARENT_TAGS=["thead","tbody","ul","ol","table","tfoot","tr"],e.IGNORE_PARENT_TAGS=["ul","ol","table"],e.NONVALID_TAGS=["thead","tbody","figcaption","td","tr","th","tfoot","figcaption","li"],e.defaultTag="p",e}(),Am=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(nm,this.applyClear,this),this.parent.observer.on(kr,this.onKeyDown,this)},e.prototype.onKeyDown=function(e){if("clear-format"===e.event.action)this.applyClear({subCommand:"ClearFormat",callBack:e.callBack,enterAction:e.enterAction}),e.event.preventDefault()},e.prototype.applyClear=function(e){"ClearFormat"===e.subCommand&&(Rm.clear(this.parent.currentDocument,this.parent.editableElement,e.enterAction,e.selector),e.callBack&&e.callBack({requestType:e.subCommand,event:e.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)}))},e}(),Hm=function(){function e(e,t){this.undoRedoStack=[],this.parent=e,this.undoRedoSteps=E(t)?30:t.undoRedoSteps,this.undoRedoTimer=E(t)?300:t.undoRedoTimer,this.addEventListener()}return e.prototype.addEventListener=function(){var e=T(this.keyUp,this.undoRedoTimer);this.parent.observer.on(xr,e,this),this.parent.observer.on(kr,this.keyDown,this),this.parent.observer.on(Er,this.onAction,this),this.parent.observer.on(Lr,this.onPropertyChanged,this)},e.prototype.onPropertyChanged=function(e){for(var t=0,n=Object.keys(e.newProp);t<n.length;t++){switch(n[t]){case"undoRedoSteps":this.undoRedoSteps=e.newProp.undoRedoSteps;break;case"undoRedoTimer":this.undoRedoTimer=e.newProp.undoRedoTimer}}},e.prototype.removeEventListener=function(){this.parent.observer.off(xr,this.keyUp),this.parent.observer.off(kr,this.keyDown),this.parent.observer.off(Er,this.onAction)},e.prototype.onAction=function(e){"Undo"===e.subCommand?this.undo(e):this.redo(e)},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.keyDown=function(e){var t=e.event;switch(t.action){case"undo":t.preventDefault(),this.undo(e);break;case"redo":t.preventDefault(),this.redo(e)}},e.prototype.keyUp=function(e){17===e.event.keyCode||e.event.ctrlKey||this.saveData(e)},e.prototype.saveData=function(e){for(var t=(new om).getRange(this.parent.currentDocument),n=this.parent.editableElement===t.startContainer.parentElement?t.startContainer.parentElement:t.startContainer,i=n.childNodes.length-1;i>=0;i--)!E(n.childNodes[i])&&"#text"===n.childNodes[i].nodeName&&0===n.childNodes[i].textContent.length&&"IMG"!==n.childNodes[i].nodeName&&"BR"!==n.childNodes[i].nodeName&&n.childNodes[i].nodeName&&Oe(n.childNodes[i]);t=(new om).getRange(this.parent.currentDocument);var o=(new om).save(t,this.parent.currentDocument),r={text:this.parent.editableElement.innerHTML,range:o};this.undoRedoStack.length>=this.steps&&(this.undoRedoStack=this.undoRedoStack.slice(0,this.steps+1)),this.undoRedoStack.length>1&&this.undoRedoStack[this.undoRedoStack.length-1].range.range.collapsed===t.collapsed&&this.undoRedoStack[this.undoRedoStack.length-1].range.startOffset===o.range.startOffset&&this.undoRedoStack[this.undoRedoStack.length-1].range.endOffset===o.range.endOffset&&this.undoRedoStack[this.undoRedoStack.length-1].range.range.startContainer===o.range.startContainer&&this.undoRedoStack[this.undoRedoStack.length-1].text.trim()===r.text.trim()||(this.undoRedoStack.push(r),this.steps=this.undoRedoStack.length-1,this.steps>this.undoRedoSteps&&(this.undoRedoStack.shift(),this.steps--),e&&e.callBack&&e.callBack())},e.prototype.undo=function(e){if(this.steps>0){var t=this.undoRedoStack[this.steps-1].range,n=this.undoRedoStack[this.steps-1].text;this.parent.editableElement.innerHTML=n,this.parent.editableElement.focus(),lm()&&cm(this.parent.editableElement,e.selector),t.restore(),this.steps--,e.callBack&&e.callBack({requestType:"Undo",editorMode:"HTML",range:t,elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),event:e.event})}},e.prototype.redo=function(e){if(null!=this.undoRedoStack[this.steps+1]){var t=this.undoRedoStack[this.steps+1].range;this.parent.editableElement.innerHTML=this.undoRedoStack[this.steps+1].text,this.parent.editableElement.focus(),lm()&&cm(this.parent.editableElement,e.selector),t.restore(),this.steps++,e.callBack&&e.callBack({requestType:"Redo",editorMode:"HTML",range:t,elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),event:e.event})}},e.prototype.getUndoStatus=function(){var e={undo:!1,redo:!1};return this.steps>0&&(e.undo=!0),null!=this.undoRedoStack[this.steps+1]&&(e.redo=!0),e},e}(),Bm=function(){function e(e){this.olData=["decimal","lower-alpha","lower-roman","upper-alpha","upper-roman","lower-greek"],this.ulData=["disc","square","circle","disc","square","circle"],this.ignorableNodes=["A","APPLET","B","BLOCKQUOTE","BR","BUTTON","CENTER","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HR","I","IMG","IFRAME","INPUT","INS","LABEL","LI","OL","OPTION","P","PARAM","PRE","Q","S","SELECT","SPAN","STRIKE","STRONG","SUB","SUP","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL"],this.blockNode=["div","p","h1","h2","h3","h4","h5","h6","address","blockquote","button","center","dd","dir","dl","dt","fieldset","frameset","hr","iframe","isindex","li","map","menu","noframes","noscript","object","ol","pre","table","tbody","td","tfoot","th","thead","tr","ul","header","article","nav","footer","section","aside","main","figure","figcaption"],this.borderStyle=["border-top","border-right","border-bottom","border-left"],this.removableElements=["o:p","style"],this.listContents=[],this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(Dr,this.wordCleanup,this)},e.prototype.wordCleanup=function(e){var t=E(e.allowedStylePropertiesArray)?[]:e.allowedStylePropertiesArray,n=[],i=e.args.clipboardData.getData("text/HTML"),o=e.args.clipboardData.getData("text/rtf"),r=Se("p");r.setAttribute("id","MSWord-Content"),r.innerHTML=i;var s=/style='mso-width-source:/i;/class='?Mso|style='[^ ]*\bmso-/i.test(i)||/class="?Mso|style="[^ ]*\bmso-/i.test(i)||/(class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument)/gi.test(i)||s.test(i)?(this.imageConversion(r,o),i=i.replace(/<img[^>]+>/i,""),this.addListClass(r),E((n=this.cleanUp(r,n))[0])||"UL"===n[0].parentElement.tagName||"OL"===n[0].parentElement.tagName||this.listConverter(n),this.styleCorrection(r,t),this.removingComments(r),this.removeUnwantedElements(r),this.removeEmptyElements(r),this.breakLineAddition(r),this.removeClassName(r),s.test(i)&&this.addTableBorderClass(r),e.callBack(r.innerHTML)):e.callBack(r.innerHTML)},e.prototype.addListClass=function(e){for(var t=e.querySelectorAll("*"),n=0;n<t.length;n++)!E(t[n].getAttribute("style"))&&t[n].getAttribute("style").replace(/ /g,"").replace("\n","").indexOf("mso-list:l")>=0&&-1===t[n].className.toLowerCase().indexOf("msolistparagraph")&&"H"!==t[n].tagName.charAt(0)&&t[n].classList.add("msolistparagraph")},e.prototype.addTableBorderClass=function(e){for(var t=e.querySelectorAll("table"),n=!1,i=0;i<t.length;i++){for(var o=0;o<this.borderStyle.length;o++)if(t[i].innerHTML.indexOf(this.borderStyle[o])>=0){n=!0;break}n&&(t[i].classList.add("e-rte-table-border"),n=!1)}},e.prototype.imageConversion=function(e,t){this.checkVShape(e);for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++)!E(n[i].getAttribute("v:shapes"))&&n[i].getAttribute("v:shapes").indexOf("Picture")<0&&Oe(n[i]);n=e.querySelectorAll("img");var o=[],r=[],s=[],a=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(n.length>0){for(i=0;i<n.length;i++)o.push(n[i].getAttribute("src")),s.push(n[i].getAttribute("src").split("/")[n[i].getAttribute("src").split("/").length-1].split(".")[0]);var l=this.hexConversion(t);for(i=0;i<l.length;i++)r.push(this.convertToBase64(l[i]));for(i=0;i<n.length;i++)o[i].match(a)?n[i].setAttribute("src",o[i]):n[i].setAttribute("src",r[i]),n[i].setAttribute("id","msWordImg-"+s[i])}},e.prototype.checkVShape=function(e){for(var t=e.querySelectorAll("*"),n=0;n<t.length;n++)switch(t[n].nodeName){case"V:SHAPETYPE":Oe(t[n]);break;case"V:SHAPE":if("V:IMAGEDATA"===t[n].firstElementChild.nodeName){var i=t[n].firstElementChild.getAttribute("src"),o=Se("img");o.setAttribute("src",i),t[n].parentElement.insertBefore(o,t[n]),Oe(t[n])}}},e.prototype.convertToBase64=function(e){var t=this.conHexStringToBytes(e.hex),n=this.conBytesToBase64(t);return e.type?"data:"+e.type+";base64,"+n:null},e.prototype.conBytesToBase64=function(e){for(var t="",n=e.length,i=0;i<n;i+=3){var o=e.slice(i,i+3),r=o.length,s=[];if(r<3)for(var a=r;a<3;a++)o[a]=0;s[0]=(252&o[0])>>2,s[1]=(3&o[0])<<4|o[1]>>4,s[2]=(15&o[1])<<2|(192&o[2])>>6,s[3]=63&o[2];for(a=0;a<4;a++)t+=a<=r?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[a]):"="}return t},e.prototype.conHexStringToBytes=function(e){for(var t=[],n=e.length/2,i=0;i<n;i++)t.push(parseInt(e.substr(2*i,2),16));return t},e.prototype.hexConversion=function(e){var t,n=/\{\\pict[\s\S]+?\\bliptag\-?\d+(\\blipupi\-?\d+)?(\{\\\*\\blipuid\s?[\da-fA-F]+)?[\s\}]*?/,i=new RegExp("(?:("+n.source+"))([\\da-fA-F\\s]+)\\}","g"),o=e.match(i),r=[];if(!E(o))for(var s=0;s<o.length;s++)if(n.test(o[s])){if(-1!==o[s].indexOf("\\pngblip"))t="image/png";else{if(-1===o[s].indexOf("\\jpegblip"))continue;t="image/jpeg"}r.push({hex:t?o[s].replace(n,"").replace(/[^\da-fA-F]/g,""):null,type:t})}return r},e.prototype.removeClassName=function(e){for(var t=e.querySelectorAll("*[class]"),n=0;n<t.length;n++)t[n].removeAttribute("class")},e.prototype.breakLineAddition=function(e){for(var t=e.querySelectorAll("*"),n=0;n<t.length;n++)if(0===t[n].children.length&&"&nbsp;"===t[n].innerHTML&&"&nbsp;"===t[n].innerHTML&&!t[n].closest("li")&&!t[n].closest("td")){var i=this.findDetachElem(t[n]),o=Se("br");E(i.parentElement)||(i.parentElement.insertBefore(o,i),Oe(i))}},e.prototype.findDetachElem=function(e){return!E(e.parentElement)&&""===e.parentElement.textContent.trim()&&"TD"!==e.parentElement.tagName&&E(e.parentElement.querySelector("img"))?this.findDetachElem(e.parentElement):e},e.prototype.removeUnwantedElements=function(e){for(var t=e.innerHTML,n=0;n<this.removableElements.length;n++){var i=new RegExp("<"+this.removableElements[n]+">","g"),o=new RegExp("</"+this.removableElements[n]+">","g");t=(t=t.replace(i,"")).replace(o,"")}e.innerHTML=t,e.querySelectorAll(":empty")},e.prototype.findDetachEmptyElem=function(e){return E(e.parentElement)?null:""===e.parentElement.textContent.trim()&&"MSWord-Content"!==e.parentElement.getAttribute("id")&&E(e.parentElement.querySelector("img"))?this.findDetachEmptyElem(e.parentElement):e},e.prototype.removeEmptyElements=function(e){for(var t=e.querySelectorAll(":empty"),n=0;n<t.length;n++)if(E(t[n].closest("td"))||E(t[n].closest("td").querySelector(".MsoNormal"))||(t[n].innerHTML="-"),"IMG"!==t[n].tagName&&"BR"!==t[n].tagName&&"IFRAME"!==t[n].tagName&&"TD"!==t[n].tagName&&"HR"!==t[n].tagName){var i=this.findDetachEmptyElem(t[n]);E(i)||Oe(i)}},e.prototype.styleCorrection=function(e,t){var n=e.querySelectorAll("style");if(n.length>0){var i=n[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi),o=E(i)?null:this.findStyleObject(i),r=Object.keys(o),s=r.map((function(e){return o[e]}));s=this.removeUnwantedStyle(s,t),this.filterStyles(e,t);for(var a=void 0,l=!1,c=0;c<r.length;c++){if(""===r[c].split(".")[0])a=e.getElementsByClassName(r[c].split(".")[1]),l=!0;else{if(1===r[c].split(".").length&&r[c].split(".")[0].indexOf("@")>=0)continue;a=1===r[c].split(".").length&&r[c].split(".")[0].indexOf("@")<0?e.getElementsByTagName(r[c]):e.querySelectorAll(r[c])}for(var h=0;h<a.length;h++){var d=a[h].getAttribute("style");if(E(d)||""===d.trim())s[c]=s[c].replace(/text-indent:-(.*?)(?=;|$)/gm,""),a[h].setAttribute("style",s[c]);else{var p=s[c].split(";");if(!l)for(var u=0;u<p.length;u++)d.indexOf(p[u].split(":")[0])>=0&&(p.splice(u,1),u--);s[c]=p.join(";")+";";var m=d+s[c];a[h].setAttribute("style",m)}}l=!1}}},e.prototype.filterStyles=function(e,t){for(var n=e.querySelectorAll("*[style]"),i=0;i<n.length;i++){for(var o=n[i].getAttribute("style").split(";"),r="",s=0;s<o.length;s++)t.indexOf(o[s].split(":")[0].trim())>=0&&(r+=o[s]+";");n[i].setAttribute("style",r)}},e.prototype.removeUnwantedStyle=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].split(";");e[n]="";for(var o=0;o<i.length;o++)t.indexOf(i[o].split(":")[0])>=0&&(e[n]+=i[o]+";")}return e},e.prototype.findStyleObject=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=i.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),r=i.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1");o=o.replace(/^[\s]|[\s]$/gm,""),r=r.replace(/^[\s]|[\s]$/gm,""),o=o.replace(/\n|\r|\n\r/g,""),r=r.replace(/\n|\r|\n\r/g,"");for(var s=o.split(", "),a=0;a<s.length;a++)t[s[a]]=r}return t},e.prototype.removingComments=function(e){var t=e.innerHTML;t=t.replace(/<!--[\s\S]*?-->/g,""),e.innerHTML=t},e.prototype.cleanUp=function(e,t){for(var n,i=[],o=e.querySelectorAll("*"),r=0;r<o.length;r++)-1===this.ignorableNodes.indexOf(o[r].nodeName)||3===o[r].nodeType&&""===o[r].textContent.trim()?i.push(o[r]):(o[r].className&&-1!==o[r].className.toLowerCase().indexOf("msolistparagraph")&&1!==o[r].childElementCount&&!E(o[r].getAttribute("style"))&&o[r].getAttribute("style").indexOf("mso-list:")>=0&&(o[r].className.indexOf("MsoListParagraphCxSpFirst")>=0&&t.length>0&&null!==t[t.length-1]&&t.push(null),t.push(o[r])),!n||-1===this.blockNode.indexOf(o[r].nodeName.toLowerCase())||o[r].className&&-1!==o[r].className.toLowerCase().indexOf("msolistparagraph")&&!E(o[r].getAttribute("style"))&&o[r].getAttribute("style").indexOf("mso-list:")>=0||t.push(null),-1!==this.blockNode.indexOf(o[r].nodeName.toLowerCase())&&(n=!!(o[r].className&&-1!==o[r].className.toLowerCase().indexOf("msolistparagraph")&&!E(o[r].getAttribute("style"))&&o[r].getAttribute("style").indexOf("mso-list:")>=0)));return t.length&&null!==t[t.length-1]&&t.push(null),t},e.prototype.listConverter=function(e){for(var t,n,i=[],o=[],r="",s="",a=0;a<e.length;a++)if(null!==e[a]){e[a].getAttribute("style")&&-1!==e[a].getAttribute("style").indexOf("mso-outline-level")&&e[a].setAttribute("style",e[a].getAttribute("style").replace("mso-outline-level","mso-outline")),t=(r=e[a].getAttribute("style"))&&-1!==r.indexOf("level")?parseInt(r.charAt(r.indexOf("level")+5),null):1,this.listContents=[],this.getListContent(e[a]);var l=void 0,c=void 0;if(!E(this.listContents[0])){l=this.listContents[0].trim().length>1?"ol":"ul",c=this.getlistStyleType(this.listContents[0],l);for(var h=[],d=1;d<this.listContents.length;d++)h.push(this.listContents[d]);var p=void 0;E(e[a].className)||(p=e[a].className),E(e[a].getAttribute("style"))||(e[a].setAttribute("style",e[a].getAttribute("style").replace("text-align:start;","")),""!==e[a].style.textAlign&&(e[a].setAttribute("style","text-align:"+e[a].style.textAlign),s=e[a].getAttribute("style"))),o.push({listType:l,content:h,nestedLevel:t,class:p,listStyle:s,listStyleTypeName:c})}}else i.push({content:this.makeConversion(o),node:e[a-1]}),o=[];for(n=e.shift();n;){for(var u=[],m=0;m<i.length;m++)if(i[m].node===n){for(var f=0;f<i[m].content.childNodes.length;f++)u.push(i[m].content.childNodes[f]);for(f=0;f<u.length;f++)n.parentElement.insertBefore(u[f],n);break}n.remove(),(n=e.shift())||(n=e.shift())}},e.prototype.getlistStyleType=function(e,t){var n;if("ol"===t)switch(e.split(".")[0]){case"A":n="upper-alpha";break;case"a":n="lower-alpha";break;case"I":n="upper-roman";break;case"i":n="lower-roman";break;case"\u03b1":n="lower-greek";break;default:n="decimal"}else switch(e.split(".")[0]){case"o":n="circle";break;case"\xa7":n="square";break;default:n="disc"}return n},e.prototype.makeConversion=function(e){for(var t,n,i,o=Se("div"),r=1,s=0,a=0;a<e.length;a++){var l=Se("p");if(l.innerHTML=e[a].content.join(" "),1===e[a].nestedLevel&&0===s&&e[a].content)o.appendChild(t=Se(e[a].listType)),(n=Se("li")).appendChild(l),t.appendChild(n),t.setAttribute("level",e[a].nestedLevel.toString()),t.style.listStyleType=e[a].listStyleTypeName;else if(e[a].nestedLevel===r)n.parentElement.tagName.toLowerCase()===e[a].listType?(n.parentElement.appendChild(n=Se("li")),n.appendChild(l)):((t=Se(e[a].listType)).style.listStyleType=e[a].listStyleTypeName,n.parentElement.parentElement.appendChild(t),(n=Se("li")).appendChild(l),t.appendChild(n),t.setAttribute("level",e[a].nestedLevel.toString()));else if(e[a].nestedLevel>r)if(E(n))o.appendChild(t=Se(e[a].listType)),(n=Se("li")).appendChild(l),t.appendChild(n),t.setAttribute("level",e[a].nestedLevel.toString()),t.style.listStyleType=e[a].listStyleTypeName;else{for(var c=0;c<e[a].nestedLevel-r;c++)n.appendChild(t=Se(e[a].listType)),n=Se("li"),c!=e[a].nestedLevel-r-1&&e[a].nestedLevel-r>1&&(n.style.listStyleType="none"),t.appendChild(n);n.appendChild(l),t.setAttribute("level",e[a].nestedLevel.toString()),t.style.listStyleType=e[a].listStyleTypeName}else if(1===e[a].nestedLevel)o.lastChild.tagName.toLowerCase()===e[a].listType?t=o.lastChild:(o.appendChild(t=Se(e[a].listType)),t.style.listStyleType=e[a].listStyleTypeName),(n=Se("li")).appendChild(l),t.appendChild(n),t.setAttribute("level",e[a].nestedLevel.toString());else for(i=n;i.parentElement;)if((i=i.parentElement).attributes.getNamedItem("level")){if(parseInt(i.attributes.getNamedItem("level").textContent,null)===e[a].nestedLevel){(n=Se("li")).appendChild(l),i.appendChild(n);break}if(e[a].nestedLevel>parseInt(i.attributes.getNamedItem("level").textContent,null)){i.appendChild(t=Se(e[a].listType)),(n=Se("li")).appendChild(l),t.appendChild(n),t.setAttribute("level",e[a].nestedLevel.toString()),t.style.listStyleType=e[a].listStyleTypeName;break}}n.setAttribute("class",e[a].class);var h=n.getAttribute("style");n.setAttribute("style",E(h)?"":h),r=e[a].nestedLevel,s++}return o},e.prototype.getListContent=function(e){var t="",n=e.firstElementChild;if(""!==n.textContent.trim()||E(n.firstElementChild)||"IMG"!==n.firstElementChild.nodeName){var i=["b","em"];if(n.childNodes.length>0&&(n.querySelectorAll("b").length>0||n.querySelectorAll("em").length>0))for(var o=0;o<n.childNodes.length;o++){var r=n.childNodes[o].nodeName.toLowerCase();n.childNodes[o].textContent.trim().length>1&&-1!==i.indexOf(r)?(t="<"+r+">"+n.childNodes[o].textContent+"</"+r+">",this.listContents.push(t)):1===n.childNodes[o].textContent.trim().length&&this.listContents.push(n.childNodes[o].textContent.trim())}else t=n.textContent.trim(),this.listContents.push(t)}else t=e.innerHTML.trim(),this.listContents.push(""),this.listContents.push(t);Oe(n),this.listContents.push(e.innerHTML)},e}(),Im=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.observer.on(tm,this.insertText,this)},e.prototype.insertText=function(e){var t=document.createTextNode(e.value);vm.Insert(this.parent.currentDocument,t,this.parent.editableElement),e.callBack&&e.callBack({requestType:e.subCommand,editorMode:"HTML",event:e.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},e}(),Fm=function(){function e(e){this.currentDocument=e.document,this.editableElement=e.editableElement,this.nodeSelection=new om,this.nodeCutter=new fm,this.domNode=new pm(this.editableElement,this.currentDocument),this.observer=new Z(this),this.listObj=new um(this),this.formatObj=new gm(this),this.alignmentObj=new bm(this),this.indentsObj=new Cm(this),this.linkObj=new ym(this),this.imgObj=new xm(this),this.selectionObj=new Om(this),this.inserthtmlObj=new Mm(this),this.insertTextObj=new Im(this),this.clearObj=new Am(this),this.tableObj=new Nm(this),this.undoRedoManager=new Hm(this,e.options),this.msWordPaste=new Bm(this),this.wireEvents()}return e.prototype.wireEvents=function(){this.observer.on(wr,this.editorKeyDown,this),this.observer.on(Nr,this.editorKeyUp,this),this.observer.on(Nr,this.editorKeyUp,this),this.observer.on(Pr,this.onPropertyChanged,this),this.observer.on("ms_word_cleanup",this.onWordPaste,this),this.observer.on(Or,this.onBegin,this)},e.prototype.onWordPaste=function(e){this.observer.notify(Dr,e)},e.prototype.onPropertyChanged=function(e){this.observer.notify(Lr,e)},e.prototype.editorKeyDown=function(e){this.observer.notify(kr,e)},e.prototype.editorKeyUp=function(e){this.observer.notify(xr,e)},e.prototype.onBegin=function(e){this.observer.notify(Mr,e)},e.prototype.execCommand=function(e,t,n,i,o,r,s,a){switch(e.toLowerCase()){case"lists":this.observer.notify(Tr,{subCommand:t,event:n,callBack:i,selector:s,item:r,enterAction:a});break;case"formats":this.observer.notify(Sr,{subCommand:t,event:n,callBack:i,selector:s,exeValue:r,enterAction:a});break;case"alignments":this.observer.notify(Yu,{subCommand:t,event:n,callBack:i,selector:s,value:r});break;case"indents":this.observer.notify(Ku,{subCommand:t,event:n,callBack:i,selector:s});break;case"links":this.observer.notify(Bu,{command:e,value:t,item:r,event:n,callBack:i});break;case"files":this.observer.notify(Au,{command:e,value:"Image",item:r,event:n,callBack:i,selector:s});break;case"images":this.observer.notify(Au,{command:e,value:t,item:r,event:n,callBack:i,selector:s});break;case"table":switch(t.toString().toLocaleLowerCase()){case"createtable":this.observer.notify(Hu,{item:r,event:n,callBack:i,enterAction:a});break;case"insertrowbefore":case"insertrowafter":this.observer.notify(Iu,{item:r,event:n,callBack:i});break;case"insertcolumnleft":case"insertcolumnright":this.observer.notify(Fu,{item:r,event:n,callBack:i});break;case"deleterow":this.observer.notify(ju,{item:r,event:n,callBack:i});break;case"deletecolumn":this.observer.notify(zu,{item:r,event:n,callBack:i});break;case"tableremove":this.observer.notify(_u,{item:r,event:n,callBack:i});break;case"tableheader":this.observer.notify(Vu,{item:r,event:n,callBack:i});break;case"aligntop":case"alignmiddle":case"alignbottom":this.observer.notify(qu,{item:r,event:n,callBack:i});break;case"merge":this.observer.notify(Uu,{item:r,event:n,callBack:i});break;case"horizontalsplit":this.observer.notify(Xu,{item:r,event:n,callBack:i});break;case"verticalsplit":this.observer.notify(Wu,{item:r,event:n,callBack:i})}break;case"font":case"style":case"effects":case"casing":this.observer.notify(Zu,{subCommand:t,event:n,callBack:i,value:o,selector:s,enterAction:a});break;case"inserthtml":this.observer.notify(em,{subCommand:t,callBack:i,value:o});break;case"inserttext":this.observer.notify(tm,{subCommand:t,callBack:i,value:o});break;case"clear":this.observer.notify(nm,{subCommand:t,event:n,callBack:i,selector:s,enterAction:a});break;case"actions":this.observer.notify(Er,{subCommand:t,event:n,callBack:i,selector:s})}},e}(),jm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zm=function(e){function t(t){var n=e.call(this)||this;return n.initialize(),w(n,n,t,!0),n.currentDocument&&n.element&&n.updateFormatter(n.element,n.currentDocument,t.options),n}return jm(t,e),t.prototype.initialize=function(){this.keyConfig=rm},t.prototype.updateFormatter=function(e,t,n){e&&t&&(this.editorManager=new Fm({document:t,editableElement:e,options:n}))},t}(Ru),_m={bold:!1,italic:!1,subscript:!1,superscript:!1,strikethrough:!1,orderedlist:!1,unorderedlist:!1,underline:!1,alignments:null,backgroundcolor:null,fontcolor:null,fontname:null,fontsize:null,formats:null,createlink:!1,insertcode:!1},Vm=function(){function e(){}return e.get=function(e,t,n,i,o,r){for(var s=JSON.parse(JSON.stringify(_m)),a=JSON.parse(JSON.stringify(_m)),l=new om,c=r?[r]:l.getNodeCollection(l.getRange(e)),h=c.length,d=!1,p=l.getRange(e),u=0;u<c.length;u++){for(;3===c[u].nodeType&&3===p.startContainer.nodeType&&c[u].parentNode&&c[u].parentNode.lastElementChild&&"BR"!==c[u].parentNode.lastElementChild.nodeName&&0===this.getImmediateBlockNode(c[u].parentNode).textContent.replace(/\u200B/g,"").length&&0===p.startContainer.textContent.replace(/\u200B/g,"").length&&0===l.get(e).toString().replace(/\u200B/g,"").length;)c[u]=c[u].parentNode.lastElementChild.firstChild,d=!0;d&&c[u]&&(l.setCursorPoint(e,c[u],c[u].textContent.length),d=!1),("BR"!==c[u].nodeName&&3!==c[u].nodeType||h>1&&3===c[u].nodeType&&""===c[u].textContent.trim())&&(c.splice(u,1),u--)}for(u=0;u<c.length;u++)s=this.getFormatParent(e,s,c[u],t,n,i,o),(0===u&&s.bold||!s.bold)&&(a.bold=s.bold),(0===u&&s.insertcode||!s.insertcode)&&(a.insertcode=s.insertcode),(0===u&&s.italic||!s.italic)&&(a.italic=s.italic),(0===u&&s.underline||!s.underline)&&(a.underline=s.underline),(0===u&&s.strikethrough||!s.strikethrough)&&(a.strikethrough=s.strikethrough),(0===u&&s.superscript||!s.superscript)&&(a.superscript=s.superscript),(0===u&&s.subscript||!s.subscript)&&(a.subscript=s.subscript),(0===u&&s.fontcolor||!s.fontcolor)&&(a.fontcolor=s.fontcolor),(0===u&&s.fontname||!s.fontname)&&(a.fontname=s.fontname),(0===u&&s.fontsize||!s.fontsize)&&(a.fontsize=s.fontsize),(0===u&&s.backgroundcolor||!s.backgroundcolor)&&(a.backgroundcolor=s.backgroundcolor),(0===u&&s.orderedlist||!s.orderedlist)&&(a.orderedlist=s.orderedlist),(0===u&&s.unorderedlist||!s.unorderedlist)&&(a.unorderedlist=s.unorderedlist),(0===u&&s.alignments||!s.alignments)&&(a.alignments=s.alignments),(0===u&&s.formats||!s.formats)&&(a.formats=s.formats),(0===u&&s.createlink||!s.createlink)&&(a.createlink=s.createlink),(0===u&&s.numberFormatList||!s.numberFormatList)&&(a.numberFormatList=s.numberFormatList),(0===u&&s.bulletFormatList||!s.bulletFormatList)&&(a.bulletFormatList=s.bulletFormatList),s=JSON.parse(JSON.stringify(_m));return a},e.getImmediateBlockNode=function(e){do{e=e.parentNode}while(e&&$u.indexOf(e.nodeName.toLocaleLowerCase())<0);return e},e.getFormatParent=function(e,t,n,i,o,r,s){if(i.contains(n)||3===n.nodeType&&3!==i.nodeType&&i.contains(n.parentNode))do{t=this.isFormattedNode(e,t,n,o,r,s),n=n.parentNode}while(n&&n!==i);return t},e.isFormattedNode=function(e,t,n,i,o,r){return t.bold||(t.bold=Pm.isBold(n)),t.italic||(t.italic=Pm.isItalic(n)),t.underline||(t.underline=Pm.isUnderline(n)),t.strikethrough||(t.strikethrough=Pm.isStrikethrough(n)),t.superscript||(t.superscript=Pm.isSuperscript(n)),t.subscript||(t.subscript=Pm.isSubscript(n)),t.fontcolor||(t.fontcolor=this.isFontColor(e,n)),t.fontname||(t.fontname=this.isFontName(e,n,r)),t.fontsize||(t.fontsize=this.isFontSize(n,o)),t.backgroundcolor||(t.backgroundcolor=this.isBackgroundColor(n)),t.orderedlist||(t.orderedlist=this.isOrderedList(n)),t.unorderedlist||(t.unorderedlist=this.isUnorderedList(n)),t.alignments||(t.alignments=this.isAlignment(n)),t.formats||(t.formats=this.isFormats(n,i),"pre"===t.formats&&(t.insertcode=!0)),t.createlink||(t.createlink=this.isLink(n)),t.numberFormatList||(t.numberFormatList=this.isNumberFormatList(n)),t.bulletFormatList||(t.bulletFormatList=this.isBulletFormatList(n)),t},e.isFontColor=function(e,t){var n=t.style&&t.style.color;return null!==n&&void 0!==n&&""!==n||3===t.nodeType||(n=this.getComputedStyle(e,t,"color")),null!==n&&""!==n&&void 0!==n?n:null},e.isLink=function(e){return"a"===e.nodeName.toLocaleLowerCase()},e.isBackgroundColor=function(e){var t=e.style&&e.style.backgroundColor;return null!==t&&""!==t&&void 0!==t?t:null},e.isFontSize=function(e,t){var n=e.style&&e.style.fontSize;return null!==n&&""!==n&&void 0!==n&&(null===t||void 0===t||t.indexOf(n)>-1)?n:null},e.isFontName=function(e,t,n){var i=t.style&&t.style.fontFamily;null!==i&&void 0!==i&&""!==i||3===t.nodeType||(i=this.getComputedStyle(e,t,"font-family"));var o=null;return null!==i&&""!==i&&void 0!==i&&(null===n||void 0===n||n.filter((function(e,t){var n=new RegExp(i,"i");(e.replace(/"/g,"").replace(/ /g,"")===i.replace(/"/g,"").replace(/ /g,"")||e.search(n)>-1)&&(o=t)}))&&null!==o)?null!==o?n[o]:i.replace(/"/g,""):null},e.isOrderedList=function(e){return"ol"===e.nodeName.toLocaleLowerCase()},e.isUnorderedList=function(e){return"ul"===e.nodeName.toLocaleLowerCase()},e.isAlignment=function(e){var t=e.style&&e.style.textAlign;return"left"===t?"justifyleft":"center"===t?"justifycenter":"right"===t?"justifyright":"justify"===t?"justifyfull":null},e.isFormats=function(e,t){return(void 0===t||null===t)&&$u.indexOf(e.nodeName.toLocaleLowerCase())>-1||null!==t&&void 0!==t&&t.indexOf(e.nodeName.toLocaleLowerCase())>-1?e.nodeName.toLocaleLowerCase():null},e.getComputedStyle=function(e,t,n){return e.defaultView.getComputedStyle(t,null).getPropertyValue(n)},e.isNumberFormatList=function(e){var t=e.style&&e.style.listStyleType;return"lower-alpha"===t?"Lower Alpha":"number"===t?"Number":"upper-alpha"===t?"Upper Alpha":"lower-roman"===t?"Lower Roman":"upper-roman"===t?"Upper Roman":"lower-greek"===t?"Lower Greek":"none"===t?"None":null},e.isBulletFormatList=function(e){var t=e.style&&e.style.listStyleType;return"circle"===t?"Circle":"square"===t?"Square":"none"===t?"None":"disc"===t?"Disc":null},e}(),qm=function(){function e(e){this.parent=e,this.toolbarStatus=this.prevToolbarStatus={bold:!1,italic:!1,subscript:!1,superscript:!1,strikethrough:!1,orderedlist:!1,unorderedlist:!1,underline:!1,alignments:null,backgroundcolor:null,fontcolor:null,fontname:null,fontsize:null,formats:null,createlink:!1,insertcode:!1},this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(Pi,this.onRefreshHandler,this),this.parent.on(Ni,this.removeEventListener,this)},e.prototype.removeEventListener=function(){this.parent.off(Pi,this.onRefreshHandler),this.parent.off(Ni,this.removeEventListener)},e.prototype.onRefreshHandler=function(e){if(!this.parent.readonly){var t=[],n=[],i=[];this.parent.fontSize.items.forEach((function(e){t.push(e.value)})),this.parent.fontFamily.items.forEach((function(e){n.push(e.value)})),this.parent.format.types.forEach((function(e){i.push(e.value.toLocaleLowerCase())})),this.toolbarStatus=Vm.get(this.parent.contentModule.getDocument(),this.parent.contentModule.getEditPanel(),i,t,n,e.documentNode);var o=JSON.stringify(this.toolbarStatus);this.parent.notify(Oi,this.toolbarStatus),JSON.stringify(this.prevToolbarStatus)!==o&&(this.parent.notify(So,{html:JSON.parse(o),markdown:null}),this.prevToolbarStatus=JSON.parse(o))}},e}(),Um=function(){function e(e,t){this.parent=e,this.serviceLocator=t}return e.prototype.renderPanel=function(){var e=this.parent,t=this.parent.createElement("div",{className:"e-rte-content",id:this.parent.getID()+"rte-view"}),n=Oa(e.value,e);this.editableElement=this.parent.createElement("div",{className:"e-content",id:this.parent.getID()+"_rte-edit-view",attrs:{contenteditable:"true"},innerHTML:n}),t.appendChild(this.editableElement),this.setPanel(t),e.element.appendChild(t)},e.prototype.getPanel=function(){return this.contentPanel},e.prototype.getEditPanel=function(){return this.editableElement},e.prototype.getText=function(){var e=this.getEditPanel().innerText;return"\n"===e?"":e},e.prototype.setPanel=function(e){this.contentPanel=e},e.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},e}(),Wm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wm(t,e),t.prototype.renderPanel=function(){var e=this.parent,t="\n<!DOCTYPE html> \n    <html>\n         <head>\n            <meta charset='utf-8' /> \n            <style>\n                @charset \"UTF-8\";\n                body {\n                    font-family: \"Roboto\", sans-serif;\n                    font-size: 14px;\n                }\n                html, body{height: 100%;margin: 0;}\n                body.e-cursor{cursor:default}\n                span.e-selected-node\t{background-color: #939393;color: white;}\n                span.e-selected-node.e-highlight {background-color: #1d9dd8;}\n                body{color:#333;word-wrap:break-word;padding: 8px;box-sizing: border-box;}\n                .e-rte-image {border: 0;cursor: pointer;display:\n                    block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\n                .e-img-caption { display: inline-block; float: none; margin: 5px auto; max-width: 100%;position: relative;}\n                .e-img-caption.e-caption-inline {display: inline-block;float: none;\n                    margin: 5px auto;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));\n                    position: relativetext-align: center;vertical-align: bottom;}\n                .e-img-inner {box-sizing: border-box;display: block;font-size: 16px;font-weight: initial;\n                    margin: auto;opacity: .9;text-align: center;width: 100%;}\n                .e-img-wrap {display: inline-block;margin: auto;padding: 0;text-align: center;width: 100%;}\n                .e-imgleft {float: left;margin: 0 5px 0 0;text-align: left;}\n                .e-imgright {float: right;margin: 0 0 0 5px;text-align: right;}\n                .e-imgcenter {cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\n                .e-control img:not(.e-resize) {border: 2px solid transparent; z-index: 1000}\n                .e-imginline {display: inline-block;float: none;margin-left: 5px;margin-right: 5px;\n                    max-width: calc(100% - (2 * 5px));vertical-align: bottom;}\n                .e-imgbreak {border: 0;cursor: pointer;\n                    display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}\n                .e-rte-image.e-img-focus:not(.e-resize) {border: solid 2px #4a90e2;}\n                img.e-img-focus::selection { background: transparent;color: transparent;}\n                span.e-rte-imageboxmark {  width: 10px; height: 10px; position: absolute; display: block;\n                    background: #4a90e2; border: 1px solid #fff; z-index: 1000;}\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\n                .e-mob-rte span.e-rte-imageboxmark { background: #fff; border: 1px solid #4a90e2;\n                    border-radius: 15px; height: 20px; width: 20px; }\n                .e-mob-rte.e-mob-span span.e-rte-imageboxmark { background: #4a90e2; border: 1px solid #fff; }\n                .e-rte-content .e-content img.e-resize { z-index: 1000; }\n                .e-img-caption .e-img-inner { outline: 0; }\n                .e-img-caption a:focus-visible { outline: none; }\n                .e-img-caption .e-rte-image.e-imgright, .e-img-caption .e-rte-image.e-imgleft { float: none; margin: 0;}\n                body{box-sizing: border-box;min-height: 100px;outline: 0 solid transparent;\n                    overflow-x: auto;padding: 16px;position: relative;text-align: inherit;z-index: 2;}\n                p{margin: 0 0 10px;margin-bottom: 10px;}\n                li{margin-bottom: 10px;}\n                h1{font-size: 2.17em;font-weight: 400;line-height: 1;margin: 10px 0;}\n                h2{font-size: 1.74em;font-weight: 400;margin: 10px 0;}\n                h3{font-size: 1.31em;font-weight: 400;margin: 10px 0;}\n                h4{font-size: 16px;font-weight: 400;line-height: 1.5;margin: 0;}\n                h5{font-size: 00.8em;font-weight: 400;margin: 0;}\n                h6{font-size: 00.65em;font-weight: 400;margin: 0;}\n                blockquote{margin: 10px 0;margin-left: 0;padding-left: 5px;border-left: solid 2px #5c5c5c;}\n                pre{background-color: inherit;border: 0;border-radius: 0;color: #333;\n                    font-size: inherit;line-height: inherit;margin: 0 0 10px;overflow: visible;padding: 0;\n                    white-space: pre-wrap;word-break: inherit;word-wrap: break-word;}\n                strong, b{font-weight: 700;}\n                a{text-decoration: none;user-select: auto;}\n                a:hover{text-decoration: underline;};\n                p:last-child, pre:last-child, blockquote:last-child{margin-bottom: 0;}\n                h3+h4, h4+h5, h5+h6{margin-top: 00.6em;}\n                ul:last-child{margin-bottom: 0;}\n                table { border-collapse: collapse; empty-cells: show;}\n                table td,table th {border: 1px solid #BDBDBD; height: 20px; vertical-align: middle;}\n                table.e-alternate-border tbody tr:nth-child(2n) {background-color: #F5F5F5;}\n                table th {background-color: #E0E0E0;}\n                table.e-dashed-border td,table.e-dashed-border th { border: 1px dashed #BDBDBD} \n                table .e-cell-select {border: 1px double #4a90e2;}\n                span.e-table-box { cursor: nwse-resize; display: block; height: 10px; position: absolute; width: 10px; }\n                span.e-table-box.e-rmob {height: 14px;width: 14px;}\n                .e-row-resize, .e-column-resize { background-color: transparent; background-repeat: repeat;\n                    bottom: 0;cursor: col-resize;height: 1px;overflow: visible;position: absolute;width: 1px; }\n                .e-row-resize { cursor: row-resize; height: 1px;}\n                .e-table-rhelper { cursor: col-resize; opacity: .87;position: absolute;}\n                .e-table-rhelper.e-column-helper { width: 1px; }\n                .e-table-rhelper.e-row-helper {height: 1px;}\n                .e-reicon::before { border-bottom: 6px solid transparent; border-right: 6px solid;\n                    border-top: 6px solid transparent; content: ''; display: block; height: 0;\n                    position: absolute; right: 4px; top: 4px; width: 20px; }\n                .e-reicon::after { border-bottom: 6px solid transparent; border-left: 6px solid;\n                    border-top: 6px solid transparent; content: ''; display: block;\n                    height: 0; left: 4px; position: absolute; top: 4px; width: 20px; z-index: 3; }\n                .e-row-helper.e-reicon::after { top: 10px; transform: rotate(90deg); }\n                .e-row-helper.e-reicon::before { left: 4px; top: -20px; transform: rotate(90deg); }\n                span.e-table-box { background-color: #ffffff; border: 1px solid #BDBDBD; }\n                span.e-table-box.e-rbox-select { background-color: #BDBDBD; border: 1px solid #BDBDBD; }\n                .e-table-rhelper { background-color: #4a90e2;}\n                .e-rtl { direction: rtl; }\n            </style>\n        </head>"+('<body spellcheck="false" autocorrect="off" contenteditable="true">'+Oa(e.value,e)+"</body></html>"),n=this.parent.createElement("iframe",{id:this.parent.getID()+"_rte-view",className:"e-rte-content",styles:"display:block;",attrs:{srcdoc:t}});this.setPanel(n),e.element.appendChild(n),n.contentDocument.body.id=this.parent.getID()+"_rte-edit-view",n.contentDocument.body.setAttribute("aria-owns",this.parent.getID()),n.contentDocument.open(),t=this.setThemeColor(t,{color:"#333"}),n.contentDocument.write(t),n.contentDocument.close(),e.enableRtl&&this.contentPanel.contentDocument.body.setAttribute("class","e-rtl")},t.prototype.setThemeColor=function(e,t){var n=getComputedStyle(this.parent.element,".e-richtexteditor").getPropertyValue("color");return e.replace(t.color,n)},t.prototype.getEditPanel=function(){return E(this.contentPanel.contentDocument)?this.parent.inputElement:this.contentPanel.contentDocument.body},t.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},t}(Um),Ym=function(){function e(e,t){this.tools={},this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?w(this.tools,fs,Da(this.parent.toolbarSettings.itemConfigs),!0):this.tools=fs}return e.prototype.initializeInstance=function(){this.toolbarRenderer=this.renderFactory.getRenderer(Ci.Toolbar)},e.prototype.renderColorPickerInput=function(e){var t=this;this.initializeInstance();var n,i,o=e.containerType,r=e.container;ms.forEach((function(s){if(-1!==ya(s,e.items))switch(s){case"fontcolor":n=t.parent.getID()+"_"+o+"_FontColor_Target";var a=t.parent.createElement("input");a.id=n,a.classList.add("e-rte-fontcolor-element"),document.body.appendChild(a),i={cssClass:t.tools[s.toLocaleLowerCase()].icon+" "+"e-rte-elements "+Jo,value:t.tools[s.toLocaleLowerCase()].value,command:t.tools[s.toLocaleLowerCase()].command,subCommand:t.tools[s.toLocaleLowerCase()].subCommand,element:Ae("#"+t.parent.getID()+"_"+o+"_FontColor",r),target:n},t.fontColorPicker=t.toolbarRenderer.renderColorPicker(i,"fontcolor"),t.fontColorDropDown=t.toolbarRenderer.renderColorPickerDropDown(i,"fontcolor",t.fontColorPicker);break;case"backgroundcolor":n=t.parent.getID()+"_"+o+"_BackgroundColor_Target";var l=t.parent.createElement("input");l.id=n,l.classList.add("e-rte-backgroundcolor-element"),document.body.appendChild(l),i={cssClass:t.tools[s.toLocaleLowerCase()].icon+" "+"e-rte-elements "+Jo,value:t.tools[s.toLocaleLowerCase()].value,command:t.tools[s.toLocaleLowerCase()].command,subCommand:t.tools[s.toLocaleLowerCase()].subCommand,element:Ae("#"+t.parent.getID()+"_"+o+"_BackgroundColor",r),target:n},t.backgroundColorPicker=t.toolbarRenderer.renderColorPicker(i,"backgroundcolor"),t.backgroundColorDropDown=t.toolbarRenderer.renderColorPickerDropDown(i,"backgroundcolor",t.backgroundColorPicker,t.defaultColorPicker)}})),this.parent.inlineMode.enable&&this.setCssClass({cssClass:this.parent.cssClass})},e.prototype.destroy=function(){this.removeEventListener(),this.destroyColorPicker()},e.prototype.destroyColorPicker=function(){var e;(this.fontColorPicker&&!this.fontColorPicker.isDestroyed&&this.fontColorPicker.destroy(),this.backgroundColorPicker&&!this.backgroundColorPicker.isDestroyed&&this.backgroundColorPicker.destroy(),this.fontColorDropDown&&!this.fontColorDropDown.isDestroyed)&&((e=this.fontColorDropDown.element.querySelector(".e-rte-color-content"))&&Oe(e),this.fontColorDropDown.destroy());this.backgroundColorDropDown&&!this.backgroundColorDropDown.isDestroyed&&((e=this.backgroundColorDropDown.element.querySelector(".e-rte-color-content"))&&(this.defaultColorPicker=e.children[0].style.borderBottomColor,Oe(e)),this.backgroundColorDropDown.destroy())},e.prototype.setRtl=function(e){this.fontColorPicker&&(this.fontColorPicker.setProperties({enableRtl:e.enableRtl}),this.fontColorDropDown.setProperties({enableRtl:e.enableRtl})),this.backgroundColorPicker&&(this.backgroundColorPicker.setProperties({enableRtl:e.enableRtl}),this.backgroundColorDropDown.setProperties({enableRtl:e.enableRtl}))},e.prototype.setCssClass=function(e){this.updateCss(this.fontColorPicker,this.fontColorDropDown,e),this.updateCss(this.backgroundColorPicker,this.backgroundColorDropDown,e)},e.prototype.updateCss=function(e,t,n){e&&n.cssClass&&(E(n.oldCssClass)?(e.setProperties({cssClass:(e.cssClass+" "+n.cssClass).trim()}),t.setProperties({cssClass:(t.cssClass+" "+n.cssClass).trim()})):(e.setProperties({cssClass:(e.cssClass.replace(n.oldCssClass,"").trim()+" "+n.cssClass).trim()}),t.setProperties({cssClass:(t.cssClass.replace(n.oldCssClass,"").trim()+" "+n.cssClass).trim()})))},e.prototype.addEventListener=function(){this.parent.on(zi,this.renderColorPickerInput,this),this.parent.on(uo,this.setRtl,this),this.parent.on(Ni,this.destroy,this),this.parent.on(Hi,this.destroyColorPicker,this),this.parent.on(Bi,this.onPropertyChanged,this),this.parent.on(xo,this.setCssClass,this)},e.prototype.onPropertyChanged=function(e){for(var t=e.newProp,n=0,i=Object.keys(t);n<i.length;n++){switch(i[n]){case"fontColor":if(this.fontColorPicker)for(var o=0,r=Object.keys(t.fontColor);o<r.length;o++){switch(r[o]){case"default":this.fontColorPicker.setProperties({value:t.fontColor.default}),this.fontColorDropDown.element.querySelector("."+this.tools.fontcolor.icon).style.borderBottomColor=t.fontColor.default;break;case"mode":this.fontColorPicker.setProperties({mode:t.fontColor.mode});break;case"columns":this.fontColorPicker.setProperties({columns:t.fontColor.columns});break;case"colorCode":this.fontColorPicker.setProperties({presetColors:t.fontColor.colorCode});break;case"modeSwitcher":this.fontColorPicker.setProperties({modeSwitcher:t.fontColor.modeSwitcher})}}break;case"backgroundColor":if(this.backgroundColorPicker)for(var s=0,a=Object.keys(t.backgroundColor);s<a.length;s++){switch(a[s]){case"default":this.backgroundColorPicker.setProperties({value:t.backgroundColor.default}),this.backgroundColorDropDown.element.querySelector("."+this.tools.backgroundcolor.icon).style.borderBottomColor=t.backgroundColor.default;break;case"mode":this.backgroundColorPicker.setProperties({mode:t.backgroundColor.mode});break;case"columns":this.backgroundColorPicker.setProperties({columns:t.backgroundColor.columns});break;case"colorCode":this.backgroundColorPicker.setProperties({presetColors:t.backgroundColor.colorCode});break;case"modeSwitcher":this.backgroundColorPicker.setProperties({modeSwitcher:t.backgroundColor.modeSwitcher})}}}}},e.prototype.removeEventListener=function(){this.parent.off(zi,this.renderColorPickerInput),this.parent.off(Ni,this.destroy),this.parent.off(uo,this.setRtl),this.parent.off(Hi,this.destroyColorPicker),this.parent.off(Bi,this.onPropertyChanged),this.parent.off(xo,this.setCssClass)},e}(),Km=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.on(Co,this.enableXhtmlValidation,this),this.parent.on(Ni,this.removeEventListener,this)},e.prototype.removeEventListener=function(){this.parent.off(Co,this.enableXhtmlValidation),this.parent.off(Ni,this.removeEventListener)},e.prototype.enableXhtmlValidation=function(){this.parent.enableXhtml&&(E(this.parent.inputElement)?this.currentElement=this.parent.element:this.currentElement=this.parent.inputElement,this.clean(this.currentElement),this.AddRootElement(),this.ImageTags(),this.removeTags(),this.RemoveUnsupported(),this.currentElement.innerHTML=this.selfEncloseValidation(this.currentElement.innerHTML,"\n"===this.currentElement.innerText?this.currentElement.innerText.length:this.currentElement.innerText.trim().length),this.parent.setProperties({value:this.currentElement.innerHTML},!0))},e.prototype.selfEncloseValidation=function(e,t){if(0===t&&e.indexOf("table")<0&&e.indexOf("img")<0){var n=e.split("&nbsp;");n[n.length-1]="&#8203;"+n[n.length-1],e=n.join("")}var i;e=e.replace(/<br>/g,"<br/>").replace(/<hr>/g,"<hr/>").replace(/ /g," ");for(var o=[],r=[],s=[/<img(.*?)>/gi,/<area(.*?)>/gi,/<base(.*?)>/gi,/<col (.*?)>/gi,/<embed(.*?)>/gi,/<input(.*?)>/gi,/<link(.*?)>/gi,/<meta(.*?)>/gi,/<param(.*?)>/gi,/<source(.*?)>/gi,/<track(.*?)>/gi,/<wbr(.*?)>/gi],a=0;a<s.length;a++){for(i=s[a].exec(e);null!==i;)o.push(i[0].toString()),i=s[a].exec(e);r=o.slice(0);for(var l=0;l<o.length;l++)-1!==o[l].indexOf("/")&&o[l].lastIndexOf("/")===o[l].length-2||(o[l]=o[l].substr(0,o[l].length-1)+" /"+o[l].substr(o[l].length-1,o[l].length));for(var c=0;c<=o.length-1;c++)e=e.replace(r[c],o[c])}return e},e.prototype.AddRootElement=function(){if(1===this.currentElement.childNodes.length&&"DIV"!==this.currentElement.firstChild.nodeName||this.currentElement.childNodes.length>1){for(var e=this.parent.createElement("div");this.currentElement.childNodes.length>0;)e.appendChild(this.currentElement.childNodes[0]);this.currentElement.appendChild(e)}},e.prototype.clean=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];8===n.nodeType||"V:IMAGE"===n.nodeName?(e.removeChild(n),t--):1===n.nodeType&&this.clean(n)}return this.currentElement.innerHTML},e.prototype.ImageTags=function(){for(var e=this.currentElement.querySelectorAll("IMG"),t=e.length-1;t>=0;t--){if(!e[t].hasAttribute("alt"))e[t].setAttribute("alt","")}},e.prototype.removeTags=function(){for(var e=[["br","ul"],["br","ol"],["table","span"],["div","span"],["p","span"]],t=0;t<e.length;t++)this.RemoveElementNode(e[t][0],e[t][1])},e.prototype.RemoveElementNode=function(e,t){for(var n=this.currentElement.querySelectorAll(t),i=0;i<n.length;i++)for(var o=n[i].querySelectorAll(e),r=o.length;r>0;r--)Oe(o[r-1])},e.prototype.RemoveUnsupported=function(){for(var e=this.currentElement.querySelectorAll("u"),t=e.length-1;t>=0;t--){var n=this.parent.createElement("span");n.style.textDecoration="underline",n.innerHTML=e[t].innerHTML,e[t].parentNode.insertBefore(n,e[t]),Oe(e[t])}var i=this.currentElement.querySelectorAll("strong");for(t=i.length-1;t>=0;t--){var o=this.parent.createElement("b");o.innerHTML=i[t].innerHTML,i[t].parentNode.insertBefore(o,i[t]),Oe(i[t])}var r=["language","role","target","contenteditable","cellspacing","cellpadding","border","valign","colspan"];for(t=0;t<=r.length;t++)this.RemoveAttributeByName(r[t])},e.prototype.RemoveAttributeByName=function(e){if(null!==this.currentElement.firstChild&&3!==this.currentElement.firstChild.nodeType)for(var t=0;t<this.currentElement.childNodes.length;t++){var n=this.currentElement.childNodes[t];if(3!==n.nodeType&&"TABLE"!==n.nodeName&&"TBODY"!==n.nodeName&&"THEAD"!==n.nodeName&&"TH"!==n.nodeName&&"TR"!==n.nodeName&&"TD"!==n.nodeName&&(n.hasAttribute(e)&&n.removeAttribute(e),n.hasChildNodes()))for(var i=0;i<n.childNodes.length;i++){var o=n.childNodes[i];if(3!==o.nodeType&&"TABLE"!==o.nodeName&&"TBODY"!==o.nodeName&&"THEAD"!==o.nodeName&&"TH"!==o.nodeName&&"TR"!==o.nodeName&&"TD"!==o.nodeName&&o.hasAttribute(e)&&o.removeAttribute(e),o.hasChildNodes())for(var r=0;r<o.childNodes.length;r++)3!==o.childNodes[r].nodeType&&"TABLE"!==o.childNodes[r].nodeName&&"TBODY"!==o.childNodes[r].nodeName&&"THEAD"!==o.childNodes[r].nodeName&&"TH"!==o.childNodes[r].nodeName&&"TR"!==o.childNodes[r].nodeName&&"TD"!==o.childNodes[r].nodeName&&o.childNodes[r].hasAttribute(e)&&o.childNodes[r].removeAttribute(e)}}},e}(),Gm=function(){function e(e,t){this.rangeCollection=[],this.isImageDelete=!1,this.parent=e,this.locator=t,this.renderFactory=this.locator.getService("rendererFactory"),this.xhtmlValidation=new Km(e),this.addEventListener()}return e.prototype.destroy=function(){this.removeEventListener()},e.prototype.sanitizeHelper=function(e){return e=function(e,t){if(t.enableHtmlSanitizer){var n=wn.beforeSanitize();w(n,n,{cancel:!1,helper:null}),t.trigger("beforeSanitizeHtml",n),n.cancel&&!E(n.helper)?e=n.helper(e):n.cancel||(e=wn.serializeValue(n,e))}return e}(e,this.parent)},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.nodeSelectionObj=new om,this.colorPickerModule=new Ym(this.parent,this.locator),this.parent.on(Si,this.instantiateRenderer,this),this.parent.on(Ai,this.onToolbarClick,this),this.parent.on(Fi,this.onKeyDown,this),this.parent.on(Ii,this.onKeyUp,this),this.parent.on(Ri,this.renderColorPicker,this),this.parent.on(Ti,this.render,this),this.parent.on(Bi,this.onPropertyChanged,this),this.parent.on(Ni,this.destroy,this),this.parent.on(lo,this.selectAll,this),this.parent.on(co,this.selectRange,this),this.parent.on(ho,this.getSelectedHtml,this),this.parent.on(Ji,this.onSelectionSave,this),this.parent.on(Zi,this.onSelectionRestore,this),this.parent.on(vo,this.updateReadOnly,this),this.parent.on(po,this.onPaste,this))},e.prototype.updateReadOnly=function(){this.parent.readonly?(Re(this.parent.contentModule.getEditPanel(),{contenteditable:"false"}),ke([this.parent.element],sr)):(Re(this.parent.contentModule.getEditPanel(),{contenteditable:"true"}),Te([this.parent.element],sr))},e.prototype.onSelectionSave=function(){var e=this.contentRenderer.getDocument(),t=this.nodeSelectionObj.getRange(e);this.saveSelection=this.nodeSelectionObj.save(t,e)},e.prototype.onSelectionRestore=function(e){this.parent.isBlur=!1,this.contentRenderer.getEditPanel().focus(),(E(e.items)||e.items)&&this.saveSelection.restore()},e.prototype.onKeyUp=function(e){var t,n=e.args,i=this.parent.getRange(),o=new RegExp(String.fromCharCode(8203),"g");[8,9,13,16,17,18,20,27,37,38,39,40,44,45,46,91,112,113,114,115,116,117,118,119,120,121,122,123].indexOf(n.keyCode)<0&&!n.shiftKey&&!n.ctrlKey&&!n.altKey&&(8203===i.startContainer.textContent.charCodeAt(0)&&(t=i.startOffset-1,i.startContainer.textContent=i.startContainer.textContent.replace(o,""),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),i.startContainer,t)),!E(i.startContainer.previousSibling)&&!E(i.startContainer.previousSibling.parentElement)&&i.startContainer.parentElement===i.startContainer.previousSibling.parentElement&&8203===i.startContainer.previousSibling.textContent.charCodeAt(0)&&i.startContainer.previousSibling.textContent.length<=1&&(i.startContainer.previousSibling.textContent=i.startContainer.previousSibling.textContent.replace(o,"")),8203===i.endContainer.textContent.charCodeAt(i.endOffset)&&(t=i.startOffset,i.endContainer.textContent=i.endContainer.textContent.replace(o,""),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),i.startContainer,t)))},e.prototype.onKeyDown=function(e){var t,n=this,i=e.args;if("chrome"===Ce.info.name&&(t=this.parent.getRange(),this.backSpaceCleanup(e,t),this.deleteCleanup(e,t)),9===i.keyCode&&this.parent.enableTabKey&&!E(i.target)&&E(Ie(i.target,".e-rte-toolbar"))){var o=this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),r=this.nodeSelectionObj.getParentNodeCollection(o);if("LI"!==r[0].nodeName&&!Ie(r[0],"li")&&!Ie(r[0],"table")||0!==o.startOffset)if(i.preventDefault(),i.shiftKey){if(this.rangeCollection.length>0&&4===this.rangeCollection[this.rangeCollection.length-1].startContainer.textContent.length){var s=this.rangeCollection[this.rangeCollection.length-1].startContainer;this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(),s,s,0,s.textContent.length),vm.Insert(this.contentRenderer.getDocument(),document.createTextNode("")),this.rangeCollection.pop()}}else vm.Insert(this.contentRenderer.getDocument(),"&nbsp;&nbsp;&nbsp;&nbsp;"),this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()))}if("space"!==e.args.action&&"enter"!==e.args.action&&13!==e.args.keyCode||(this.spaceLink(e.args),"HTML"!==this.parent.editorMode||this.parent.readonly||this.parent.notify(yo,{args:e.args})),"space"===e.args.action){var a=this.parent.getRange(),l=a.startContainer.textContent.slice(0,a.startOffset),c=this.isOrderedList(l),h=this.isUnOrderedList(l);if(c&&!h||h&&!c){var d={callBack:null,event:e.args,name:"keydown-handler"},p={cancel:!1,item:{command:"Lists",subCommand:c?"OL":"UL"},name:"actionBegin",originalEvent:e.args,requestType:c?"OL":"UL"};this.parent.trigger(Xi,p,(function(t){t.cancel||(n.parent.formatter.editorManager.observer.notify(Or,d),n.parent.trigger(Yi,{editorMode:n.parent.editorMode,elements:n.parent.formatter.editorManager.domNode.blockNodes(),event:e.args,name:Yi,range:n.parent.getRange(),requestType:c?"OL":"UL"}))}))}}"chrome"!==Ce.info.name||(E(this.rangeElement)||E(this.oldRangeElement))&&(E(this.deleteRangeElement)||E(this.deleteOldRangeElement))||"TD"===t.startContainer.parentElement.tagName||"TH"===t.startContainer.parentElement.tagName||(this.rangeElement=null,this.oldRangeElement=null,this.deleteRangeElement=null,this.deleteOldRangeElement=null,this.isImageDelete||i.preventDefault(),i.preventDefault())},e.prototype.isOrderedList=function(e){var t=[/^[1]+[.]+$/,/^[i]+[.]+$/,/^[a]+[.]+$/];if(!E(e=e.replace(/\u200B/g,"")))for(var n=0;n<t.length;n++)if(t[n].test(e))return!0;return!1},e.prototype.isUnOrderedList=function(e){var t=[/^[*]$/,/^[-]$/];if(!E(e=e.replace(/\u200B/g,"")))for(var n=0;n<t.length;n++)if(t[n].test(e))return!0;return!1},e.prototype.backSpaceCleanup=function(e,t){var n=!1;if("Backspace"===e.args.code&&8===e.args.keyCode&&0===t.startOffset&&0===t.endOffset&&0===this.parent.getSelection().length&&t.startContainer.textContent.length>0&&"TD"!==t.startContainer.parentElement.tagName&&"TH"!==t.startContainer.parentElement.tagName){if(this.rangeElement=this.getRootBlockNode(t.startContainer),"OL"===this.rangeElement.tagName||"UL"===this.rangeElement.tagName){var i=this.getRangeLiNode(t.startContainer);i.previousElementSibling&&i.previousElementSibling.childElementCount>0&&(this.oldRangeElement="BR"===i.previousElementSibling.lastElementChild.nodeName?i.previousElementSibling:i.previousElementSibling.lastElementChild,E(i.lastElementChild)||"BR"===i.lastElementChild.nodeName?this.rangeElement=i:(this.rangeElement=i.lastElementChild,n=!0))}else{if(this.rangeElement===this.parent.inputElement||"TABLE"===this.rangeElement.tagName||!E(this.rangeElement.previousElementSibling)&&"TABLE"===this.rangeElement.previousElementSibling.tagName)return;this.oldRangeElement=this.rangeElement.previousElementSibling}if(E(this.oldRangeElement))return;if("OL"!==this.oldRangeElement.tagName&&"UL"!==this.oldRangeElement.tagName||(this.oldRangeElement=this.oldRangeElement.lastElementChild.lastElementChild?this.oldRangeElement.lastElementChild.lastElementChild:this.oldRangeElement.lastElementChild),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),this.oldRangeElement,this.oldRangeElement.childNodes.length),this.oldRangeElement.querySelector("BR")&&Oe(this.oldRangeElement.querySelector("BR")),!E(this.rangeElement)&&this.oldRangeElement!==this.rangeElement){for(;this.rangeElement.firstChild;)this.oldRangeElement.appendChild(this.rangeElement.childNodes[0]);Oe(n?this.rangeElement.parentElement:this.rangeElement),this.oldRangeElement.normalize()}}},e.prototype.deleteCleanup=function(e,t){var n,i,o=!1;if("Delete"===e.args.code&&46===e.args.keyCode&&0!==this.parent.contentModule.getText().trim().length&&0===this.parent.getSelection().length&&"TD"!==t.startContainer.parentElement.tagName&&"TH"!==t.startContainer.parentElement.tagName){if(this.deleteRangeElement=i=this.getRootBlockNode(t.startContainer),"OL"===this.deleteRangeElement.tagName||"UL"===this.deleteRangeElement.tagName)(n=this.getRangeLiNode(t.startContainer)).nextElementSibling&&n.nextElementSibling.childElementCount>0&&!n.nextElementSibling.querySelector("BR")?E(n.lastElementChild)?this.deleteRangeElement=n:(this.deleteRangeElement=n.lastElementChild,o=!0):this.deleteRangeElement=this.getRangeElement(n);else if(3===this.deleteRangeElement.nodeType||"TABLE"===this.deleteRangeElement.tagName||!E(this.deleteRangeElement.nextElementSibling)&&"TABLE"===this.deleteRangeElement.nextElementSibling.tagName)return;if(this.getCaretIndex(t,this.deleteRangeElement)===this.deleteRangeElement.textContent.length){if(E(n)?this.deleteOldRangeElement=this.deleteRangeElement.nextElementSibling:o||!E(n.nextElementSibling)?this.deleteOldRangeElement=this.getRangeElement(n.nextElementSibling):this.deleteOldRangeElement=i.nextElementSibling,E(this.deleteOldRangeElement))return;if(0===t.startOffset&&1===t.endOffset&&"IMG"===this.deleteRangeElement.childNodes[0].nodeName?(this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),this.deleteRangeElement,this.deleteRangeElement,0,1),this.isImageDelete=!0):(this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),this.deleteRangeElement,this.deleteRangeElement.childNodes.length),this.isImageDelete=!1),this.deleteRangeElement.querySelector("BR")&&Oe(this.deleteRangeElement.querySelector("BR")),E(this.deleteRangeElement)||"OL"===this.deleteOldRangeElement.tagName||"UL"===this.deleteOldRangeElement.tagName||this.deleteOldRangeElement===this.deleteRangeElement)this.deleteRangeElement=null,this.deleteOldRangeElement=null;else{for(;this.deleteOldRangeElement.firstChild;)this.deleteRangeElement.appendChild(this.deleteOldRangeElement.childNodes[0]);Oe(o?this.deleteOldRangeElement.parentElement:this.deleteOldRangeElement),this.deleteRangeElement.normalize()}}else this.deleteRangeElement=null}},e.prototype.getCaretIndex=function(e,t){var n=0;if(0!==this.parent.contentModule.getDocument().getSelection().rangeCount){var i=e.cloneRange();i.selectNodeContents(t),i.setEnd(e.endContainer,e.endOffset),n=i.toString().length}return n},e.prototype.getRangeElement=function(e){return e.lastElementChild?"BR"===e.lastElementChild.tagName?e.lastElementChild.previousElementSibling?e.lastElementChild.previousElementSibling:e:e.lastElementChild:e},e.prototype.getRootBlockNode=function(e){for(;e&&this.parent&&this.parent.inputElement!==e&&e.parentElement!==this.parent.inputElement;e)e=e.parentElement;return e},e.prototype.getRangeLiNode=function(e){for(var t=e.parentElement;t!==this.parent.inputElement&&(1!==t.nodeType||"LI"!==t.tagName);)t=t.parentElement;return t},e.prototype.onPaste=function(e){var t=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(e.text.match(t)){if(e.isWordPaste)return;e.args.preventDefault();for(var n=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),i=(this.parent.formatter.editorManager.nodeSelection.save(n,this.parent.contentModule.getDocument()),new RegExp(/([^\S]|^)(((https?\:\/\/)))/gi)),o=new RegExp(/([^\S]|^)(((www\.))(\S+))/gi),r=e.text.split("\n"),s="",a=0;a<r.length;a++)if(""===r[a].trim())s+=Ra(this.parent);else{for(var l="",c=!0,h=r[a].split(" "),d=0;d<h.length;d++)""===h[d].trim()?l+=c?"&nbsp;":" ":(c=!1,l+=h[d]+" ");s+=0===a?"<span>"+l.trim()+"</span>":"<p>"+l.trim()+"</p>"}var p=this.parent.createElement("div");p.setAttribute("class","pasteContent"),p.style.display="inline",p.innerHTML=s.replace("&para","&amp;para");var u=p.querySelectorAll("span, p");for(a=0;a<u.length;a++){var m=u[a].innerHTML.split(" "),f="";for(d=0;d<m.length;d++)m[d].match(i)||m[d].match(o)?f+='<a className="e-rte-anchor" href="'+m[d]+'" title="'+m[d]+'"target="_blank">'+m[d]+" </a>":f+=m[d]+" ";u[a].innerHTML=f.trim()}E(this.parent.pasteCleanupModule)?this.parent.formatter.editorManager.execCommand("insertHTML",null,null,null,p):e.callBack(p.innerHTML)}},e.prototype.spaceLink=function(e){var t=this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),n=this.nodeSelectionObj.getParentNodeCollection(t),i=t.startContainer.textContent.substr(0,t.endOffset),o=i.split(" "),r=o[o.length-1],s=t.startOffset-(i.length-o[o.length-1].length);r=r.slice(0,s);var a=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if("A"!==n[0].nodeName&&r.match(a)){var l=this.nodeSelectionObj.save(t,this.parent.contentModule.getDocument()),c={url:r.indexOf("http")>-1?r:"http://"+r,selection:l,selectParent:this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(t),text:r,title:"",target:"_blank"};this.parent.formatter.process(this.parent,{item:{command:"Links",subCommand:"CreateLink"}},e,c)}},e.prototype.onToolbarClick=function(e){var t,n,i,o=e.item,r=Ie(e.originalEvent.target,".e-rte-quick-popup");if(r&&!r.classList.contains("e-rte-inline-popup")){if("SourceCode"!==o.subCommand&&"Preview"!==o.subCommand&&"FontColor"!==o.subCommand&&"BackgroundColor"!==o.subCommand){lm()&&"Images"===o.command&&this.nodeSelectionObj.restore();var s=this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());t=this.nodeSelectionObj.save(s,this.parent.contentModule.getDocument()),n=this.nodeSelectionObj.getNodeCollection(s),i=this.nodeSelectionObj.getParentNodeCollection(s)}"Images"===o.command&&this.parent.notify("image-toolbar-action",{member:"image",args:e,selectNode:n,selection:t,selectParent:i}),"Links"===o.command&&this.parent.notify("link-toolbar-action",{member:"link",args:e,selectNode:n,selection:t,selectParent:i}),"Table"===o.command&&this.parent.notify(go,{member:"table",args:e,selectNode:n,selection:t,selectParent:i})}else{var a=document.getElementById(this.parent.getID()+"_rtelink"),l=document.getElementById(this.parent.getID()+"_image");if("SourceCode"!==o.subCommand&&"Preview"!==o.subCommand&&"FontColor"!==o.subCommand&&"BackgroundColor"!==o.subCommand){s=this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());E(a)&&E(l)&&(t=this.nodeSelectionObj.save(s,this.parent.contentModule.getDocument())),n=this.nodeSelectionObj.getNodeCollection(s),i=this.nodeSelectionObj.getParentNodeCollection(s)}switch(o.subCommand){case"Maximize":this.parent.notify(_i,{args:e});break;case"Minimize":this.parent.notify(Vi,{args:e});break;case"CreateLink":this.parent.notify("insertLink",{member:"link",args:e,selectNode:n,selection:t,selectParent:i});break;case"RemoveLink":this.parent.notify("unLink",{member:"link",args:e,selectNode:n,selection:t,selectParent:i});break;case"Print":this.parent.print();break;case"Image":this.parent.notify("insertImage",{member:"image",args:e,selectNode:n,selection:t,selectParent:i});break;case"CreateTable":this.parent.notify(mo,{member:"table",args:e,selection:t});break;case"SourceCode":this.parent.notify(Gi,{member:"viewSource",args:e});break;case"Preview":this.parent.notify($i,{member:"updateSource",args:e});break;case"FontColor":case"BackgroundColor":break;case"File":this.parent.notify("renderFileManager",{member:"fileManager",args:e,selectNode:n,selection:t,selectParent:i});break;default:this.parent.formatter.process(this.parent,e,e.originalEvent,null)}}},e.prototype.renderColorPicker=function(e){this.colorPickerModule.renderColorPickerInput(e)},e.prototype.instantiateRenderer=function(){this.parent.iframeSettings.enable?this.renderFactory.addRenderer(Ci.Content,new Xm(this.parent,this.locator)):this.renderFactory.addRenderer(Ci.Content,new Um(this.parent,this.locator))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Ti,this.render),this.parent.off(Bi,this.onPropertyChanged),this.parent.off(Ai,this.onToolbarClick),this.parent.off(Ri,this.renderColorPicker),this.parent.off(Ni,this.destroy),this.parent.off(Fi,this.onKeyDown),this.parent.off(Si,this.instantiateRenderer),this.parent.off(lo,this.selectAll),this.parent.off(co,this.selectRange),this.parent.off(ho,this.getSelectedHtml),this.parent.off(Ji,this.onSelectionSave),this.parent.off(Zi,this.onSelectionRestore),this.parent.off(vo,this.updateReadOnly),this.parent.off(po,this.onPaste))},e.prototype.render=function(){this.contentRenderer=this.renderFactory.getRenderer(Ci.Content);var e=this.contentRenderer.getEditPanel(),t={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};if(E(this.parent.formatter)){var n=new zm({currentDocument:this.contentRenderer.getDocument(),element:e,options:t});this.parent.setProperties({formatter:n},!0)}else this.parent.formatter.updateFormatter(e,this.contentRenderer.getDocument(),t);this.parent.enableXhtml&&this.parent.notify(Co,{}),this.parent.toolbarSettings.enable&&(this.toolbarUpdate=new qm(this.parent)),this.parent.inlineMode.enable&&(E(this.parent.fontFamily.default)||(e.style.fontFamily=this.parent.fontFamily.default),E(this.parent.fontSize.default)||(e.style.fontSize=this.parent.fontSize.default)),this.parent.notify(Mi,{})},e.prototype.onPropertyChanged=function(e){if(!E(e.newProp.formatter)){var t=this.contentRenderer.getEditPanel(),n={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};this.parent.formatter.updateFormatter(t,this.contentRenderer.getDocument(),n)}},e.prototype.getModuleName=function(){return"htmlEditor"},e.prototype.selectAll=function(){var e=Pa(this.parent.contentModule.getDocument(),this.parent.contentModule.getEditPanel());e.length>0&&this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),e[0],e[e.length-1],0,e[e.length-1].textContent.length)},e.prototype.selectRange=function(e){this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(),e.range)},e.prototype.getSelectedHtml=function(e){e.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString())},e}(),$m=function(){function e(e,t){this.ensureInsideTableList=!0,this.pageX=null,this.pageY=null,this.moveEle=null,this.parent=e,this.rteID=e.element.id,this.l10n=t.getService("rteLocale"),this.rendererFactory=t.getService("rendererFactory"),this.dialogRenderObj=t.getService("dialogRenderObject"),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(mo,this.renderDlgContent,this),this.parent.on(Ti,this.afterRender,this),this.parent.on(Eo,this.afterRender,this),this.parent.on(ko,this.showDialog,this),this.parent.on(To,this.closeDialog,this),this.parent.on(fo,this.docClick,this),this.parent.on(io,this.editAreaClickHandler,this),this.parent.on(bo,this.clearDialogObj,this),this.parent.on(go,this.onToolbarAction,this),this.parent.on(qi,this.dropdownSelect,this),this.parent.on(Fi,this.keyDown,this),this.parent.on(ji,this.selectionTable,this),this.parent.on(xo,this.setCssClass,this),this.parent.on(Ni,this.destroy,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(mo,this.renderDlgContent),this.parent.off(Ti,this.afterRender),this.parent.off(Eo,this.afterRender),this.parent.off(fo,this.docClick),this.parent.off(ko,this.showDialog),this.parent.off(To,this.closeDialog),this.parent.off(io,this.editAreaClickHandler),this.parent.off(bo,this.clearDialogObj),this.parent.off(go,this.onToolbarAction),this.parent.off(qi,this.dropdownSelect),this.parent.off(to,this.cellSelect),this.parent.off(so,this.setBGColor),this.parent.off(Fi,this.keyDown),this.parent.off(ji,this.selectionTable),this.parent.off(xo,this.setCssClass),this.parent.off(Ni,this.destroy))},e.prototype.updateCss=function(e,t){e&&t.cssClass&&(E(t.oldCssClass)?e.setProperties({cssClass:(e.cssClass+" "+t.cssClass).trim()}):e.setProperties({cssClass:(e.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},e.prototype.setCssClass=function(e){this.popupObj&&e.cssClass&&(E(e.oldCssClass)||Te([this.popupObj.element],e.oldCssClass),ke([this.popupObj.element],e.cssClass)),this.updateCss(this.createTableButton,e),this.updateCss(this.editdlgObj,e);for(var t=[this.columnTextBox,this.rowTextBox,this.tableWidthNum,this.tableCellPadding,this.tableCellSpacing],n=0;n<t.length;n++)this.updateCss(t[n],e)},e.prototype.selectionTable=function(e){var t=e.args.target;"mozilla"!==Ce.info.name||E(Ie(t,"table"))||"TABLE"!==Ie(t,"table").tagName||this.parent.contentModule.getEditPanel().setAttribute("contenteditable","true")},e.prototype.afterRender=function(){E(this.contentModule)&&(this.contentModule=this.rendererFactory.getRenderer(Ci.Content),this.parent.on(so,this.setBGColor,this),this.parent.on(to,this.cellSelect,this),this.parent.tableSettings.resize&&we.add(this.parent.contentModule.getEditPanel(),Ce.touchStartEvent,this.resizeStart,this),!Ce.isDevice&&this.parent.tableSettings.resize&&we.add(this.contentModule.getEditPanel(),"mouseover",this.resizeHelper,this))},e.prototype.dropdownSelect=function(e){var t=e.item;if(document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))&&"Table"===t.command){var n=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),i={args:e,selection:this.parent.formatter.editorManager.nodeSelection.save(n,this.contentModule.getDocument()),selectParent:this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(n)};switch(t.subCommand){case"InsertRowBefore":case"InsertRowAfter":this.addRow(i.selection,e);break;case"InsertColumnLeft":case"InsertColumnRight":this.addColumn(i.selection,e);break;case"DeleteColumn":case"DeleteRow":this.removeRowColumn(i.selection,e);break;case"AlignTop":case"AlignMiddle":case"AlignBottom":this.verticalAlign(i,e);break;case"Dashed":case"Alternate":case"Custom":this.tableStyles(i,t.subCommand);break;case"Merge":case"VerticalSplit":case"HorizontalSplit":this.UpdateCells(i.selection,e)}}},e.prototype.UpdateCells=function(e,t){this.parent.formatter.process(this.parent,t,t,{selection:e,subCommand:t.item.subCommand}),this.hideTableQuickToolbar()},e.prototype.keyDown=function(e){var t=e.args,n=this;switch(t.action){case"escape":break;case"insert-table":this.openDialog(!0,e),t.preventDefault()}if(!E(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&"KeyK"!==t.code){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=this.parent.formatter.editorManager.nodeSelection.save(i,this.contentModule.getDocument()),r=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i)[0];if(r=r&&"TD"!==r.tagName&&"TH"!==r.tagName?r.parentElement:r,(8===t.keyCode||46===t.keyCode||t.ctrlKey&&88===t.keyCode)&&(r&&"TBODY"===r.tagName?(t.preventDefault(),n.removeTable(o,t,!0)):r&&r.querySelectorAll("table").length>0&&this.removeResizeElement()),r&&"TD"!==r.tagName&&"TH"!==r.tagName){var s=Ie(r,"td");r=!E(s)&&this.parent.inputElement.contains(s)?s:r}if(r&&("TD"===r.tagName||"TH"===r.tagName))switch(t.keyCode){case 9:case 37:case 39:n.tabSelection(t,o,r);break;case 40:case 38:n.tableArrowNavigation(t,o,r)}}},e.prototype.openDialog=function(e,t){if(e||this.parent.contentModule.getEditPanel().focus(),"HTML"===this.parent.editorMode){var n=this.parent.contentModule.getDocument(),i=this.parent.formatter.editorManager.nodeSelection.getRange(n),o=this.parent.formatter.editorManager.nodeSelection.save(i,n),r={originalEvent:t?t.args:{action:"insert-table"},item:{command:"Table",subCommand:"CreateTable"}};this.insertTableDialog({self:this,args:r,selection:o})}},e.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.cssClass})},e.prototype.closeDialog=function(){this.editdlgObj&&this.editdlgObj.hide({returnValue:!0})},e.prototype.onToolbarAction=function(e){switch(e.args.item.subCommand){case"TableHeader":this.tableHeader(e.selection,e.args);break;case"TableRemove":this.removeTable(e.selection,e.args);break;case"TableEditProperties":this.editTable(e)}},e.prototype.verticalAlign=function(e,t){var n=Ie(e.selectParent[0],"td")||Ie(e.selectParent[0],"th");n&&this.parent.formatter.process(this.parent,t,t,{tableCell:n,subCommand:t.item.subCommand})},e.prototype.tableStyles=function(e,t){var n=Ie(e.selectParent[0],"table");if("Dashed"===t&&(this.parent.element.classList.contains(lr)?this.parent.element.classList.remove(lr):this.parent.element.classList.add(lr),n.classList.contains(lr)?n.classList.remove(lr):n.classList.add(lr)),"Alternate"===t&&(this.parent.element.classList.contains(cr)?this.parent.element.classList.remove(cr):this.parent.element.classList.add(cr),n.classList.contains(cr)?n.classList.remove(cr):n.classList.add(cr)),e.args&&e.args.item.cssClass)for(var i=e.args.item.cssClass.split(" "),o=0;o<i.length;o++)n.classList.contains(i[o])?n.classList.remove(i[o]):n.classList.add(i[o]);this.parent.formatter.saveData(),this.parent.formatter.editorManager.nodeSelection.restore()},e.prototype.insideList=function(e){for(var t=this.parent.formatter.editorManager.domNode.blockNodes(),n=[],i=0;i<t.length;i++)"LI"===t[i].parentNode.tagName?n.push(t[i].parentNode):"LI"===t[i].tagName&&"P"!==t[i].childNodes[0].tagName&&"OL"!==t[i].childNodes[0].tagName&&"UL"!==t[i].childNodes[0].tagName&&n.push(t[i]);return n.length>1||n.length&&0===e.startOffset&&0===e.endOffset?(this.ensureInsideTableList=!0,!0):(this.ensureInsideTableList=!1,!1)},e.prototype.tabSelection=function(e,t,n){var i=this.insideList(t.range);if((37!==e.keyCode&&39!==e.keyCode||3!==t.range.startContainer.nodeType)&&!i)if(e.preventDefault(),n.classList.remove(ar),e.shiftKey||37===e.keyCode){var o=E(n.previousSibling)?E(Ie(n,"tr").previousSibling)?E(Ie(n,"table").previousSibling)?n:"td"===Ie(n,"table").previousSibling.nodeName.toLowerCase()?Ie(n,"table").previousSibling:n:Ie(n,"tr").previousSibling.childNodes[Ie(n,"tr").previousSibling.childNodes.length-1]:n.previousSibling;if(n===o&&0===n.cellIndex&&Ie(n,"table").tHead){var r=Ie(n,"table");o=r.rows[0].cells[r.rows[0].cells.length-1]}37===e.keyCode&&n===o&&(o=Ie(n,"table").previousSibling),o&&(""!==o.textContent.trim()&&Ie(o,"td")?t.setSelectionNode(this.contentModule.getDocument(),o):t.setSelectionText(this.contentModule.getDocument(),o,o,0,0))}else{var s=E(n.nextSibling)?E(Ie(n,"tr").nextSibling)?E(Ie(n,"table").nextSibling)?n:"td"===Ie(n,"table").nextSibling.nodeName.toLowerCase()?Ie(n,"table").nextSibling:n:Ie(n,"tr").nextSibling.childNodes[0]:n.nextSibling;n===s&&"TH"===n.nodeName&&(s=Ie(n,"table").rows[1].cells[0]),39===e.keyCode&&n===s&&(s=Ie(n,"table").nextSibling),s&&(""!==s.textContent.trim()&&Ie(s,"td")?t.setSelectionNode(this.contentModule.getDocument(),s):t.setSelectionText(this.contentModule.getDocument(),s,s,0,0)),n===s&&39!==e.keyCode&&s&&(n.classList.add(ar),this.addRow(t,e,!0),n.classList.remove(ar),""!==(s=s.parentElement.nextSibling?s.parentElement.nextSibling.firstChild:s.parentElement.firstChild).textContent.trim()&&Ie(s,"td")?t.setSelectionNode(this.contentModule.getDocument(),s):t.setSelectionText(this.contentModule.getDocument(),s,s,0,0))}},e.prototype.tableArrowNavigation=function(e,t,n){var i=t.range.startContainer;40===e.keyCode&&3===i.nodeType&&(i.nextSibling&&"BR"===i.nextSibling.nodeName||i.parentNode&&"TD"!==i.parentNode.nodeName)||38===e.keyCode&&3===i.nodeType&&(i.previousSibling&&"BR"===i.previousSibling.nodeName||i.parentNode&&"TD"!==i.parentNode.nodeName)||(e.preventDefault(),n.classList.remove(ar),(n=40===e.keyCode?E(Ie(n,"tr").nextElementSibling)?Ie(n,"table").tHead&&"TH"===n.nodeName?Ie(n,"table").rows[1].cells[n.cellIndex]:E(Ie(n,"table").nextSibling)?n:Ie(n,"table").nextSibling:Ie(n,"tr").nextElementSibling.children[n.cellIndex]:E(Ie(n,"tr").previousElementSibling)?Ie(n,"table").tHead&&"TH"!==n.nodeName?Ie(n,"table").tHead.rows[0].cells[n.cellIndex]:E(Ie(n,"table").previousSibling)?n:Ie(n,"table").previousSibling:Ie(n,"tr").previousElementSibling.children[n.cellIndex])&&t.setSelectionText(this.contentModule.getDocument(),n,n,0,0))},e.prototype.setBGColor=function(e){for(var t=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument()),n=(this.parent.formatter.editorManager.nodeSelection.save(t,this.contentModule.getDocument()),this.curTable.querySelectorAll(".e-cell-select")),i=0;i<n.length;i++)n[i].style.backgroundColor=e.item.value;this.parent.formatter.saveData()},e.prototype.hideTableQuickToolbar=function(){this.quickToolObj&&this.quickToolObj.tableQTBar&&document.body.contains(this.quickToolObj.tableQTBar.element)&&this.quickToolObj.tableQTBar.hidePopup()},e.prototype.tableHeader=function(e,t){this.parent.formatter.process(this.parent,t,t.originalEvent,{selection:e,subCommand:t.item.subCommand})},e.prototype.editAreaClickHandler=function(e){if(!this.parent.readonly&&E(Ie(e.args.target,".e-img-caption"))){var t=e.args,n=this.parent.quickToolbarSettings.showOnRightClick;if(!(2===t.which||n&&1===t.which||!n&&3===t.which)&&"HTML"===this.parent.editorMode&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.tableQTBar){this.quickToolObj=this.parent.quickToolbarModule;var i=t.target;if(this.contentModule=this.rendererFactory.getRenderer(Ci.Content),this.quickToolObj.tableQTBar.element.classList.contains("e-rte-pop"))return;var o=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument()),r=Ie(i,"table"),s=this.parent.getRange().startContainer.parentElement,a=this.parent.getRange().endContainer.parentElement;if(i&&"A"!==i.nodeName&&"IMG"!==i.nodeName&&s===a&&("TD"===i.nodeName||"TH"===i.nodeName||"TABLE"===i.nodeName||r&&this.parent.contentModule.getEditPanel().contains(r))&&(3!==o.startContainer.nodeType||o.collapsed)){var l=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());this.parent.formatter.editorManager.nodeSelection.save(l,this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());var c=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+t.clientY:t.pageY;this.quickToolObj.tableQTBar.showPopup(t.pageX,c,i),this.parent.formatter.editorManager.nodeSelection.restore()}else this.hideTableQuickToolbar()}}},e.prototype.tableCellSelect=function(e){var t=e.target,n=Array.prototype.slice.call(t.parentElement.parentElement.children).indexOf(t.parentElement),i=Array.prototype.slice.call(t.parentElement.children).indexOf(t),o=this.dlgDiv.querySelectorAll(".e-rte-tablecell");Array.prototype.forEach.call(o,(function(e){var t=Array.prototype.slice.call(e.parentElement.parentElement.children).indexOf(e.parentElement),o=Array.prototype.slice.call(e.parentElement.children).indexOf(e);Te([e],"e-active"),t<=n&&o<=i&&ke([e],"e-active")})),this.tblHeader.innerHTML=i+1+"x"+(n+1)},e.prototype.tableMouseUp=function(e){we.remove(this.curTable,"mousemove",this.tableMove)},e.prototype.tableCellLeave=function(e){Te(this.dlgDiv.querySelectorAll(".e-rte-tablecell"),"e-active"),ke([this.dlgDiv.querySelector(".e-rte-tablecell")],"e-active"),this.tblHeader.innerHTML="1x1"},e.prototype.tableCellClick=function(e){var t=e.target,n=Array.prototype.slice.call(t.parentElement.parentElement.children).indexOf(t.parentElement)+1,i=Array.prototype.slice.call(t.parentElement.children).indexOf(t)+1;this.self.tableInsert(n,i,e,this)},e.prototype.tableInsert=function(e,t,n,i){var o=i.self?i.self:this,r=i.selection.range.startContainer;"P"!==r.nodeName||""!==r.textContent.trim()||r.childNodes.length>0||(r.innerHTML="<br />");var s=r.parentNode;if("HTML"===o.parent.editorMode&&(o.parent.iframeSettings.enable&&!ba(s.ownerDocument.querySelector("body"),"e-lib")||!o.parent.iframeSettings.enable&&E(Ie(s,"[id='"+o.contentModule.getPanel().id+"']")))){o.contentModule.getEditPanel().focus();var a=o.parent.formatter.editorManager.nodeSelection.getRange(o.contentModule.getDocument());i.selection=o.parent.formatter.editorManager.nodeSelection.save(a,o.contentModule.getDocument())}var l={rows:e,columns:t,width:{minWidth:o.parent.tableSettings.minWidth,maxWidth:o.parent.tableSettings.maxWidth,width:o.parent.tableSettings.width},selection:i.selection};o.popupObj&&o.popupObj.hide(),o.editdlgObj&&o.editdlgObj.hide(),o.parent.formatter.process(o.parent,i.args,i.args.originalEvent,l),o.contentModule.getEditPanel().focus(),o.parent.on(to,o.cellSelect,o)},e.prototype.cellSelect=function(e){var t=e.args.target,n=Ie(t,"td,th");t="TD"!==t.nodeName&&n&&this.parent.contentModule.getEditPanel().contains(n)?n:t,Te(this.contentModule.getEditPanel().querySelectorAll("table td, table th"),ar),!t||"TD"!==t.tagName&&"TH"!==t.tagName||(ke([t],ar),this.activeCell=t,this.curTable=this.curTable?this.curTable:Ie(t,"table"),we.add(this.curTable,"mousemove",this.tableMove,this),we.add(this.curTable,"mouseup",this.tableMouseUp,this),this.removeResizeElement(),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&Oe(this.helper)),"mozilla"!==Ce.info.name||E(Ie(t,"table"))||"TABLE"!==Ie(t,"table").tagName||this.parent.contentModule.getEditPanel().setAttribute("contenteditable","false")},e.prototype.tableMove=function(e){this.parent.formatter.editorManager.observer.notify("TABLE_MOVE",{event:e,selectNode:[this.activeCell]})},e.prototype.resizeHelper=function(e){if(!this.parent.readonly){var t=e.target||e.targetTouches[0].target,n=Ie(t,"table.e-rte-table");E(this.curTable)||E(n)||n===this.curTable||(this.removeResizeElement(),this.removeHelper(e),this.cancelResizeAction()),"TABLE"!==t.nodeName&&"TD"!==t.nodeName&&"TH"!==t.nodeName||(this.curTable=n&&this.parent.contentModule.getEditPanel().contains(n)&&("TD"===t.nodeName||"TH"===t.nodeName)?n:t,this.removeResizeElement(),this.tableResizeEleCreation(this.curTable,e))}},e.prototype.tableResizeEleCreation=function(e,t){this.parent.preventDefaultResize(t);for(var n=Array.prototype.slice.call(e.rows[this.calMaxCol(e)].cells,1),i=[],o=0;o<e.rows.length;o++)i.push(Array.prototype.slice.call(e.rows[o].cells,0,1)[0]);var r=parseInt(getComputedStyle(e).height,10),s=parseInt(getComputedStyle(e).width,10),a=this.calcPos(e);for(o=0;n.length>o;o++){var l=this.parent.createElement("span",{attrs:{"data-col":(o+1).toString(),unselectable:"on",contenteditable:"false"}});l.classList.add(vr,hr),l.style.cssText="height: "+r+"px; width: 4px; top: "+a.top+"px; left:"+(a.left+this.calcPos(n[o]).left)+"px;",this.contentModule.getEditPanel().appendChild(l)}for(o=0;i.length>o;o++){var c=this.parent.createElement("span",{attrs:{"data-row":o.toString(),unselectable:"on",contenteditable:"false"}});c.classList.add(vr,dr);var h=E(e.getAttribute("cellspacing"))&&""===e.getAttribute("cellspacing")?this.calcPos(i[o]).left:0;c.style.cssText="width: "+s+"px; height: 4px; top: "+(this.calcPos(i[o]).top+a.top+i[o].offsetHeight-2)+"px; left:"+(h+a.left)+"px;",this.contentModule.getEditPanel().appendChild(c)}var d=this.parent.createElement("span",{className:pr,attrs:{"data-col":n.length.toString(),unselectable:"on",contenteditable:"false"}});d.style.cssText="top: "+(a.top+r-4)+"px; left:"+(a.left+s-4)+"px;",Ce.isDevice&&d.classList.add("e-rmob"),this.contentModule.getEditPanel().appendChild(d)},e.prototype.removeResizeElement=function(){var e=this.parent.contentModule.getEditPanel().querySelectorAll(".e-column-resize, .e-row-resize, .e-table-box");if(e.length>0)for(var t=0;t<e.length;t++)Oe(e[t])},e.prototype.calcPos=function(e){for(var t={top:0,left:0},n=e.getBoundingClientRect(),i=e.ownerDocument,o=e.offsetParent||i.documentElement,r=!1;o&&(o===i.body||o===i.documentElement)&&"static"===o.style.position;)o=o.parentNode;return"TD"===o.nodeName&&"TABLE"===e.nodeName&&(o=Ie(o,".e-rte-content"),r=!0),o&&o!==e&&1===o.nodeType&&(t=o.getBoundingClientRect()),r?(r=!1,{top:this.parent.inputElement&&this.parent.inputElement.scrollTop>0?this.parent.inputElement.scrollTop+n.top-t.top:n.top-t.top,left:this.parent.inputElement&&this.parent.inputElement.scrollLeft>0?this.parent.inputElement.scrollLeft+n.left-t.left:n.left-t.left}):{top:e.offsetTop,left:e.offsetLeft}},e.prototype.getPointX=function(e){return e.touches&&e.touches.length?e.touches[0].pageX:e.pageX},e.prototype.getPointY=function(e){return e.touches&&e.touches.length?e.touches[0].pageY:e.pageY},e.prototype.resizeStart=function(e){var t=this;if(!this.parent.readonly){Ce.isDevice&&this.resizeHelper(e);var n=e.target;if(n.classList.contains(hr)||n.classList.contains(dr)||n.classList.contains(pr)){if(e.preventDefault(),this.parent.preventDefaultResize(e),Te(this.curTable.querySelectorAll("td,th"),ar),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.pageX=this.getPointX(e),this.pageY=this.getPointY(e),this.resizeBtnInit(),this.hideTableQuickToolbar(),n.classList.contains(hr)&&(this.resizeBtnStat.column=!0,this.columnEle=this.curTable.rows[this.calMaxCol(this.curTable)].cells[parseInt(n.getAttribute("data-col"),10)],this.colIndex=this.columnEle.cellIndex,this.moveEle=e.target,this.appendHelper()),n.classList.contains(dr)&&(this.rowEle=this.curTable.rows[parseInt(n.getAttribute("data-row"),10)],this.resizeBtnStat.row=!0,this.appendHelper()),n.classList.contains(pr)&&(this.resizeBtnStat.tableBox=!0),Ce.isDevice&&this.helper&&!this.helper.classList.contains("e-reicon"))this.helper.classList.add("e-reicon"),we.add(document,Ce.touchStartEvent,this.removeHelper,this),we.add(this.helper,Ce.touchStartEvent,this.resizeStart,this);else{var i={event:e,requestType:"Table"};this.parent.trigger("resizeStart",i,(function(e){e.cancel&&t.cancelResizeAction()}))}we.add(this.contentModule.getDocument(),Ce.touchMoveEvent,this.resizing,this),we.add(this.contentModule.getDocument(),Ce.touchEndEvent,this.resizeEnd,this)}}},e.prototype.removeHelper=function(e){!e.target.classList.contains("e-reicon")&&this.helper&&(we.remove(document,Ce.touchStartEvent,this.removeHelper),we.remove(this.helper,Ce.touchStartEvent,this.resizeStart),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&Oe(this.helper),this.pageX=null,this.helper=null)},e.prototype.appendHelper=function(){this.helper=this.parent.createElement("div",{className:"e-table-rhelper"}),Ce.isDevice&&this.helper.classList.add("e-reicon"),this.contentModule.getEditPanel().appendChild(this.helper),this.setHelperHeight()},e.prototype.setHelperHeight=function(){var e=this.calcPos(this.curTable);this.resizeBtnStat.column?(this.helper.classList.add("e-column-helper"),this.helper.style.cssText="height: "+getComputedStyle(this.curTable).height+"; top: "+e.top+"px; left:"+(e.left+this.calcPos(this.columnEle).left-1)+"px;"):(this.helper.classList.add("e-row-helper"),this.helper.style.cssText="width: "+getComputedStyle(this.curTable).width+"; top: "+(this.calcPos(this.rowEle).top+e.top+this.rowEle.offsetHeight)+"px; left:"+(this.calcPos(this.rowEle).left+e.left)+"px;")},e.prototype.updateHelper=function(){var e=this.calcPos(this.curTable);if(this.resizeBtnStat.column){var t=e.left+this.calcPos(this.columnEle).left-1;this.helper.style.left=t+"px"}else{var n=this.calcPos(this.rowEle).top+e.top+this.rowEle.offsetHeight;this.helper.style.top=n+"px"}},e.prototype.calMaxCol=function(e){for(var t,n=0,i=0;i<e.rows.length;i++)n<e.rows[i].cells.length&&(t=i,n=e.rows[i].cells.length);return t},e.prototype.resizing=function(e){var t=this,n=this.getPointX(e),i=this.getPointY(e),o=this.parent.enableRtl?-(n-this.pageX):n-this.pageX,r=this.parent.enableRtl?-(i-this.pageY):i-this.pageY;this.pageX=n,this.pageY=i;var s={event:e,requestType:"table"};this.parent.trigger("resizing",s,(function(n){if(n.cancel)t.cancelResizeAction();else{var i=t.contentModule.getEditPanel().querySelector(".e-table-box"),s=parseInt(getComputedStyle(t.curTable).width,10),a=parseInt(getComputedStyle(t.curTable).height,10),l=+getComputedStyle(t.contentModule.getEditPanel()).paddingRight.match(/\d/g).join(""),c=t.contentModule.getEditPanel().offsetWidth-(t.contentModule.getEditPanel().offsetWidth-t.contentModule.getEditPanel().clientWidth)-2*l;if(t.resizeBtnStat.column){for(var h=t.curTable.rows[t.calMaxCol(t.curTable)].cells,d=parseFloat(t.columnEle.offsetWidth.toString())-o,p=parseFloat(t.columnEle.offsetWidth.toString())+parseFloat(h[t.colIndex-1].offsetWidth.toString()),u=0;u<t.curTable.rows.length;u++)if(p-d>20&&d>20){var m=p-d,f=d;E(t.curTable.rows[u].cells[t.colIndex-1])||(t.curTable.rows[u].cells[t.colIndex-1].style.width=t.convertPixelToPercentage(m,s)+"%"),E(t.curTable.rows[u].cells[t.colIndex])||(t.curTable.rows[u].cells[t.colIndex].style.width=t.convertPixelToPercentage(f,s)+"%")}t.updateHelper()}else if(t.resizeBtnStat.row){t.parent.preventDefaultResize(e);var g=parseFloat(t.rowEle.clientHeight.toString())+r;g>20&&(t.rowEle.style.height=g+"px"),t.curTable.style.height="",E(i)||(i.style.cssText="top: "+(t.calcPos(t.curTable).top+a-4)+"px; left:"+(t.calcPos(t.curTable).left+s-4)+"px;"),t.updateHelper()}else if(t.resizeBtnStat.tableBox){Ce.isDevice||we.remove(t.contentModule.getEditPanel(),"mouseover",t.resizeHelper);var v=t.curTable.style.width.indexOf("%")>-1;t.curTable.style.width=v?t.convertPixelToPercentage(s+o,c)+"%":s+o+"px",t.curTable.style.height=a+r+"px",i.classList.add("e-rbox-select"),i.style.cssText="top: "+(t.calcPos(t.curTable).top+a-4)+"px; left:"+(t.calcPos(t.curTable).left+s-4)+"px;"}}}))},e.prototype.convertPixelToPercentage=function(e,t){return e/t*100},e.prototype.cancelResizeAction=function(){we.remove(this.contentModule.getDocument(),Ce.touchMoveEvent,this.resizing),we.remove(this.contentModule.getDocument(),Ce.touchEndEvent,this.resizeEnd),this.removeResizeElement()},e.prototype.resizeEnd=function(e){this.resizeBtnInit(),we.remove(this.contentModule.getDocument(),Ce.touchMoveEvent,this.resizing),we.remove(this.contentModule.getDocument(),Ce.touchEndEvent,this.resizeEnd),this.contentModule.getEditPanel().querySelector(".e-table-box")&&this.contentModule.getEditPanel().contains(this.contentModule.getEditPanel().querySelector(".e-table-box"))&&(Ce.isDevice||we.add(this.contentModule.getEditPanel(),"mouseover",this.resizeHelper,this),this.removeResizeElement(),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&(Oe(this.helper),this.helper=null),this.pageX=null,this.pageY=null,this.moveEle=null);var t={event:e,requestType:"table"};this.parent.trigger("resizeStop",t),this.parent.formatter.saveData()},e.prototype.resizeBtnInit=function(){return this.resizeBtnStat={column:!1,row:!1,tableBox:!1}},e.prototype.addRow=function(e,t,n){var i;n&&(i={item:{command:"Table",subCommand:"InsertRowAfter"}});var o={selection:e,subCommand:n?i.item.subCommand:t.item.subCommand};this.parent.formatter.process(this.parent,n?i:t,t,o)},e.prototype.addColumn=function(e,t){this.parent.formatter.process(this.parent,t,t,{selection:e,width:this.parent.tableSettings.width,subCommand:t.item.subCommand})},e.prototype.removeRowColumn=function(e,t){this.parent.formatter.process(this.parent,t,t,{selection:e,subCommand:t.item.subCommand}),this.hideTableQuickToolbar()},e.prototype.removeTable=function(e,t,n){var i;n&&(i={item:{command:"Table",subCommand:"TableRemove"}});var o={selection:e,subCommand:n?i.item.subCommand:t.item.subCommand};this.parent.formatter.process(this.parent,n?i:t,t.originalEvent,o),this.contentModule.getEditPanel().focus(),this.removeResizeElement(),this.hideTableQuickToolbar()},e.prototype.renderDlgContent=function(e){var t=this;if(Ce.isDevice||this.parent.inlineMode.enable)this.insertTableDialog(e);else if(this.popupObj)this.popupObj.hide();else{this.hideTableQuickToolbar();var n=this.l10n.getConstant("inserttablebtn");this.dlgDiv=this.parent.createElement("div",{className:"e-rte-table-popup",id:this.rteID+"_table"}),this.tblHeader=this.parent.createElement("div",{className:"e-rte-popup-header"}),this.tblHeader.innerHTML="1X1",this.dlgDiv.appendChild(this.tblHeader);var i=this.parent.createElement("div",{className:"e-rte-table-span"});this.drawTable(i,e),this.dlgDiv.appendChild(i),this.dlgDiv.appendChild(this.parent.createElement("span",{className:"e-span-border"}));var o=this.parent.createElement("button",{className:"e-insert-table-btn",id:this.rteID+"_insertTable",attrs:{type:"button",tabindex:"0"}});E(this.parent.getToolbarElement().querySelector(".e-expended-nav"))||this.parent.getToolbarElement().querySelector(".e-expended-nav").setAttribute("tabindex","1"),this.dlgDiv.appendChild(o),this.createTableButton=new Za({iconCss:"e-icons e-create-table",content:n,cssClass:"e-flat "+this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.createTableButton.isStringTemplate=!0,this.createTableButton.appendTo(o),we.add(o,"click",this.insertTableDialog,{self:this,args:e.args,selection:e.selection}),this.parent.getToolbar().appendChild(this.dlgDiv);var r=e.args.originalEvent.target;r=r.classList.contains("e-toolbar-item")?r.firstChild:r.parentElement,this.popupObj=new vi(this.dlgDiv,{targetType:"relative",relateTo:r,collision:{X:"fit",Y:"none"},offsetY:8,viewPortElement:this.parent.element,position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl,zIndex:10001,close:function(e){t.parent.isBlur=!1,t.popupObj.destroy(),Oe(t.popupObj.element),t.popupObj=null}}),ke([this.popupObj.element],"e-popup-open"),E(this.parent.cssClass)||ke([this.popupObj.element],this.parent.cssClass),this.popupObj.refreshPosition(r)}},e.prototype.docClick=function(e){var t=e.args.target;t&&t.classList&&(this.popupObj&&!Ie(t,"[id='"+this.popupObj.element.id+"']")||this.editdlgObj&&!Ie(t,"#"+this.editdlgObj.element.id))&&!t.classList.contains("e-create-table")&&t.offsetParent&&!t.offsetParent.classList.contains("e-rte-backgroundcolor-dropdown")&&(this.popupObj&&this.popupObj.hide(),this.editdlgObj&&this.editdlgObj.hide(),this.parent.isBlur=!0,Na(this.parent.element,"focusout"));var n=Ie(t,"td"),i=!(!n||!this.parent.contentModule.getEditPanel().contains(n));!t||"TD"===t.tagName||"TH"===t.tagName||i||null!==Ie(t,".e-rte-quick-popup")||!t.offsetParent||t.offsetParent.classList.contains("e-quick-dropdown")||t.offsetParent.classList.contains("e-rte-backgroundcolor-dropdown")||Ie(t,".e-rte-dropdown-popup")||Ie(t,".e-rte-elements")||(Te(this.parent.element.querySelectorAll("table td"),ar),Ce.isIE||this.hideTableQuickToolbar()),!t||!t.classList||t.classList.contains(hr)||t.classList.contains(dr)||t.classList.contains(pr)||this.removeResizeElement()},e.prototype.drawTable=function(e,t){for(var n,i,o=0;o<3;o++){n=this.parent.createElement("div",{className:"e-rte-table-row",attrs:{"data-column":""+o}});for(var r=0;r<10;r++){var s=o>2?"none":"inline-block";i=this.parent.createElement("div",{className:"e-rte-tablecell e-default",attrs:{"data-cell":""+r}}),n.appendChild(i),i.style.display=s,0===r&&0===o&&ke([i],"e-active"),we.add(i,"mousemove",this.tableCellSelect,this),we.add(n,"mouseleave",this.tableCellLeave,this),we.add(i,"mouseup",this.tableCellClick,{self:this,args:t.args,selection:t.selection})}e.appendChild(n)}},e.prototype.editTable=function(e){var t=this;this.createDialog(e);var n=this.tableDlgContent(e),i=this.l10n.getConstant("dialogUpdate"),o=this.l10n.getConstant("dialogCancel"),r=this.l10n.getConstant("tableEditHeader");this.editdlgObj.setProperties({height:"initial",width:"290px",content:n,header:r,buttons:[{click:this.applyProperties.bind(this,e),buttonModel:{content:i,cssClass:"e-flat e-size-update",isPrimary:!0}},{click:function(e){t.cancelDialog(e)},buttonModel:{cssClass:"e-flat e-cancel",content:o}}],cssClass:this.parent.cssClass}),this.editdlgObj.element.style.maxHeight="none",this.editdlgObj.content.querySelector("input").focus(),this.hideTableQuickToolbar()},e.prototype.insertTableDialog=function(e){var t=this.self?this.self:this;t.popupObj&&t.popupObj.hide(),t.createDialog(e);var n=t.tableCellDlgContent(),i=t.l10n.getConstant("dialogInsert"),o=t.l10n.getConstant("dialogCancel");E(t.editdlgObj)||(t.editdlgObj.setProperties({height:"initial",width:"290px",content:n,buttons:[{click:t.customTable.bind(this,e),buttonModel:{content:i,cssClass:"e-flat e-insert-table",isPrimary:!0}},{click:function(e){t.cancelDialog(e)},buttonModel:{cssClass:"e-flat e-cancel",content:o}}]}),E(t.parent.cssClass)||t.editdlgObj.setProperties({cssClass:t.parent.cssClass}),t.editdlgObj.element.style.maxHeight="none",t.editdlgObj.content.querySelector("input").focus())},e.prototype.tableCellDlgContent=function(){var e=this.l10n.getConstant("columns"),t=this.l10n.getConstant("rows"),n=this.parent.createElement("div",{className:"e-cell-wrap"}),i=La('<div class="e-rte-field"><input type="text"  data-role ="none" id="tableColumn" class="e-table-column"/></div><div class="e-rte-field"><input type="text" data-role ="none" id="tableRow" class="e-table-row" /></div>');return n.appendChild(i),this.columnTextBox=new jd({format:"n0",min:1,value:3,placeholder:e,floatLabelType:"Auto",max:50,enableRtl:this.parent.enableRtl,locale:this.parent.locale,cssClass:this.parent.cssClass}),this.columnTextBox.isStringTemplate=!0,this.columnTextBox.appendTo(n.querySelector("#tableColumn")),this.rowTextBox=new jd({format:"n0",min:1,value:3,placeholder:t,floatLabelType:"Auto",max:50,enableRtl:this.parent.enableRtl,locale:this.parent.locale,cssClass:this.parent.cssClass}),this.rowTextBox.isStringTemplate=!0,this.rowTextBox.appendTo(n.querySelector("#tableRow")),n},e.prototype.clearDialogObj=function(){this.editdlgObj&&(this.editdlgObj.destroy(),Oe(this.editdlgObj.element),this.editdlgObj=null)},e.prototype.createDialog=function(e){var t=this;if(this.editdlgObj)this.editdlgObj.hide({returnValue:!0});else{var n=this.parent.createElement("div",{className:"e-rte-edit-table",id:this.rteID+"_tabledialog"});this.parent.element.appendChild(n);var i=this.l10n.getConstant("dialogInsert"),o=this.l10n.getConstant("dialogCancel"),r={header:this.l10n.getConstant("tabledialogHeader"),cssClass:"e-rte-elements "+this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:Ce.isDevice?"290px":"340px",height:"initial",position:{X:"center",Y:Ce.isDevice?"center":"top"},isModal:Ce.isDevice,buttons:[{buttonModel:{content:i,cssClass:"e-flat e-insert-table",isPrimary:!0}},{click:function(e){t.cancelDialog(e)},buttonModel:{cssClass:"e-flat e-cancel",content:o}}],target:Ce.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(e){t.parent.isBlur=!1,t.editdlgObj.destroy(),Oe(t.editdlgObj.element),t.dialogRenderObj.close(e),t.editdlgObj=null}};this.editdlgObj=this.dialogRenderObj.render(r),this.editdlgObj.appendTo(n),this.quickToolObj&&this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup()}},e.prototype.customTable=function(e,t){var n=this.self?this.self:this;if(n.rowTextBox.value&&n.columnTextBox.value){var i=Ce.isDevice||!E(e.args)&&!E(e.args.originalEvent)&&"insert-table"===e.args.originalEvent.action||n.parent.inlineMode.enable?e:this;n.tableInsert(n.rowTextBox.value,n.columnTextBox.value,t,i)}},e.prototype.cancelDialog=function(e){this.parent.isBlur=!1,this.editdlgObj.hide({returnValue:!0})},e.prototype.applyProperties=function(e,t){var n=this.editdlgObj.element,i=Ie(e.selectNode[0],"table");if(i.style.width=n.querySelector(".e-table-width").value+"px",""!==n.querySelector(".e-cell-padding").value)for(var o=i.querySelectorAll("td"),r=0;r<o.length;r++){var s="";""===o[r].style.padding?s=o[r].getAttribute("style")+" padding:"+n.querySelector(".e-cell-padding").value+"px;":(o[r].style.padding=n.querySelector(".e-cell-padding").value+"px",s=o[r].getAttribute("style")),o[r].setAttribute("style",s)}i.cellSpacing=n.querySelector(".e-cell-spacing").value,E(i.cellSpacing)&&"0"===i.cellSpacing?Te([i],gr):ke([i],gr),this.parent.formatter.saveData(),this.editdlgObj.hide({returnValue:!0})},e.prototype.tableDlgContent=function(e){var t=e.selectParent[0],n=this.l10n.getConstant("tableWidth"),i=this.l10n.getConstant("cellpadding"),o=this.l10n.getConstant("cellspacing"),r=this.parent.createElement("div",{className:"e-table-sizewrap"}),s=Ie(t,"table").getClientRects()[0].width,a=Ie(t,"td").style.padding,l=Ie(t,"table").getAttribute("cellspacing"),c=La('<div class="e-rte-field"><input type="text" data-role ="none" id="tableWidth" class="e-table-width"  /></div><div class="e-rte-field"><input type="text" data-role ="none" id="cellPadding" class="e-cell-padding" /> </div><div class="e-rte-field"><input type="text" data-role ="none" id="cellSpacing" class="e-cell-spacing" /></div>');return r.appendChild(c),this.tableWidthNum=new jd({format:"n0",min:0,value:s,placeholder:n,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableWidthNum.isStringTemplate=!0,this.tableWidthNum.appendTo(r.querySelector("#tableWidth")),this.tableCellPadding=new jd({format:"n0",min:0,value:""!==a?parseInt(a,null):0,placeholder:i,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableCellPadding.isStringTemplate=!0,this.tableCellPadding.appendTo(r.querySelector("#cellPadding")),this.tableCellSpacing=new jd({format:"n0",min:0,value:""===l||E(l)?0:parseInt(l,null),placeholder:o,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableCellSpacing.isStringTemplate=!0,this.tableCellSpacing.appendTo(r.querySelector("#cellSpacing")),r},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.getModuleName=function(){return"table"},e}(),Qm=n(184),Jm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(l,e);var t,n,s,a=c(l);function l(){var e;i(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).customToolbarSettings={items:["Bold","Italic","Undo","Redo","CreateTable","InsertCode"]},e.rteObject=void 0,e.rteValue=void 0,e}return t=l,(n=[{key:"getFormattedContent",value:function(){this.rteValue=this.rteObject.getHtml()}},{key:"render",value:function(){var e=this;return(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{style:{paddingTop:"10px",paddingBottom:"10px"}}),(0,Qm.jsx)(Tc,{ref:function(t){e.rteObject=t},toolbarSettings:this.customToolbarSettings,placeholder:"Type here...",children:(0,Qm.jsx)(wc,{services:[Mu,Gm,$m]})})]})}}])&&o(t.prototype,n),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),l}(e.Component),Zm=Jm,ef=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),o(e),r(e),s(e)}))};Tn("ORg4AjUWIQA/Gnt2VVhhQlFaclhJWHxMYVF2R2FJeFRycF9FaEwgOX1dQl9hSXpTcEVmWn9feHVRQWY="),t.createRoot(document.getElementById("root")).render((0,Qm.jsx)(e.StrictMode,{children:(0,Qm.jsx)(Zm,{})})),ef()}()}();
//# sourceMappingURL=main.d779efcc.js.map